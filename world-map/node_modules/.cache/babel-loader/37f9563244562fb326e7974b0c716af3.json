{"ast":null,"code":"import { markerRendering, convertTileLatLongToPoint, MapLocation } from '../index';\nimport { markerClick, markerMouseMove, markerClusterClick, markerClusterMouseMove } from '../index';\nimport { isNullOrUndefined, createElement } from '@syncfusion/ej2-base';\nimport { getTranslate, convertGeoToPoint, clusterTemplate, marker, markerTemplate, getZoomTranslate } from '../utils/helper';\nimport { getElementByID, mergeSeparateCluster, clusterSeparate, removeElement, getElement, markerColorChoose, markerShapeChoose, calculateZoomLevel, compareZoomFactor, getValueFromObject } from '../utils/helper';\n/**\n * Marker class\n */\n\nvar Marker =\n/** @class */\nfunction () {\n  function Marker(maps) {\n    this.maps = maps;\n    this.trackElements = [];\n    this.sameMarkerData = [];\n  }\n\n  Marker.prototype.markerRender = function (layerElement, layerIndex, factor, type) {\n    var _this = this; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n    var templateFn;\n    var markerCount = 0;\n    var nullCount = 0;\n    var markerTemplateCount = 0;\n    this.maps.translateType = 'marker';\n    var currentLayer = this.maps.layersCollection[layerIndex];\n    this.markerSVGObject = this.maps.renderer.createGroup({\n      id: this.maps.element.id + '_Markers_Group',\n      class: 'GroupElement',\n      style: 'pointer-events: auto;'\n    });\n    var markerTemplateEle = createElement('div', {\n      id: this.maps.element.id + '_LayerIndex_' + layerIndex + '_Markers_Template_Group',\n      className: this.maps.element.id + '_template',\n      styles: 'overflow: hidden; position: absolute;pointer-events: none;' + 'top:' + this.maps.mapAreaRect.y + 'px;' + 'left:' + this.maps.mapAreaRect.x + 'px;' + 'height:' + this.maps.mapAreaRect.height + 'px;' + 'width:' + this.maps.mapAreaRect.width + 'px;'\n    });\n    currentLayer.markerSettings.map(function (markerSettings, markerIndex) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      var markerData = markerSettings.dataSource; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n      Array.prototype.forEach.call(markerData, function (data, dataIndex) {\n        _this.maps.markerNullCount = markerIndex > 0 && dataIndex === 0 ? 0 : _this.maps.markerNullCount;\n        var eventArgs = {\n          cancel: false,\n          name: markerRendering,\n          fill: markerSettings.fill,\n          height: markerSettings.height,\n          width: markerSettings.width,\n          imageUrl: markerSettings.imageUrl,\n          shape: markerSettings.shape,\n          template: markerSettings.template,\n          data: data,\n          maps: _this.maps,\n          marker: markerSettings,\n          border: markerSettings.border,\n          colorValuePath: markerSettings.colorValuePath,\n          shapeValuePath: markerSettings.shapeValuePath,\n          imageUrlValuePath: markerSettings.imageUrlValuePath\n        };\n\n        _this.maps.trigger('markerRendering', eventArgs, function (MarkerArgs) {\n          eventArgs = markerColorChoose(eventArgs, data);\n          eventArgs = markerShapeChoose(eventArgs, data);\n          var lng = !isNullOrUndefined(markerSettings.longitudeValuePath) ? Number(getValueFromObject(data, markerSettings.longitudeValuePath)) : !isNullOrUndefined(data['longitude']) ? parseFloat(data['longitude']) : !isNullOrUndefined(data['Longitude']) ? parseFloat(data['Longitude']) : 0;\n          var lat = !isNullOrUndefined(markerSettings.latitudeValuePath) ? Number(getValueFromObject(data, markerSettings.latitudeValuePath)) : !isNullOrUndefined(data['latitude']) ? parseFloat(data['latitude']) : !isNullOrUndefined(data['Latitude']) ? parseFloat(data['Latitude']) : 0;\n          var offset = markerSettings.offset;\n\n          if (!eventArgs.cancel && markerSettings.visible && !isNullOrUndefined(lng) && !isNullOrUndefined(lat)) {\n            var markerID = _this.maps.element.id + '_LayerIndex_' + layerIndex + '_MarkerIndex_' + markerIndex + '_dataIndex_' + dataIndex;\n            var location_1 = _this.maps.isTileMap ? convertTileLatLongToPoint(new MapLocation(lng, lat), factor, _this.maps.tileTranslatePoint, true) : convertGeoToPoint(lat, lng, factor, currentLayer, _this.maps);\n            var animate = currentLayer.animationDuration !== 0 || isNullOrUndefined(_this.maps.zoomModule); // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n            var translate = _this.maps.isTileMap ? currentLayer.type === 'SubLayer' && isNullOrUndefined(_this.maps.zoomModule) ? location_1 = convertTileLatLongToPoint(new MapLocation(lng, lat), _this.maps.tileZoomLevel, _this.maps.tileTranslatePoint, true) : new Object() : !isNullOrUndefined(_this.maps.zoomModule) && _this.maps.zoomSettings.zoomFactor > 1 ? getZoomTranslate(_this.maps, currentLayer, animate) : getTranslate(_this.maps, currentLayer, animate);\n            var scale = type === 'AddMarker' ? _this.maps.scale : translate['scale'];\n            var transPoint = type === 'AddMarker' ? _this.maps.translatePoint : translate['location'];\n\n            if (eventArgs.template && !isNaN(location_1.x) && !isNaN(location_1.y)) {\n              markerTemplateCount++;\n              markerTemplate(eventArgs, templateFn, markerID, data, markerIndex, markerTemplateEle, location_1, transPoint, scale, offset, _this.maps); // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n              _this.maps.renderReactTemplates();\n            } else if (!eventArgs.template && !isNaN(location_1.x) && !isNaN(location_1.y)) {\n              markerCount++;\n              marker(eventArgs, markerSettings, markerData, dataIndex, location_1, transPoint, markerID, offset, scale, _this.maps, _this.markerSVGObject);\n            }\n          }\n\n          nullCount += !isNaN(lat) && !isNaN(lng) ? 0 : 1;\n          markerTemplateCount += eventArgs.cancel ? 1 : 0;\n          markerCount += eventArgs.cancel ? 1 : 0;\n          _this.maps.markerNullCount = isNullOrUndefined(lng) || isNullOrUndefined(lat) ? _this.maps.markerNullCount + 1 : _this.maps.markerNullCount;\n          var markerDataLength = markerData.length - _this.maps.markerNullCount;\n\n          if (_this.markerSVGObject.childElementCount === markerDataLength - markerTemplateCount - nullCount && type !== 'Template') {\n            layerElement.appendChild(_this.markerSVGObject);\n\n            if (currentLayer.markerClusterSettings.allowClustering) {\n              _this.maps.svgObject.appendChild(_this.markerSVGObject);\n\n              _this.maps.element.appendChild(_this.maps.svgObject);\n\n              if (currentLayer.layerType !== 'OSM' || !_this.maps.zoomSettings.enable) {\n                clusterTemplate(currentLayer, _this.markerSVGObject, _this.maps, layerIndex, _this.markerSVGObject, layerElement, true, false);\n              } else {\n                layerElement.appendChild(_this.markerSVGObject);\n              } // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n              _this.maps.renderReactTemplates();\n            }\n          }\n\n          if (markerTemplateEle.childElementCount === markerData.length - markerCount - nullCount && getElementByID(_this.maps.element.id + '_Secondary_Element')) {\n            getElementByID(_this.maps.element.id + '_Secondary_Element').appendChild(markerTemplateEle);\n\n            if (_this.maps.checkInitialRender) {\n              if (currentLayer.markerClusterSettings.allowClustering) {\n                clusterTemplate(currentLayer, markerTemplateEle, _this.maps, layerIndex, _this.markerSVGObject, layerElement, false, false); // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n                _this.maps.renderReactTemplates();\n              }\n            }\n          }\n        });\n      });\n    });\n  };\n  /**\n   * To find zoom level for individual layers like India, USA.\n   *\n   * @param {number} mapWidth - Specifies the width of the maps\n   * @param {number} mapHeight - Specifies the height of the maps\n   * @param {number} maxZoomFact - Specifies the maximum zoom factor\n   * @returns {number} - Returns the scale factor\n   */\n\n\n  Marker.prototype.calculateIndividualLayerMarkerZoomLevel = function (mapWidth, mapHeight, maxZoomFact) {\n    var latZoom;\n    var lngZoom;\n    var height = Math.abs(this.maps.baseMapBounds.latitude.max - this.maps.baseMapBounds.latitude.min);\n    var width = Math.abs(this.maps.baseMapBounds.longitude.max - this.maps.baseMapBounds.longitude.min);\n    latZoom = Math.floor(Math.log(mapHeight / height));\n    latZoom = latZoom > maxZoomFact ? maxZoomFact : latZoom;\n    lngZoom = Math.floor(Math.log(mapWidth / width));\n    lngZoom = lngZoom > maxZoomFact ? maxZoomFact : lngZoom;\n    var result = Math.min(latZoom, lngZoom);\n    var scaleFactor = Math.min(result, maxZoomFact - 1);\n\n    if (!this.maps.isTileMap) {\n      compareZoomFactor(scaleFactor, this.maps);\n    }\n\n    return scaleFactor;\n  };\n  /**\n   * To calculate center position and factor value dynamically\n   */\n\n\n  Marker.prototype.calculateZoomCenterPositionAndFactor = function (layersCollection) {\n    if (this.maps.zoomSettings.shouldZoomInitially && this.maps.markerModule) {\n      var minLong_1;\n      var maxLat_1;\n      var minLat_1;\n      var maxLong_1;\n      var latZoom = void 0;\n      var lngZoom = void 0;\n      var result = void 0;\n      var zoomLevel = void 0;\n      var centerLat = void 0;\n      var centerLong = void 0;\n      var maxZoomFact = this.maps.zoomSettings.maxZoom;\n      var mapWidth = this.maps.mapAreaRect.width;\n      var mapHeight = this.maps.mapAreaRect.height;\n      this.maps.markerZoomedState = this.maps.markerZoomedState ? this.maps.markerZoomedState : isNullOrUndefined(this.maps.markerZoomFactor) ? !this.maps.markerZoomedState : this.maps.markerZoomFactor > 1 ? this.maps.markerZoomedState : !this.maps.markerZoomedState;\n      this.maps.defaultState = this.maps.markerZoomedState ? !this.maps.markerZoomedState : this.maps.defaultState;\n      Array.prototype.forEach.call(layersCollection, function (currentLayer, layerIndex) {\n        var isMarker = currentLayer.markerSettings.length !== 0;\n\n        if (isMarker) {\n          Array.prototype.forEach.call(currentLayer.markerSettings, function (markerSetting, markerIndex) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var markerData = markerSetting.dataSource; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n            Array.prototype.forEach.call(markerData, function (data, dataIndex) {\n              var latitude = !isNullOrUndefined(data['latitude']) ? parseFloat(data['latitude']) : !isNullOrUndefined(data['Latitude']) ? parseFloat(data['Latitude']) : null;\n              var longitude = !isNullOrUndefined(data['longitude']) ? parseFloat(data['longitude']) : !isNullOrUndefined(data['Longitude']) ? parseFloat(data['Longitude']) : null;\n              minLong_1 = isNullOrUndefined(minLong_1) && dataIndex === 0 ? longitude : minLong_1;\n              maxLat_1 = isNullOrUndefined(maxLat_1) && dataIndex === 0 ? latitude : maxLat_1;\n              minLat_1 = isNullOrUndefined(minLat_1) && dataIndex === 0 ? latitude : minLat_1;\n              maxLong_1 = isNullOrUndefined(maxLong_1) && dataIndex === 0 ? longitude : maxLong_1;\n\n              if (minLong_1 > longitude) {\n                minLong_1 = longitude;\n              }\n\n              if (minLat_1 > latitude) {\n                minLat_1 = latitude;\n              }\n\n              if (maxLong_1 < longitude) {\n                maxLong_1 = longitude;\n              }\n\n              if (maxLat_1 < latitude) {\n                maxLat_1 = latitude;\n              }\n            });\n          });\n        }\n      });\n\n      if (!isNullOrUndefined(minLat_1) && !isNullOrUndefined(minLong_1) && !isNullOrUndefined(maxLong_1) && !isNullOrUndefined(maxLat_1)) {\n        // To find the center position\n        centerLat = (minLat_1 + maxLat_1) / 2;\n        centerLong = (minLong_1 + maxLong_1) / 2;\n        this.maps.markerCenterLatitude = centerLat;\n        this.maps.markerCenterLongitude = centerLong;\n\n        if (isNullOrUndefined(this.maps.markerZoomCenterPoint) || this.maps.markerZoomedState) {\n          this.maps.markerZoomCenterPoint = {\n            latitude: centerLat,\n            longitude: centerLong\n          };\n        }\n\n        var markerFactor = void 0;\n\n        if (this.maps.isTileMap || this.maps.baseMapRectBounds['min']['x'] === 0) {\n          zoomLevel = calculateZoomLevel(minLat_1, maxLat_1, minLong_1, maxLong_1, mapWidth, mapHeight, this.maps);\n\n          if (this.maps.isTileMap) {\n            markerFactor = isNullOrUndefined(this.maps.markerZoomFactor) ? zoomLevel : isNullOrUndefined(this.maps.mapScaleValue) ? zoomLevel : this.maps.mapScaleValue > 1 && this.maps.markerZoomFactor !== 1 ? this.maps.mapScaleValue : zoomLevel;\n          } else {\n            markerFactor = isNullOrUndefined(this.maps.mapScaleValue) ? zoomLevel : Math.floor(this.maps.scale) !== 1 && this.maps.mapScaleValue !== zoomLevel && isNullOrUndefined(this.maps.shouldZoomCurrentFactor) ? this.maps.mapScaleValue : zoomLevel;\n\n            if (markerFactor === this.maps.mapScaleValue && (this.maps.markerZoomFactor === 1 || this.maps.mapScaleValue === 1) && !this.maps.enablePersistence) {\n              markerFactor = zoomLevel;\n            }\n          }\n        } else {\n          zoomLevel = this.calculateIndividualLayerMarkerZoomLevel(mapWidth, mapHeight, maxZoomFact);\n          markerFactor = isNullOrUndefined(this.maps.mapScaleValue) ? zoomLevel : this.maps.mapScaleValue !== zoomLevel ? this.maps.mapScaleValue : zoomLevel;\n        }\n\n        this.maps.markerZoomFactor = markerFactor;\n      }\n    } else {\n      this.maps.markerZoomedState = false;\n\n      if (this.maps.markerZoomFactor > 1) {\n        this.maps.markerCenterLatitude = null;\n        this.maps.markerCenterLongitude = null;\n        this.maps.markerZoomFactor = 1;\n\n        if (!this.maps.enablePersistence) {\n          this.maps.mapScaleValue = 1;\n        }\n      }\n\n      if (this.maps.isTileMap && !this.maps.enablePersistence && this.maps.mapScaleValue <= 1) {\n        this.maps.tileZoomLevel = this.maps.mapScaleValue === 0 ? 1 : this.maps.mapScaleValue;\n\n        if (this.maps.mapScaleValue === 1 && this.maps.markerZoomFactor === 1) {\n          this.maps.tileTranslatePoint.x = 0;\n          this.maps.tileTranslatePoint.y = 0;\n        }\n      }\n    }\n  };\n  /**\n   * To check and trigger marker click event\n   */\n\n\n  Marker.prototype.markerClick = function (e) {\n    var target = e.target.id;\n\n    if (target.indexOf('_LayerIndex_') === -1 || target.indexOf('_cluster_') > 0) {\n      return;\n    }\n\n    var options = this.getMarker(target);\n\n    if (isNullOrUndefined(options)) {\n      return;\n    }\n\n    var eventArgs = {\n      cancel: false,\n      name: markerClick,\n      data: options.data,\n      maps: this.maps,\n      marker: options.marker,\n      target: target,\n      x: e.clientX,\n      y: e.clientY,\n      latitude: options.data['latitude'] || options.data['Latitude'],\n      longitude: options.data['longitude'] || options.data['Longitude'],\n      value: options.data['name']\n    };\n    this.maps.trigger(markerClick, eventArgs);\n  };\n  /**\n   * To check and trigger Cluster click event\n   */\n\n\n  Marker.prototype.markerClusterClick = function (e) {\n    var target = e.target.id;\n\n    if (target.indexOf('_LayerIndex_') === -1 || target.indexOf('_cluster_') === -1) {\n      return;\n    }\n\n    var options = this.getMarker(target);\n\n    if (isNullOrUndefined(options)) {\n      return;\n    }\n\n    if (options.clusterCollection.length > 0 && this.maps.markerClusterExpand) {\n      if (getElement(this.maps.element.id + '_mapsTooltip') && this.maps.mapsTooltipModule.tooltipTargetID.indexOf('_MarkerIndex_') > -1) {\n        removeElement(this.maps.element.id + '_mapsTooltip');\n      }\n\n      if (this.sameMarkerData.length > 0 && !this.maps.markerClusterExpandCheck) {\n        this.maps.markerClusterExpandCheck = true;\n        mergeSeparateCluster(this.sameMarkerData, this.maps, this.markerSVGObject);\n      } else {\n        this.sameMarkerData = options.clusterCollection;\n        this.maps.markerClusterExpandCheck = false;\n        clusterSeparate(this.sameMarkerData, this.maps, this.markerSVGObject, true);\n      }\n    }\n\n    var eventArgs = {\n      cancel: false,\n      name: markerClusterClick,\n      data: options,\n      maps: this.maps,\n      target: target,\n      x: e.clientX,\n      y: e.clientY,\n      latitude: options.data['latitude'] || options.data['Latitude'],\n      longitude: options.data['longitude'] || options.data['Longitude'],\n      markerClusterCollection: options['markCollection']\n    };\n    this.maps.trigger(markerClusterClick, eventArgs);\n  };\n  /**\n   * To get marker from target id\n   *\n   * @param {string} target - Specifies the target\n   * @returns {string} - Returns the string\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n  Marker.prototype.getMarker = function (target) {\n    var id = target.split('_LayerIndex_');\n    var index = parseInt(id[1].split('_')[0], 10);\n    var layer = this.maps.layers[index]; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n    var data; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n    var markCollection = [];\n    var clusterCollection = [];\n    var marker;\n    this.maps.markerClusterExpand = layer.markerClusterSettings.allowClusterExpand;\n\n    if (target.indexOf('_MarkerIndex_') > -1) {\n      var markerIndex = parseInt(id[1].split('_MarkerIndex_')[1].split('_')[0], 10);\n      var dataIndex = parseInt(id[1].split('_dataIndex_')[1].split('_')[0], 10);\n      marker = layer.markerSettings[markerIndex];\n\n      if (!isNaN(markerIndex)) {\n        data = marker.dataSource[dataIndex]; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n        var collection_1 = [];\n\n        if (!marker.template && target.indexOf('_cluster_') > -1 && this.maps.layers[index].markerClusterSettings.allowClusterExpand) {\n          // eslint-disable-next-line @typescript-eslint/no-explicit-any\n          Array.prototype.forEach.call(marker.dataSource, function (location, index) {\n            if (location['latitude'] === data['latitude'] && location['longitude'] === data['longitude']) {\n              collection_1.push({\n                data: data,\n                index: index\n              });\n            }\n          });\n        }\n\n        if (target.indexOf('_cluster_') > -1) {\n          var isClusterSame = false;\n          var clusterElement = document.getElementById(target.indexOf('_datalabel_') > -1 ? target.split('_datalabel_')[0] : target);\n          var indexes = clusterElement.innerHTML.split(',').map(Number);\n          collection_1 = [];\n\n          for (var _i = 0, indexes_1 = indexes; _i < indexes_1.length; _i++) {\n            var i = indexes_1[_i];\n            collection_1.push({\n              data: marker.dataSource[i],\n              index: i\n            });\n            markCollection.push(marker.dataSource[i]);\n          }\n\n          isClusterSame = false;\n          clusterCollection.push({\n            data: collection_1,\n            layerIndex: index,\n            markerIndex: markerIndex,\n            dataIndex: dataIndex,\n            targetClusterIndex: +(target.split('_cluster_')[1].indexOf('_datalabel_') > -1 ? target.split('_cluster_')[1].split('_datalabel_')[0] : target.split('_cluster_')[1]),\n            isClusterSame: isClusterSame\n          });\n        }\n\n        return {\n          marker: marker,\n          data: data,\n          clusterCollection: clusterCollection,\n          markCollection: markCollection\n        };\n      }\n    }\n\n    return null;\n  };\n  /**\n   * To check and trigger marker move event\n   */\n\n\n  Marker.prototype.markerMove = function (e) {\n    var targetId = e.target.id;\n\n    if (targetId.indexOf('_LayerIndex_') === -1 || targetId.indexOf('_cluster_') > 0) {\n      return;\n    }\n\n    var options = this.getMarker(targetId);\n\n    if (isNullOrUndefined(options)) {\n      return;\n    }\n\n    var eventArgs = {\n      cancel: false,\n      name: markerMouseMove,\n      data: options.data,\n      maps: this.maps,\n      target: targetId,\n      x: e.clientX,\n      y: e.clientY\n    };\n    this.maps.trigger(markerMouseMove, eventArgs);\n  };\n  /**\n   * To check and trigger cluster move event\n   */\n\n\n  Marker.prototype.markerClusterMouseMove = function (e) {\n    var targetId = e.target.id;\n\n    if (targetId.indexOf('_LayerIndex_') === -1 || targetId.indexOf('_cluster_') === -1) {\n      return;\n    }\n\n    var options = this.getMarker(targetId);\n\n    if (this.maps.markerClusterExpand) {\n      e.target.setAttribute('style', 'cursor: pointer');\n    }\n\n    if (isNullOrUndefined(options)) {\n      return;\n    }\n\n    var eventArgs = {\n      cancel: false,\n      name: markerClusterMouseMove,\n      data: options.data,\n      maps: this.maps,\n      target: targetId,\n      x: e.clientX,\n      y: e.clientY\n    };\n    this.maps.trigger(markerClusterMouseMove, eventArgs);\n  };\n  /**\n   * Get module name.\n   *\n   * @returns {string} - Returns the module name\n   */\n\n\n  Marker.prototype.getModuleName = function () {\n    return 'Marker';\n  };\n  /**\n   * To destroy the layers.\n   *\n   * @param {Maps} maps - Specifies the instance of the map\n   * @returns {void}\n   * @private\n   */\n\n\n  Marker.prototype.destroy = function (maps) {\n    /**\n     * Destroy method performed here\n     */\n  };\n\n  return Marker;\n}();\n\nexport { Marker };","map":{"version":3,"sources":["C:/Users/vinay/Desktop/world-map-dashboard/world-map/node_modules/@syncfusion/ej2-maps/src/maps/layers/marker.js"],"names":["markerRendering","convertTileLatLongToPoint","MapLocation","markerClick","markerMouseMove","markerClusterClick","markerClusterMouseMove","isNullOrUndefined","createElement","getTranslate","convertGeoToPoint","clusterTemplate","marker","markerTemplate","getZoomTranslate","getElementByID","mergeSeparateCluster","clusterSeparate","removeElement","getElement","markerColorChoose","markerShapeChoose","calculateZoomLevel","compareZoomFactor","getValueFromObject","Marker","maps","trackElements","sameMarkerData","prototype","markerRender","layerElement","layerIndex","factor","type","_this","templateFn","markerCount","nullCount","markerTemplateCount","translateType","currentLayer","layersCollection","markerSVGObject","renderer","createGroup","id","element","class","style","markerTemplateEle","className","styles","mapAreaRect","y","x","height","width","markerSettings","map","markerIndex","markerData","dataSource","Array","forEach","call","data","dataIndex","markerNullCount","eventArgs","cancel","name","fill","imageUrl","shape","template","border","colorValuePath","shapeValuePath","imageUrlValuePath","trigger","MarkerArgs","lng","longitudeValuePath","Number","parseFloat","lat","latitudeValuePath","offset","visible","markerID","location_1","isTileMap","tileTranslatePoint","animate","animationDuration","zoomModule","translate","tileZoomLevel","Object","zoomSettings","zoomFactor","scale","transPoint","translatePoint","isNaN","renderReactTemplates","markerDataLength","length","childElementCount","appendChild","markerClusterSettings","allowClustering","svgObject","layerType","enable","checkInitialRender","calculateIndividualLayerMarkerZoomLevel","mapWidth","mapHeight","maxZoomFact","latZoom","lngZoom","Math","abs","baseMapBounds","latitude","max","min","longitude","floor","log","result","scaleFactor","calculateZoomCenterPositionAndFactor","shouldZoomInitially","markerModule","minLong_1","maxLat_1","minLat_1","maxLong_1","zoomLevel","centerLat","centerLong","maxZoom","markerZoomedState","markerZoomFactor","defaultState","isMarker","markerSetting","markerCenterLatitude","markerCenterLongitude","markerZoomCenterPoint","markerFactor","baseMapRectBounds","mapScaleValue","shouldZoomCurrentFactor","enablePersistence","e","target","indexOf","options","getMarker","clientX","clientY","value","clusterCollection","markerClusterExpand","mapsTooltipModule","tooltipTargetID","markerClusterExpandCheck","markerClusterCollection","split","index","parseInt","layer","layers","markCollection","allowClusterExpand","collection_1","location","push","isClusterSame","clusterElement","document","getElementById","indexes","innerHTML","_i","indexes_1","i","targetClusterIndex","markerMove","targetId","setAttribute","getModuleName","destroy"],"mappings":"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","sourcesContent":["import { markerRendering, convertTileLatLongToPoint, MapLocation } from '../index';\nimport { markerClick, markerMouseMove, markerClusterClick, markerClusterMouseMove } from '../index';\nimport { isNullOrUndefined, createElement } from '@syncfusion/ej2-base';\nimport { getTranslate, convertGeoToPoint, clusterTemplate, marker, markerTemplate, getZoomTranslate } from '../utils/helper';\nimport { getElementByID, mergeSeparateCluster, clusterSeparate, removeElement, getElement, markerColorChoose, markerShapeChoose, calculateZoomLevel, compareZoomFactor, getValueFromObject } from '../utils/helper';\n/**\n * Marker class\n */\nvar Marker = /** @class */ (function () {\n    function Marker(maps) {\n        this.maps = maps;\n        this.trackElements = [];\n        this.sameMarkerData = [];\n    }\n    Marker.prototype.markerRender = function (layerElement, layerIndex, factor, type) {\n        var _this = this;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var templateFn;\n        var markerCount = 0;\n        var nullCount = 0;\n        var markerTemplateCount = 0;\n        this.maps.translateType = 'marker';\n        var currentLayer = this.maps.layersCollection[layerIndex];\n        this.markerSVGObject = this.maps.renderer.createGroup({\n            id: this.maps.element.id + '_Markers_Group',\n            class: 'GroupElement',\n            style: 'pointer-events: auto;'\n        });\n        var markerTemplateEle = createElement('div', {\n            id: this.maps.element.id + '_LayerIndex_' + layerIndex + '_Markers_Template_Group',\n            className: this.maps.element.id + '_template',\n            styles: 'overflow: hidden; position: absolute;pointer-events: none;' +\n                'top:' + this.maps.mapAreaRect.y + 'px;' +\n                'left:' + this.maps.mapAreaRect.x + 'px;' +\n                'height:' + this.maps.mapAreaRect.height + 'px;' +\n                'width:' + this.maps.mapAreaRect.width + 'px;'\n        });\n        currentLayer.markerSettings.map(function (markerSettings, markerIndex) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var markerData = markerSettings.dataSource;\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            Array.prototype.forEach.call(markerData, function (data, dataIndex) {\n                _this.maps.markerNullCount = markerIndex > 0 && dataIndex === 0 ? 0 : _this.maps.markerNullCount;\n                var eventArgs = {\n                    cancel: false, name: markerRendering, fill: markerSettings.fill, height: markerSettings.height,\n                    width: markerSettings.width, imageUrl: markerSettings.imageUrl, shape: markerSettings.shape,\n                    template: markerSettings.template, data: data, maps: _this.maps, marker: markerSettings,\n                    border: markerSettings.border, colorValuePath: markerSettings.colorValuePath,\n                    shapeValuePath: markerSettings.shapeValuePath, imageUrlValuePath: markerSettings.imageUrlValuePath\n                };\n                _this.maps.trigger('markerRendering', eventArgs, function (MarkerArgs) {\n                    eventArgs = markerColorChoose(eventArgs, data);\n                    eventArgs = markerShapeChoose(eventArgs, data);\n                    var lng = (!isNullOrUndefined(markerSettings.longitudeValuePath)) ?\n                        Number(getValueFromObject(data, markerSettings.longitudeValuePath)) : !isNullOrUndefined(data['longitude']) ?\n                        parseFloat(data['longitude']) : !isNullOrUndefined(data['Longitude']) ? parseFloat(data['Longitude']) : 0;\n                    var lat = (!isNullOrUndefined(markerSettings.latitudeValuePath)) ?\n                        Number(getValueFromObject(data, markerSettings.latitudeValuePath)) : !isNullOrUndefined(data['latitude']) ?\n                        parseFloat(data['latitude']) : !isNullOrUndefined(data['Latitude']) ? parseFloat(data['Latitude']) : 0;\n                    var offset = markerSettings.offset;\n                    if (!eventArgs.cancel && markerSettings.visible && !isNullOrUndefined(lng) && !isNullOrUndefined(lat)) {\n                        var markerID = _this.maps.element.id + '_LayerIndex_' + layerIndex + '_MarkerIndex_'\n                            + markerIndex + '_dataIndex_' + dataIndex;\n                        var location_1 = (_this.maps.isTileMap) ? convertTileLatLongToPoint(new MapLocation(lng, lat), factor, _this.maps.tileTranslatePoint, true) : convertGeoToPoint(lat, lng, factor, currentLayer, _this.maps);\n                        var animate = currentLayer.animationDuration !== 0 || isNullOrUndefined(_this.maps.zoomModule);\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        var translate = (_this.maps.isTileMap) ? (currentLayer.type === 'SubLayer' && isNullOrUndefined(_this.maps.zoomModule)) ? location_1 = convertTileLatLongToPoint(new MapLocation(lng, lat), _this.maps.tileZoomLevel, _this.maps.tileTranslatePoint, true) : new Object() :\n                            !isNullOrUndefined(_this.maps.zoomModule) && _this.maps.zoomSettings.zoomFactor > 1 ?\n                                getZoomTranslate(_this.maps, currentLayer, animate) :\n                                getTranslate(_this.maps, currentLayer, animate);\n                        var scale = type === 'AddMarker' ? _this.maps.scale : translate['scale'];\n                        var transPoint = type === 'AddMarker' ? _this.maps.translatePoint : translate['location'];\n                        if (eventArgs.template && (!isNaN(location_1.x) && !isNaN(location_1.y))) {\n                            markerTemplateCount++;\n                            markerTemplate(eventArgs, templateFn, markerID, data, markerIndex, markerTemplateEle, location_1, transPoint, scale, offset, _this.maps);\n                            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                            _this.maps.renderReactTemplates();\n                        }\n                        else if (!eventArgs.template && (!isNaN(location_1.x) && !isNaN(location_1.y))) {\n                            markerCount++;\n                            marker(eventArgs, markerSettings, markerData, dataIndex, location_1, transPoint, markerID, offset, scale, _this.maps, _this.markerSVGObject);\n                        }\n                    }\n                    nullCount += (!isNaN(lat) && !isNaN(lng)) ? 0 : 1;\n                    markerTemplateCount += (eventArgs.cancel) ? 1 : 0;\n                    markerCount += (eventArgs.cancel) ? 1 : 0;\n                    _this.maps.markerNullCount = (isNullOrUndefined(lng) || isNullOrUndefined(lat)) ? _this.maps.markerNullCount + 1 : _this.maps.markerNullCount;\n                    var markerDataLength = markerData.length - _this.maps.markerNullCount;\n                    if (_this.markerSVGObject.childElementCount === (markerDataLength - markerTemplateCount - nullCount) && (type !== 'Template')) {\n                        layerElement.appendChild(_this.markerSVGObject);\n                        if (currentLayer.markerClusterSettings.allowClustering) {\n                            _this.maps.svgObject.appendChild(_this.markerSVGObject);\n                            _this.maps.element.appendChild(_this.maps.svgObject);\n                            if (currentLayer.layerType !== 'OSM' || !_this.maps.zoomSettings.enable) {\n                                clusterTemplate(currentLayer, _this.markerSVGObject, _this.maps, layerIndex, _this.markerSVGObject, layerElement, true, false);\n                            }\n                            else {\n                                layerElement.appendChild(_this.markerSVGObject);\n                            }\n                            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                            _this.maps.renderReactTemplates();\n                        }\n                    }\n                    if (markerTemplateEle.childElementCount === (markerData.length - markerCount - nullCount) && getElementByID(_this.maps.element.id + '_Secondary_Element')) {\n                        getElementByID(_this.maps.element.id + '_Secondary_Element').appendChild(markerTemplateEle);\n                        if (_this.maps.checkInitialRender) {\n                            if (currentLayer.markerClusterSettings.allowClustering) {\n                                clusterTemplate(currentLayer, markerTemplateEle, _this.maps, layerIndex, _this.markerSVGObject, layerElement, false, false);\n                                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                                _this.maps.renderReactTemplates();\n                            }\n                        }\n                    }\n                });\n            });\n        });\n    };\n    /**\n     * To find zoom level for individual layers like India, USA.\n     *\n     * @param {number} mapWidth - Specifies the width of the maps\n     * @param {number} mapHeight - Specifies the height of the maps\n     * @param {number} maxZoomFact - Specifies the maximum zoom factor\n     * @returns {number} - Returns the scale factor\n     */\n    Marker.prototype.calculateIndividualLayerMarkerZoomLevel = function (mapWidth, mapHeight, maxZoomFact) {\n        var latZoom;\n        var lngZoom;\n        var height = Math.abs(this.maps.baseMapBounds.latitude.max - this.maps.baseMapBounds.latitude.min);\n        var width = Math.abs(this.maps.baseMapBounds.longitude.max - this.maps.baseMapBounds.longitude.min);\n        latZoom = Math.floor(Math.log(mapHeight / height));\n        latZoom = (latZoom > maxZoomFact) ? maxZoomFact : latZoom;\n        lngZoom = Math.floor(Math.log(mapWidth / width));\n        lngZoom = (lngZoom > maxZoomFact) ? maxZoomFact : lngZoom;\n        var result = Math.min(latZoom, lngZoom);\n        var scaleFactor = Math.min(result, maxZoomFact - 1);\n        if (!this.maps.isTileMap) {\n            compareZoomFactor(scaleFactor, this.maps);\n        }\n        return scaleFactor;\n    };\n    /**\n     * To calculate center position and factor value dynamically\n     */\n    Marker.prototype.calculateZoomCenterPositionAndFactor = function (layersCollection) {\n        if (this.maps.zoomSettings.shouldZoomInitially && this.maps.markerModule) {\n            var minLong_1;\n            var maxLat_1;\n            var minLat_1;\n            var maxLong_1;\n            var latZoom = void 0;\n            var lngZoom = void 0;\n            var result = void 0;\n            var zoomLevel = void 0;\n            var centerLat = void 0;\n            var centerLong = void 0;\n            var maxZoomFact = this.maps.zoomSettings.maxZoom;\n            var mapWidth = this.maps.mapAreaRect.width;\n            var mapHeight = this.maps.mapAreaRect.height;\n            this.maps.markerZoomedState = this.maps.markerZoomedState ? this.maps.markerZoomedState : isNullOrUndefined(this.maps.markerZoomFactor) ?\n                !this.maps.markerZoomedState : this.maps.markerZoomFactor > 1 ? this.maps.markerZoomedState : !this.maps.markerZoomedState;\n            this.maps.defaultState = this.maps.markerZoomedState ? !this.maps.markerZoomedState : this.maps.defaultState;\n            Array.prototype.forEach.call(layersCollection, function (currentLayer, layerIndex) {\n                var isMarker = currentLayer.markerSettings.length !== 0;\n                if (isMarker) {\n                    Array.prototype.forEach.call(currentLayer.markerSettings, function (markerSetting, markerIndex) {\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        var markerData = markerSetting.dataSource;\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        Array.prototype.forEach.call(markerData, function (data, dataIndex) {\n                            var latitude = !isNullOrUndefined(data['latitude']) ? parseFloat(data['latitude']) :\n                                !isNullOrUndefined(data['Latitude']) ? parseFloat(data['Latitude']) : null;\n                            var longitude = !isNullOrUndefined(data['longitude']) ? parseFloat(data['longitude']) :\n                                !isNullOrUndefined(data['Longitude']) ? parseFloat(data['Longitude']) : null;\n                            minLong_1 = isNullOrUndefined(minLong_1) && dataIndex === 0 ?\n                                longitude : minLong_1;\n                            maxLat_1 = isNullOrUndefined(maxLat_1) && dataIndex === 0 ?\n                                latitude : maxLat_1;\n                            minLat_1 = isNullOrUndefined(minLat_1) && dataIndex === 0 ?\n                                latitude : minLat_1;\n                            maxLong_1 = isNullOrUndefined(maxLong_1) && dataIndex === 0 ?\n                                longitude : maxLong_1;\n                            if (minLong_1 > longitude) {\n                                minLong_1 = longitude;\n                            }\n                            if (minLat_1 > latitude) {\n                                minLat_1 = latitude;\n                            }\n                            if (maxLong_1 < longitude) {\n                                maxLong_1 = longitude;\n                            }\n                            if (maxLat_1 < latitude) {\n                                maxLat_1 = latitude;\n                            }\n                        });\n                    });\n                }\n            });\n            if (!isNullOrUndefined(minLat_1) && !isNullOrUndefined(minLong_1) &&\n                !isNullOrUndefined(maxLong_1) && !isNullOrUndefined(maxLat_1)) {\n                // To find the center position\n                centerLat = (minLat_1 + maxLat_1) / 2;\n                centerLong = (minLong_1 + maxLong_1) / 2;\n                this.maps.markerCenterLatitude = centerLat;\n                this.maps.markerCenterLongitude = centerLong;\n                if (isNullOrUndefined(this.maps.markerZoomCenterPoint) || this.maps.markerZoomedState) {\n                    this.maps.markerZoomCenterPoint = {\n                        latitude: centerLat,\n                        longitude: centerLong\n                    };\n                }\n                var markerFactor = void 0;\n                if (this.maps.isTileMap || this.maps.baseMapRectBounds['min']['x'] === 0) {\n                    zoomLevel = calculateZoomLevel(minLat_1, maxLat_1, minLong_1, maxLong_1, mapWidth, mapHeight, this.maps);\n                    if (this.maps.isTileMap) {\n                        markerFactor = isNullOrUndefined(this.maps.markerZoomFactor) ?\n                            zoomLevel : isNullOrUndefined(this.maps.mapScaleValue) ?\n                            zoomLevel : this.maps.mapScaleValue > 1 && this.maps.markerZoomFactor !== 1 ?\n                            this.maps.mapScaleValue : zoomLevel;\n                    }\n                    else {\n                        markerFactor = isNullOrUndefined(this.maps.mapScaleValue) ? zoomLevel :\n                            (Math.floor(this.maps.scale) !== 1 &&\n                                this.maps.mapScaleValue !== zoomLevel)\n                                &&\n                                    (isNullOrUndefined(this.maps.shouldZoomCurrentFactor))\n                                ? this.maps.mapScaleValue : zoomLevel;\n                        if (((markerFactor === this.maps.mapScaleValue &&\n                            (this.maps.markerZoomFactor === 1 || this.maps.mapScaleValue === 1))\n                            && (!this.maps.enablePersistence))) {\n                            markerFactor = zoomLevel;\n                        }\n                    }\n                }\n                else {\n                    zoomLevel = this.calculateIndividualLayerMarkerZoomLevel(mapWidth, mapHeight, maxZoomFact);\n                    markerFactor = isNullOrUndefined(this.maps.mapScaleValue) ? zoomLevel :\n                        (this.maps.mapScaleValue !== zoomLevel)\n                            ? this.maps.mapScaleValue : zoomLevel;\n                }\n                this.maps.markerZoomFactor = markerFactor;\n            }\n        }\n        else {\n            this.maps.markerZoomedState = false;\n            if (this.maps.markerZoomFactor > 1) {\n                this.maps.markerCenterLatitude = null;\n                this.maps.markerCenterLongitude = null;\n                this.maps.markerZoomFactor = 1;\n                if (!this.maps.enablePersistence) {\n                    this.maps.mapScaleValue = 1;\n                }\n            }\n            if (this.maps.isTileMap && !this.maps.enablePersistence\n                && this.maps.mapScaleValue <= 1) {\n                this.maps.tileZoomLevel = this.maps.mapScaleValue === 0 ? 1 : this.maps.mapScaleValue;\n                if (this.maps.mapScaleValue === 1 && this.maps.markerZoomFactor === 1) {\n                    this.maps.tileTranslatePoint.x = 0;\n                    this.maps.tileTranslatePoint.y = 0;\n                }\n            }\n        }\n    };\n    /**\n     * To check and trigger marker click event\n     */\n    Marker.prototype.markerClick = function (e) {\n        var target = e.target.id;\n        if (target.indexOf('_LayerIndex_') === -1 || target.indexOf('_cluster_') > 0) {\n            return;\n        }\n        var options = this.getMarker(target);\n        if (isNullOrUndefined(options)) {\n            return;\n        }\n        var eventArgs = {\n            cancel: false, name: markerClick, data: options.data, maps: this.maps,\n            marker: options.marker, target: target, x: e.clientX, y: e.clientY,\n            latitude: options.data['latitude'] || options.data['Latitude'],\n            longitude: options.data['longitude'] || options.data['Longitude'],\n            value: options.data['name']\n        };\n        this.maps.trigger(markerClick, eventArgs);\n    };\n    /**\n     * To check and trigger Cluster click event\n     */\n    Marker.prototype.markerClusterClick = function (e) {\n        var target = e.target.id;\n        if (target.indexOf('_LayerIndex_') === -1 || target.indexOf('_cluster_') === -1) {\n            return;\n        }\n        var options = this.getMarker(target);\n        if (isNullOrUndefined(options)) {\n            return;\n        }\n        if ((options.clusterCollection.length > 0 && this.maps.markerClusterExpand)) {\n            if (getElement(this.maps.element.id + '_mapsTooltip') &&\n                this.maps.mapsTooltipModule.tooltipTargetID.indexOf('_MarkerIndex_') > -1) {\n                removeElement(this.maps.element.id + '_mapsTooltip');\n            }\n            if (this.sameMarkerData.length > 0 && !this.maps.markerClusterExpandCheck) {\n                this.maps.markerClusterExpandCheck = true;\n                mergeSeparateCluster(this.sameMarkerData, this.maps, this.markerSVGObject);\n            }\n            else {\n                this.sameMarkerData = options.clusterCollection;\n                this.maps.markerClusterExpandCheck = false;\n                clusterSeparate(this.sameMarkerData, this.maps, this.markerSVGObject, true);\n            }\n        }\n        var eventArgs = {\n            cancel: false, name: markerClusterClick, data: options, maps: this.maps,\n            target: target, x: e.clientX, y: e.clientY,\n            latitude: options.data['latitude'] || options.data['Latitude'], longitude: options.data['longitude'] || options.data['Longitude'],\n            markerClusterCollection: options['markCollection']\n        };\n        this.maps.trigger(markerClusterClick, eventArgs);\n    };\n    /**\n     * To get marker from target id\n     *\n     * @param {string} target - Specifies the target\n     * @returns {string} - Returns the string\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Marker.prototype.getMarker = function (target) {\n        var id = target.split('_LayerIndex_');\n        var index = parseInt(id[1].split('_')[0], 10);\n        var layer = this.maps.layers[index];\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var data;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var markCollection = [];\n        var clusterCollection = [];\n        var marker;\n        this.maps.markerClusterExpand = layer.markerClusterSettings.allowClusterExpand;\n        if (target.indexOf('_MarkerIndex_') > -1) {\n            var markerIndex = parseInt(id[1].split('_MarkerIndex_')[1].split('_')[0], 10);\n            var dataIndex = parseInt(id[1].split('_dataIndex_')[1].split('_')[0], 10);\n            marker = layer.markerSettings[markerIndex];\n            if (!isNaN(markerIndex)) {\n                data = marker.dataSource[dataIndex];\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                var collection_1 = [];\n                if (!marker.template && (target.indexOf('_cluster_') > -1) && (this.maps.layers[index].markerClusterSettings.allowClusterExpand)) {\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    Array.prototype.forEach.call(marker.dataSource, function (location, index) {\n                        if (location['latitude'] === data['latitude'] && location['longitude'] === data['longitude']) {\n                            collection_1.push({ data: data, index: index });\n                        }\n                    });\n                }\n                if ((target.indexOf('_cluster_') > -1)) {\n                    var isClusterSame = false;\n                    var clusterElement = document.getElementById(target.indexOf('_datalabel_') > -1 ? target.split('_datalabel_')[0] : target);\n                    var indexes = clusterElement.innerHTML.split(',').map(Number);\n                    collection_1 = [];\n                    for (var _i = 0, indexes_1 = indexes; _i < indexes_1.length; _i++) {\n                        var i = indexes_1[_i];\n                        collection_1.push({ data: marker.dataSource[i], index: i });\n                        markCollection.push(marker.dataSource[i]);\n                    }\n                    isClusterSame = false;\n                    clusterCollection.push({\n                        data: collection_1, layerIndex: index, markerIndex: markerIndex, dataIndex: dataIndex,\n                        targetClusterIndex: +(target.split('_cluster_')[1].indexOf('_datalabel_') > -1 ? target.split('_cluster_')[1].split('_datalabel_')[0] : target.split('_cluster_')[1]),\n                        isClusterSame: isClusterSame\n                    });\n                }\n                return { marker: marker, data: data, clusterCollection: clusterCollection, markCollection: markCollection };\n            }\n        }\n        return null;\n    };\n    /**\n     * To check and trigger marker move event\n     */\n    Marker.prototype.markerMove = function (e) {\n        var targetId = e.target.id;\n        if (targetId.indexOf('_LayerIndex_') === -1 || targetId.indexOf('_cluster_') > 0) {\n            return;\n        }\n        var options = this.getMarker(targetId);\n        if (isNullOrUndefined(options)) {\n            return;\n        }\n        var eventArgs = {\n            cancel: false, name: markerMouseMove, data: options.data,\n            maps: this.maps, target: targetId, x: e.clientX, y: e.clientY\n        };\n        this.maps.trigger(markerMouseMove, eventArgs);\n    };\n    /**\n     * To check and trigger cluster move event\n     */\n    Marker.prototype.markerClusterMouseMove = function (e) {\n        var targetId = e.target.id;\n        if (targetId.indexOf('_LayerIndex_') === -1 || targetId.indexOf('_cluster_') === -1) {\n            return;\n        }\n        var options = this.getMarker(targetId);\n        if (this.maps.markerClusterExpand) {\n            e.target.setAttribute('style', 'cursor: pointer');\n        }\n        if (isNullOrUndefined(options)) {\n            return;\n        }\n        var eventArgs = {\n            cancel: false, name: markerClusterMouseMove, data: options.data, maps: this.maps,\n            target: targetId, x: e.clientX, y: e.clientY\n        };\n        this.maps.trigger(markerClusterMouseMove, eventArgs);\n    };\n    /**\n     * Get module name.\n     *\n     * @returns {string} - Returns the module name\n     */\n    Marker.prototype.getModuleName = function () {\n        return 'Marker';\n    };\n    /**\n     * To destroy the layers.\n     *\n     * @param {Maps} maps - Specifies the instance of the map\n     * @returns {void}\n     * @private\n     */\n    Marker.prototype.destroy = function (maps) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    return Marker;\n}());\nexport { Marker };\n"]},"metadata":{},"sourceType":"module"}