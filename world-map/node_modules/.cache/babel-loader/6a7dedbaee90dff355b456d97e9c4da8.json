{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\n\n/* eslint-disable @typescript-eslint/no-unused-vars */\n\n/* eslint-disable max-len */\n\n/**\n * Helper functions for maps control\n */\n\n\nimport { createElement, isNullOrUndefined, remove, compile as templateComplier, merge } from '@syncfusion/ej2-base';\nimport { Animation } from '@syncfusion/ej2-base';\nimport { SvgRenderer } from '@syncfusion/ej2-svg-base';\nimport { itemSelection } from '../../index';\nimport { animationComplete } from '../index';\nimport { markerClusterRendering } from '../index';\n/**\n * Maps internal use of `Size` type\n */\n\nvar Size =\n/** @class */\nfunction () {\n  function Size(width, height) {\n    this.width = width;\n    this.height = height;\n  }\n\n  return Size;\n}();\n\nexport { Size };\n/**\n * To find number from string\n *\n * @param {string} value Specifies the value\n * @param {number} containerSize Specifies the container size\n * @returns {number} Returns the number\n * @private\n */\n\nexport function stringToNumber(value, containerSize) {\n  if (value !== null && value !== undefined) {\n    return value.indexOf('%') !== -1 ? containerSize / 100 * parseInt(value, 10) : parseInt(value, 10);\n  }\n\n  return null;\n}\n/**\n * Method to calculate the width and height of the maps\n *\n * @param {Maps} maps Specifies the maps instance\n * @returns {void}\n */\n\nexport function calculateSize(maps) {\n  maps.element.style.height = !isNullOrUndefined(maps.height) ? maps.height : 'auto';\n  maps.element.style.width = !isNullOrUndefined(maps.width) ? maps.width : 'auto';\n  var containerWidth = maps.element.clientWidth;\n  var containerHeight = maps.element.clientHeight;\n  var containerElementWidth = stringToNumber(maps.element.style.width, containerWidth);\n  var containerElementHeight = stringToNumber(maps.element.style.height, containerHeight);\n  var availableSize = new Size(0, 0);\n\n  if (maps.width === '0px' || maps.width === '0%' || maps.height === '0%' || maps.height === '0px') {\n    availableSize = new Size(0, 0);\n  } else {\n    availableSize = new Size(stringToNumber(maps.width, containerWidth) || containerWidth || containerElementWidth || 600, stringToNumber(maps.height, containerHeight) || containerHeight || containerElementHeight || (maps.isDevice ? Math.min(window.innerWidth, window.innerHeight) : 450));\n  }\n\n  return availableSize;\n}\n/**\n * Method to create svg for maps.\n *\n * @param {Maps} maps Specifies the map instance\n * @returns {void}\n */\n\nexport function createSvg(maps) {\n  maps.renderer = new SvgRenderer(maps.element.id);\n  maps.availableSize = calculateSize(maps);\n  maps.svgObject = maps.renderer.createSvg({\n    id: maps.element.id + '_svg',\n    width: maps.availableSize.width,\n    height: maps.availableSize.height\n  });\n\n  if (maps.width === '0px' || maps.width === '0%' || maps.height === '0%' || maps.height === '0px') {\n    maps.svgObject.setAttribute('height', '0');\n    maps.svgObject.setAttribute('width', '0');\n  }\n}\n/**\n * Method to get the mouse position\n *\n * @param {number} pageX - Specifies the pageX.\n * @param {number} pageY - Specifies the pageY.\n * @param {Element} element - Specifies the element.\n * @returns {MapLocation} - Returns the location.\n */\n\nexport function getMousePosition(pageX, pageY, element) {\n  var elementRect = element.getBoundingClientRect();\n  var pageXOffset = element.ownerDocument.defaultView.pageXOffset;\n  var pageYOffset = element.ownerDocument.defaultView.pageYOffset;\n  var clientTop = element.ownerDocument.documentElement.clientTop;\n  var clientLeft = element.ownerDocument.documentElement.clientLeft;\n  var positionX = elementRect.left + pageXOffset - clientLeft;\n  var positionY = elementRect.top + pageYOffset - clientTop;\n  return new MapLocation(pageX - positionX, pageY - positionY);\n}\n/**\n * Method to convert degrees to radians\n *\n * @param {number} deg Specifies the degree value\n * @returns {number} Returns the number\n */\n\nexport function degreesToRadians(deg) {\n  return deg * (Math.PI / 180);\n}\n/**\n * Convert radians to degrees method\n *\n * @param {number} radian Specifies the radian value\n * @returns {number} Returns the number\n */\n\nexport function radiansToDegrees(radian) {\n  return radian * (180 / Math.PI);\n}\n/**\n * Method for converting from latitude and longitude values to points\n *\n * @param {number} latitude - Specifies the latitude.\n * @param {number} longitude - Specifies the longitude.\n * @param {number} factor - Specifies the factor.\n * @param {LayerSettings} layer - Specifies the layer settings.\n * @param {Maps} mapModel - Specifies the maps.\n * @returns {Point} - Returns the point values.\n */\n\nexport function convertGeoToPoint(latitude, longitude, factor, layer, mapModel) {\n  var mapSize = new Size(mapModel.mapAreaRect.width, mapModel.mapAreaRect.height);\n  var x;\n  var y;\n  var value;\n  var lat;\n  var lng;\n  var temp;\n  var longitudeMinMax = mapModel.baseMapBounds.longitude;\n  var latitudeMinMax = mapModel.baseMapBounds.latitude;\n  var latRadian = degreesToRadians(latitude);\n  var lngRadian = degreesToRadians(longitude);\n  var type = mapModel.projectionType;\n  var size = mapModel.isTileMap ? Math.pow(2, 1) * 256 : isNullOrUndefined(factor) ? Math.min(mapSize.width, mapSize.height) : Math.min(mapSize.width, mapSize.height) * factor;\n\n  if (layer.geometryType === 'Normal') {\n    x = isNullOrUndefined(factor) ? longitude : Math.abs((longitude - longitudeMinMax.min) * factor);\n    y = isNullOrUndefined(factor) ? latitude : Math.abs((latitudeMinMax.max - latitude) * factor);\n  } else if (layer.geometryType === 'Geographic') {\n    switch (type) {\n      case 'Mercator':\n        {\n          var pixelOrigin = new Point(size / 2, size / 2);\n          x = pixelOrigin.x + longitude * (size / 360);\n          var sinY = calculateBound(Math.sin(degreesToRadians(latitude)), -0.9999, 0.9999);\n          y = pixelOrigin.y + 0.5 * Math.log((1 + sinY) / (1 - sinY)) * -(size / (2 * Math.PI));\n          break;\n        }\n\n      case 'Winkel3':\n        value = aitoff(lngRadian, latRadian);\n        lng = (value.x + lngRadian / (Math.PI / 2)) / 2;\n        lat = (value.y + latRadian) / 2;\n        break;\n\n      case 'Miller':\n        lng = lngRadian;\n        lat = 1.25 * Math.log(Math.tan(Math.PI / 4 + .4 * latRadian));\n        break;\n\n      case 'Eckert3':\n        temp = Math.sqrt(Math.PI * (4 + Math.PI));\n        lng = 2 / temp * lngRadian * (1 + Math.sqrt(1 - 4 * latRadian * latRadian / (Math.PI * Math.PI)));\n        lat = 4 / temp * latRadian;\n        break;\n\n      case 'AitOff':\n        value = aitoff(lngRadian, latRadian);\n        lng = value.x;\n        lat = value.y;\n        break;\n\n      case 'Eckert5':\n        lng = lngRadian * (1 + Math.cos(latRadian)) / Math.sqrt(2 + Math.PI);\n        lat = 2 * latRadian / Math.sqrt(2 + Math.PI);\n        break;\n\n      case 'Equirectangular':\n        lng = lngRadian;\n        lat = latRadian;\n        break;\n\n      case 'Eckert6':\n        {\n          var epsilon = 1e-6;\n          temp = (1 + Math.PI / 2) * Math.sin(latRadian);\n          var delta = Infinity;\n\n          for (var i = 0; i < 10 && Math.abs(delta) > epsilon; i++) {\n            delta = (latRadian + Math.sin(latRadian) - temp) / (1 + Math.cos(latRadian));\n            latRadian = latRadian - delta;\n          }\n\n          temp = Math.sqrt(2 + Math.PI);\n          lng = lngRadian * (1 + Math.cos(latRadian)) / temp;\n          lat = 2 * latRadian / temp;\n          break;\n        }\n    }\n\n    x = type === 'Mercator' ? x : roundTo(xToCoordinate(mapModel, radiansToDegrees(lng)), 3);\n    y = type === 'Mercator' ? y : -roundTo(yToCoordinate(mapModel, radiansToDegrees(lat)), 3);\n  }\n\n  return new Point(x, y);\n}\n/**\n * Converting tile latitude and longitude to point\n *\n * @param {MapLocation} center Specifies the map center location\n * @param {number} zoomLevel Specifies the zoom level\n * @param {MapLocation} tileTranslatePoint Specifies the tile translate point\n * @param {boolean} isMapCoordinates Specifies the boolean value\n * @returns {MapLocation} Returns the location value\n */\n\nexport function convertTileLatLongToPoint(center, zoomLevel, tileTranslatePoint, isMapCoordinates) {\n  var size = Math.pow(2, zoomLevel) * 256;\n  var x = (center.x + 180) / 360;\n  var sinLatitude = Math.sin(center.y * Math.PI / 180);\n  var y = 0.5 - Math.log((1 + sinLatitude) / (1 - sinLatitude)) / (4 * Math.PI);\n  var pixelX = center.x;\n  var pixelY = center.y;\n\n  if (isMapCoordinates) {\n    pixelX = x * size + 0.5 + tileTranslatePoint.x;\n    pixelY = y * size + 0.5 + tileTranslatePoint.y;\n  }\n\n  return {\n    x: pixelX,\n    y: pixelY\n  };\n}\n/**\n * Method for calculate x point\n *\n * @param {Maps} mapObject - Specifies the maps.\n * @param {number} val - Specifies the value.\n * @returns {number} - Returns the number.\n */\n\nexport function xToCoordinate(mapObject, val) {\n  var longitudeMinMax = mapObject.baseMapBounds.longitude;\n  var totalSize = isNullOrUndefined(mapObject.baseSize) ? mapObject.mapAreaRect.width : mapObject.mapAreaRect.width + Math.abs(mapObject.baseSize.width - mapObject.mapAreaRect.width) / 2;\n  return Math.round(totalSize * (val - longitudeMinMax.min) / (longitudeMinMax.max - longitudeMinMax.min) * 100) / 100;\n}\n/**\n * Method for calculate y point\n *\n * @param {Maps} mapObject - Specifies the maps.\n * @param {number} val - Specifies the value.\n * @returns {number} - Returns the number.\n */\n\nexport function yToCoordinate(mapObject, val) {\n  var latitudeMinMax = mapObject.baseMapBounds.latitude;\n  return Math.round(mapObject.mapAreaRect.height * (val - latitudeMinMax.min) / (latitudeMinMax.max - latitudeMinMax.min) * 100) / 100;\n}\n/**\n * Method for calculate aitoff projection\n *\n * @param {number} x - Specifies the x value.\n * @param {number} y - Specifies the y value.\n * @returns {Point} - Returns the point value.\n */\n\nexport function aitoff(x, y) {\n  var cosy = Math.cos(y);\n  var sincia = sinci(acos(cosy * Math.cos(x /= 2)));\n  return new Point(2 * cosy * Math.sin(x) * sincia, Math.sin(y) * sincia);\n}\n/**\n * Method to round the number\n *\n * @param {number} a - Specifies the a value\n * @param {number} b - Specifies the b value\n * @returns {number} - Returns the number\n */\n\nexport function roundTo(a, b) {\n  var c = Math.pow(10, b);\n  return Math.round(a * c) / c;\n}\n/**\n *\n * @param {number} x - Specifies the x value\n * @returns {number} - Returns the number\n */\n\nexport function sinci(x) {\n  return x / Math.sin(x);\n}\n/**\n *\n * @param {number} a - Specifies the a value\n * @returns {number} - Returns the number\n */\n\nexport function acos(a) {\n  return Math.acos(a);\n}\n/**\n * Method to calculate bound\n *\n * @param {number} value Specifies the value\n * @param {number} min Specifies the minimum value\n * @param {number} max Specifies the maximum value\n * @returns {number} Returns the value\n */\n\nexport function calculateBound(value, min, max) {\n  if (!isNullOrUndefined(min)) {\n    value = Math.max(value, min);\n  }\n\n  if (!isNullOrUndefined(max)) {\n    value = Math.min(value, max);\n  }\n\n  return value;\n}\n/**\n * To trigger the download element\n *\n * @param {string} fileName Specifies the file name\n * @param {ExportType} type Specifies the type\n * @param {string} url Specifies the url\n * @param {boolean} isDownload Specifies whether download a file.\n * @returns {void}\n */\n\nexport function triggerDownload(fileName, type, url, isDownload) {\n  createElement('a', {\n    attrs: {\n      'download': fileName + '.' + type.toLocaleLowerCase(),\n      'href': url\n    }\n  }).dispatchEvent(new MouseEvent(isDownload ? 'click' : 'move', {\n    view: window,\n    bubbles: false,\n    cancelable: true\n  }));\n}\n/**\n * Map internal class for point\n */\n\nvar Point =\n/** @class */\nfunction () {\n  function Point(x, y) {\n    this.x = x;\n    this.y = y;\n  }\n\n  return Point;\n}();\n\nexport { Point };\n/**\n * Map internal class for min and max\n *\n */\n\nvar MinMax =\n/** @class */\nfunction () {\n  function MinMax(min, max) {\n    this.min = min;\n    this.max = max;\n  }\n\n  return MinMax;\n}();\n\nexport { MinMax };\n/**\n * Map internal class locations\n */\n\nvar GeoLocation =\n/** @class */\nfunction () {\n  function GeoLocation(latitude, longitude) {\n    this.latitude = new MinMax(latitude.min, latitude.max);\n    this.longitude = new MinMax(longitude.min, longitude.max);\n  }\n\n  return GeoLocation;\n}();\n\nexport { GeoLocation };\n/**\n * Function to measure the height and width of the text.\n *\n * @param  {string} text Specifies the text\n * @param  {FontModel} font Specifies the font\n * @returns {Size} Returns the size\n * @private\n */\n\nexport function measureText(text, font) {\n  var measureObject = document.getElementById('mapsmeasuretext');\n\n  if (measureObject === null) {\n    measureObject = createElement('text', {\n      id: 'mapsmeasuretext'\n    });\n    document.body.appendChild(measureObject);\n  }\n\n  measureObject.innerHTML = text;\n  measureObject.style.position = 'absolute';\n\n  if (typeof font.size === 'number') {\n    measureObject.style.fontSize = font.size + 'px';\n  } else {\n    measureObject.style.fontSize = font.size;\n  }\n\n  measureObject.style.fontWeight = font.fontWeight;\n  measureObject.style.fontStyle = font.fontStyle;\n  measureObject.style.fontFamily = font.fontFamily;\n  measureObject.style.visibility = 'hidden';\n  measureObject.style.top = '-100';\n  measureObject.style.left = '0';\n  measureObject.style.whiteSpace = 'nowrap'; // For bootstrap line height issue\n\n  measureObject.style.lineHeight = 'normal';\n  return new Size(measureObject.clientWidth, measureObject.clientHeight);\n}\n/**\n * Internal use of text options\n *\n * @private\n */\n\nvar TextOption =\n/** @class */\nfunction () {\n  function TextOption(id, x, y, anchor, text, transform, baseLine) {\n    if (transform === void 0) {\n      transform = '';\n    }\n\n    this.transform = '';\n    this.baseLine = 'auto';\n    this.id = id;\n    this.text = text;\n    this.transform = transform;\n    this.anchor = anchor;\n    this.x = x;\n    this.y = y;\n    this.baseLine = baseLine;\n  }\n\n  return TextOption;\n}();\n\nexport { TextOption };\n/**\n * Internal use of path options\n *\n * @private\n */\n\nvar PathOption =\n/** @class */\nfunction () {\n  function PathOption(id, fill, width, color, fillOpacity, strokeOpacity, dashArray, d) {\n    this.id = id;\n    this['fill-opacity'] = fillOpacity;\n    this['stroke-opacity'] = strokeOpacity;\n    this.fill = fill;\n    this.stroke = color;\n    this['stroke-width'] = width;\n    this['stroke-dasharray'] = dashArray;\n    this.d = d;\n  }\n\n  return PathOption;\n}();\n\nexport { PathOption };\n/** @private */\n\nvar ColorValue =\n/** @class */\nfunction () {\n  function ColorValue(r, g, b) {\n    this.r = r;\n    this.g = g;\n    this.b = b;\n  }\n\n  return ColorValue;\n}();\n\nexport { ColorValue };\n/**\n * Internal use of rectangle options\n *\n * @private\n */\n\nvar RectOption =\n/** @class */\nfunction (_super) {\n  __extends(RectOption, _super);\n\n  function RectOption(id, fill, border, fillOpacity, rect, rx, ry, transform, dashArray) {\n    var _this = _super.call(this, id, fill, border.width, border.color, fillOpacity, border.opacity) || this;\n\n    _this.y = rect.y;\n    _this.x = rect.x;\n    _this.height = rect.height;\n    _this.width = rect.width;\n    _this.rx = rx ? rx : 0;\n    _this.ry = ry ? ry : 0;\n    _this.transform = transform ? transform : '';\n    _this['stroke-dasharray'] = dashArray;\n    _this['fill-opacity'] = fillOpacity;\n    _this['stroke-opacity'] = border.opacity;\n    return _this;\n  }\n\n  return RectOption;\n}(PathOption);\n\nexport { RectOption };\n/**\n * Internal use of circle options\n *\n * @private\n */\n\nvar CircleOption =\n/** @class */\nfunction (_super) {\n  __extends(CircleOption, _super);\n\n  function CircleOption(id, fill, border, fillOpacity, cx, cy, r, dashArray) {\n    var _this = _super.call(this, id, fill, border.width, border.color, fillOpacity, border.opacity, dashArray) || this;\n\n    _this.cy = cy;\n    _this.cx = cx;\n    _this.r = r;\n    _this['stroke-dasharray'] = dashArray;\n    _this['fill-opacity'] = fillOpacity;\n    _this['stroke-opacity'] = border.opacity;\n    return _this;\n  }\n\n  return CircleOption;\n}(PathOption);\n\nexport { CircleOption };\n/**\n * Internal use of polygon options\n *\n * @private\n */\n\nvar PolygonOption =\n/** @class */\nfunction (_super) {\n  __extends(PolygonOption, _super);\n\n  function PolygonOption(id, points, fill, width, color, fillOpacity, strokeOpacity, dashArray) {\n    if (fillOpacity === void 0) {\n      fillOpacity = 1;\n    }\n\n    if (strokeOpacity === void 0) {\n      strokeOpacity = 1;\n    }\n\n    if (dashArray === void 0) {\n      dashArray = '';\n    }\n\n    var _this = _super.call(this, id, fill, width, color, fillOpacity, strokeOpacity, dashArray) || this;\n\n    _this.points = points;\n    return _this;\n  }\n\n  return PolygonOption;\n}(PathOption);\n\nexport { PolygonOption };\n/**\n * Internal use of polyline options\n *\n * @private\n */\n\nvar PolylineOption =\n/** @class */\nfunction (_super) {\n  __extends(PolylineOption, _super);\n\n  function PolylineOption(id, points, fill, width, color, fillOpacity, strokeOpacity, dashArray) {\n    if (fillOpacity === void 0) {\n      fillOpacity = 1;\n    }\n\n    if (strokeOpacity === void 0) {\n      strokeOpacity = 1;\n    }\n\n    if (dashArray === void 0) {\n      dashArray = '';\n    }\n\n    return _super.call(this, id, points, fill, width, color, fillOpacity, strokeOpacity, dashArray) || this;\n  }\n\n  return PolylineOption;\n}(PolygonOption);\n\nexport { PolylineOption };\n/**\n * Internal use of line options\n *\n * @private\n */\n\nvar LineOption =\n/** @class */\nfunction (_super) {\n  __extends(LineOption, _super);\n\n  function LineOption(id, line, fill, width, color, fillOpacity, strokeOpacity, dashArray) {\n    if (fillOpacity === void 0) {\n      fillOpacity = 1;\n    }\n\n    if (strokeOpacity === void 0) {\n      strokeOpacity = 1;\n    }\n\n    if (dashArray === void 0) {\n      dashArray = '';\n    }\n\n    var _this = _super.call(this, id, fill, width, color, fillOpacity, strokeOpacity, dashArray) || this;\n\n    _this.x1 = line.x1;\n    _this.y1 = line.y1;\n    _this.x2 = line.x2;\n    _this.y2 = line.y2;\n    return _this;\n  }\n\n  return LineOption;\n}(PathOption);\n\nexport { LineOption };\n/**\n * Internal use of line\n *\n * @property {number} Line - Specifies the line class\n */\n\nvar Line =\n/** @class */\nfunction () {\n  function Line(x1, y1, x2, y2) {\n    this.x1 = x1;\n    this.y1 = y1;\n    this.x2 = x2;\n    this.y2 = y2;\n  }\n\n  return Line;\n}();\n\nexport { Line };\n/**\n * Internal use of map location type\n *\n */\n\nvar MapLocation =\n/** @class */\nfunction () {\n  function MapLocation(x, y) {\n    this.x = x;\n    this.y = y;\n  }\n\n  return MapLocation;\n}();\n\nexport { MapLocation };\n/**\n * Internal use of type rect\n *\n * @private\n */\n\nvar Rect =\n/** @class */\nfunction () {\n  function Rect(x, y, width, height) {\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n  }\n\n  return Rect;\n}();\n\nexport { Rect };\n/**\n * Internal use for pattern creation.\n *\n * @property {PatternOptions} PatternOptions - Specifies the pattern option class.\n */\n\nvar PatternOptions =\n/** @class */\nfunction () {\n  function PatternOptions(id, x, y, width, height, patternUnits, patternContentUnits, patternTransform, href) {\n    if (patternUnits === void 0) {\n      patternUnits = 'userSpaceOnUse';\n    }\n\n    if (patternContentUnits === void 0) {\n      patternContentUnits = 'userSpaceOnUse';\n    }\n\n    if (patternTransform === void 0) {\n      patternTransform = '';\n    }\n\n    if (href === void 0) {\n      href = '';\n    }\n\n    this.id = id;\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n    this.patternUnits = patternUnits;\n    this.patternContentUnits = patternContentUnits;\n    this.patternTransform = patternTransform;\n    this.href = href;\n  }\n\n  return PatternOptions;\n}();\n\nexport { PatternOptions };\n/**\n * Internal rendering of text\n *\n * @param {TextOption} option Specifies the text option\n * @param {FontModel} style Specifies the style\n * @param {string} color Specifies the color\n * @param {HTMLElement | Element} parent Specifies the parent element\n * @param {boolean} isMinus Specifies the boolean value\n * @returns {Element} Returns the html object\n * @private\n */\n\nexport function renderTextElement(option, style, color, parent, isMinus) {\n  if (isMinus === void 0) {\n    isMinus = false;\n  } // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n  var renderOptions = {\n    'id': option.id,\n    'x': option.x,\n    'y': option.y,\n    'fill': color,\n    'font-size': style.size,\n    'font-style': style.fontStyle,\n    'font-family': style.fontFamily,\n    'font-weight': style.fontWeight,\n    'text-anchor': option.anchor,\n    'transform': option.transform,\n    'opacity': style.opacity,\n    'dominant-baseline': option.baseLine\n  };\n  var text = typeof option.text === 'string' || typeof option.text === 'number' ? option.text : isMinus ? option.text[option.text.length - 1] : option.text[0];\n  var tspanElement;\n  var renderer = new SvgRenderer('');\n  var height;\n  var htmlObject = renderer.createText(renderOptions, text);\n  htmlObject.style['user-select'] = 'none';\n  htmlObject.style['font-family'] = style.fontFamily;\n  htmlObject.style['font-size'] = style.size;\n  htmlObject.style['font-weight'] = style.fontWeight;\n  htmlObject.style['font-color'] = style.color;\n  htmlObject.style['-moz-user-select'] = 'none';\n  htmlObject.style['-webkit-touch-callout'] = 'none';\n  htmlObject.style['-webkit-user-select'] = 'none';\n  htmlObject.style['-khtml-user-select'] = 'none';\n  htmlObject.style['-ms-user-select'] = 'none';\n  htmlObject.style['-o-user-select'] = 'none';\n\n  if (typeof option.text !== 'string' && option.text.length > 1) {\n    for (var i = 1, len = option.text.length; i < len; i++) {\n      height = measureText(option.text[i], style).height;\n      tspanElement = renderer.createTSpan({\n        'x': option.x,\n        'id': option.id,\n        'y': option.y + (isMinus ? -(i * height) : i * height)\n      }, isMinus ? option.text[option.text.length - (i + 1)] : option.text[i]);\n      htmlObject.appendChild(tspanElement);\n    }\n  }\n\n  parent.appendChild(htmlObject);\n  return htmlObject;\n}\n/**\n * @param {HTMLCollection} element Specifies the html collection\n * @param {string} markerId Specifies the marker id\n * @param {any} data Specifies the data\n * @param {number} index Specifies the index\n * @param {Maps} mapObj Specifies the map object\n * @returns {HTMLCollection} Returns the html collection\n * @private\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\nexport function convertElement(element, markerId, data, index, mapObj) {\n  var childElement = createElement('div', {\n    id: markerId,\n    styles: 'position: absolute;pointer-events: auto;'\n  });\n  var elementLength = element.length;\n\n  while (elementLength > 0) {\n    childElement.appendChild(element[0]);\n    elementLength--;\n  }\n\n  var templateHtml = childElement.innerHTML;\n  var templateSplitValue;\n  var properties = Object.keys(data);\n\n  for (var i = 0; i < properties.length; i++) {\n    if (typeof data[properties[i]] === 'object') {\n      templateHtml = convertStringToValue(templateHtml, '', data, mapObj); // eslint-disable-next-line @typescript-eslint/ban-types\n    } else if (properties[i].toLowerCase() !== 'latitude' && properties[i].toLowerCase() !== 'longitude') {\n      templateHtml = templateHtml.replace(new RegExp('{{:' + properties[i] + '}}', 'g'), data[properties[i].toString()]);\n    }\n  }\n\n  childElement.innerHTML = templateHtml;\n  return childElement;\n}\n/**\n *\n * @param {string} value - Specifies the value\n * @param {Maps} maps - Specifies the instance of the maps\n * @returns {string} - Returns the string value\n */\n\nexport function formatValue(value, maps) {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  var formatValue;\n  var formatFunction;\n\n  if (maps.format && !isNaN(Number(value))) {\n    formatFunction = maps.intl.getNumberFormat({\n      format: maps.format,\n      useGrouping: maps.useGroupingSeparator\n    });\n    formatValue = formatFunction(Number(value));\n  } else {\n    formatValue = value;\n  }\n\n  return formatValue;\n}\n/**\n *\n * @param {string} stringTemplate - Specifies the template\n * @param {string} format - Specifies the format\n * @param {any} data - Specifies the data\n * @param {Maps} maps - Specifies the instance of the maps\n * @returns {string} - Returns the string value\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\nexport function convertStringToValue(stringTemplate, format, data, maps) {\n  var templateHtml = stringTemplate === '' ? format : stringTemplate;\n  var templateValue = stringTemplate === '' ? templateHtml.split('${') : templateHtml.split('{{:');\n\n  for (var i = 0; i < templateValue.length; i++) {\n    if (templateValue[i].indexOf('}}') > -1 && templateValue[i].indexOf('.') > -1 || templateValue[i].indexOf('}') > -1 && templateValue[i].search('.') > -1) {\n      var split = stringTemplate === '' ? templateValue[i].split('}') : templateValue[i].split('}}');\n\n      for (var j = 0; j < split.length; j++) {\n        if (split[j].indexOf('.') > -1) {\n          var templateSplitValue = getValueFromObject(data, split[j]).toString();\n          templateHtml = stringTemplate === '' ? templateHtml.split('${' + split[j] + '}').join(formatValue(templateSplitValue, maps)) : templateHtml.replace(new RegExp('{{:' + split[j] + '}}', 'g'), templateSplitValue);\n        }\n      }\n    }\n  }\n\n  return templateHtml;\n}\n/**\n *\n * @param {Element} element - Specifies the element\n * @param {string} labelId - Specifies the label id\n * @param {any} data - Specifies the data\n * @param {number} index - Specifies the index\n * @param {Maps} mapObj - Specifies the map object\n * @returns {HTMLElement} - Returns the html element\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\nexport function convertElementFromLabel(element, labelId, data, index, mapObj) {\n  var labelEle = isNullOrUndefined(element.childElementCount) ? element[0] : element;\n  var templateHtml = labelEle.outerHTML; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n  var properties = Object.keys(data);\n\n  for (var i = 0; i < properties.length; i++) {\n    // eslint-disable-next-line @typescript-eslint/ban-types\n    templateHtml = templateHtml.replace(new RegExp('{{:' + properties[i] + '}}', 'g'), data[properties[i].toString()]);\n  }\n\n  return createElement('div', {\n    id: labelId,\n    innerHTML: templateHtml,\n    styles: 'position: absolute'\n  });\n}\n/**\n *\n * @param {MarkerType} shape - Specifies the shape\n * @param {string} imageUrl - Specifies the image url\n * @param {Point} location - Specifies the location\n * @param {string} markerID - Specifies the marker id\n * @param {any} shapeCustom - Specifies the shape custom\n * @param {Element} markerCollection - Specifies the marker collection\n * @param {Maps} maps - Specifies the instance of the maps\n * @returns {Element} - Returns the element\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\nexport function drawSymbols(shape, imageUrl, location, markerID, shapeCustom, markerCollection, maps) {\n  var markerEle;\n  var x;\n  var y;\n  var size = shapeCustom['size'];\n  var borderColor = shapeCustom['borderColor'];\n  var borderWidth = parseFloat(shapeCustom['borderWidth']);\n  var borderOpacity = parseFloat(shapeCustom['borderOpacity']);\n  var fill = shapeCustom['fill'];\n  var dashArray = shapeCustom['dashArray']; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n  var border = {\n    color: borderColor,\n    width: borderWidth,\n    opacity: borderOpacity\n  };\n  var opacity = shapeCustom['opacity'];\n  var padding = 5;\n  var rectOptions;\n  var pathOptions = new PathOption(markerID, fill, borderWidth, borderColor, opacity, borderOpacity, dashArray, '');\n\n  if (shape === 'Circle') {\n    var radius = (size.width + size.height) / 4;\n    var circleOptions = new CircleOption(markerID, fill, border, opacity, location.x, location.y, radius, dashArray);\n    markerEle = maps.renderer.drawCircle(circleOptions);\n  } else if (shape === 'Rectangle') {\n    x = location.x - size.width / 2;\n    y = location.y - size.height / 2;\n    rectOptions = new RectOption(markerID, fill, border, opacity, new Rect(x, y, size.width, size.height), null, null, '', dashArray);\n    markerEle = maps.renderer.drawRectangle(rectOptions);\n  } else if (shape === 'Image') {\n    x = location.x - size.width / 2;\n    y = location.y - size.height;\n    merge(pathOptions, {\n      'href': imageUrl,\n      'height': size.height,\n      'width': size.width,\n      x: x,\n      y: y\n    });\n    markerEle = maps.renderer.drawImage(pathOptions);\n  } else {\n    markerEle = calculateShapes(maps, shape, pathOptions, size, location, markerCollection);\n  }\n\n  return markerEle;\n}\n/**\n *\n * @param {any} data - Specifies the data\n * @param {string} value - Specifies the value\n * @returns {any} - Returns the data\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\nexport function getValueFromObject(data, value) {\n  if (!isNullOrUndefined(data) && !isNullOrUndefined(value)) {\n    var splits = value.replace(/\\[/g, '.').replace(/\\]/g, '').split('.');\n\n    if (splits.length === 1) {\n      data = data[splits[0]];\n    } else {\n      for (var i = 0; i < splits.length && !isNullOrUndefined(data); i++) {\n        data = data[splits[i]];\n      }\n    }\n  }\n\n  return data;\n}\n/**\n *\n * @param {IMarkerRenderingEventArgs} eventArgs - Specifies the event arguments\n * @param {any} data - Specifies the data\n * @returns {IMarkerRenderingEventArgs} - Returns the arguments\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\nexport function markerColorChoose(eventArgs, data) {\n  var color = !isNullOrUndefined(eventArgs.colorValuePath) ? eventArgs.colorValuePath.indexOf('.') > -1 ? getValueFromObject(data, eventArgs.colorValuePath).toString() : data[eventArgs.colorValuePath] : data[eventArgs.colorValuePath];\n  eventArgs.fill = !isNullOrUndefined(eventArgs.colorValuePath) && !isNullOrUndefined(color) ? eventArgs.colorValuePath.indexOf('.') > -1 ? getValueFromObject(data, eventArgs.colorValuePath).toString() : data[eventArgs.colorValuePath] : eventArgs.fill;\n  return eventArgs;\n}\n/**\n *\n * @param {IMarkerRenderingEventArgs} eventArgs - Specifies the event arguments\n * @param {any} data - Specifies the data\n * @returns {IMarkerRenderingEventArgs} - Returns the arguments\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\nexport function markerShapeChoose(eventArgs, data) {\n  if (!isNullOrUndefined(eventArgs.shapeValuePath) && !isNullOrUndefined(data[eventArgs.shapeValuePath])) {\n    var shape = eventArgs.shapeValuePath.indexOf('.') > -1 ? getValueFromObject(data, eventArgs.shapeValuePath).toString() : data[eventArgs.shapeValuePath];\n    eventArgs.shape = shape.toString() !== \"\" ? shape : eventArgs.shape;\n\n    if (data[eventArgs.shapeValuePath] === 'Image') {\n      eventArgs.imageUrl = !isNullOrUndefined(eventArgs.imageUrlValuePath) ? eventArgs.imageUrlValuePath.indexOf('.') > -1 ? getValueFromObject(data, eventArgs.imageUrlValuePath).toString() : !isNullOrUndefined(data[eventArgs.imageUrlValuePath]) ? data[eventArgs.imageUrlValuePath] : eventArgs.imageUrl : eventArgs.imageUrl;\n    }\n  } else {\n    var shapes = !isNullOrUndefined(eventArgs.shapeValuePath) ? eventArgs.shapeValuePath.indexOf('.') > -1 ? getValueFromObject(data, eventArgs.shapeValuePath).toString() : eventArgs.shape : eventArgs.shape;\n    eventArgs.shape = shapes.toString() !== \"\" ? shapes : eventArgs.shape;\n    var shapeImage = !isNullOrUndefined(eventArgs.imageUrlValuePath) ? eventArgs.imageUrlValuePath.indexOf('.') > -1 ? getValueFromObject(data, eventArgs.imageUrlValuePath).toString() : !isNullOrUndefined(data[eventArgs.imageUrlValuePath]) ? data[eventArgs.imageUrlValuePath] : eventArgs.imageUrl : eventArgs.imageUrl;\n    eventArgs.imageUrl = shapeImage;\n  }\n\n  return eventArgs;\n}\n/**\n *\n * @param {LayerSettings} currentLayer - Specifies the current layer\n * @param {HTMLElement | Element} markerTemplate - Specifies the marker template\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {number} layerIndex - Specifies the layer index\n * @param {Element} markerCollection - Specifies the marker collection\n * @param {Element} layerElement - Specifies the layer element\n * @param {boolean} check - Specifies the boolean value\n * @param {boolean} zoomCheck - Specifies the boolean value\n * @returns {void}\n */\n\nexport function clusterTemplate(currentLayer, markerTemplate, maps, layerIndex, markerCollection, layerElement, check, zoomCheck) {\n  var bounds1;\n  var bounds2;\n  var colloideBounds = [];\n  var clusterColloideBounds = [];\n  var tempX = 0;\n  var tempY = 0; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n  var data;\n  var style = currentLayer.markerClusterSettings.labelStyle;\n  var options;\n  var textElement;\n  var tempElement1; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n  var shapeCustom;\n  var tempElement;\n  var postionY = 15 / 4;\n  var m = 0;\n  var indexCollection = [];\n  var clusters = currentLayer.markerClusterSettings;\n  var clusterGroup = maps.renderer.createGroup({\n    id: maps.element.id + '_LayerIndex_' + layerIndex + '_markerCluster'\n  });\n  var eventArg = {\n    cancel: false,\n    name: markerClusterRendering,\n    fill: clusters.fill,\n    height: clusters.height,\n    width: clusters.width,\n    imageUrl: clusters.imageUrl,\n    shape: clusters.shape,\n    data: data,\n    maps: maps,\n    cluster: clusters,\n    border: clusters.border\n  };\n  maps.trigger('markerClusterRendering', eventArg, function (clusterargs) {\n    for (var o = 0; o < markerTemplate.childElementCount; o++) {\n      indexCollection = [];\n\n      if (markerTemplate.childNodes[o]['style']['visibility'] !== 'hidden') {\n        tempElement = markerTemplate.childNodes[o];\n        bounds1 = tempElement.getBoundingClientRect();\n        indexCollection.push(o);\n\n        if (!isNullOrUndefined(bounds1)) {\n          for (var p = o + 1; p < markerTemplate.childElementCount; p++) {\n            if (markerTemplate.childNodes[p]['style']['visibility'] !== 'hidden') {\n              tempElement = markerTemplate.childNodes[p];\n              bounds2 = tempElement.getBoundingClientRect();\n\n              if (!isNullOrUndefined(bounds2)) {\n                if (!(bounds1.left > bounds2.right || bounds1.right < bounds2.left || bounds1.top > bounds2.bottom || bounds1.bottom < bounds2.top)) {\n                  colloideBounds.push(bounds2);\n                  markerTemplate.childNodes[p]['style']['visibility'] = 'hidden';\n                  indexCollection.push(p);\n                }\n              }\n            }\n          }\n\n          tempX = bounds1.left + bounds1.width / 2;\n          tempY = bounds1.top + bounds1.height;\n\n          if (colloideBounds.length > 0) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            indexCollection = indexCollection.filter(function (item, index, value) {\n              return value.indexOf(item) === index;\n            });\n            var container = maps.element.getBoundingClientRect();\n            tempX = tempX - container['left'];\n            tempY = tempY - (maps.availableSize.height <= container['height'] ? container['top'] : container['bottom'] - container['top']); // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n            var translate = maps.isTileMap ? new Object() : getTranslate(maps, currentLayer, false);\n            var transPoint = maps.isTileMap ? {\n              x: 0,\n              y: 0\n            } : maps.translatePoint.x !== 0 ? maps.translatePoint : translate['location'];\n            var dataIndex = parseInt(markerTemplate.childNodes[o]['id'].split('_dataIndex_')[1].split('_')[0], 10);\n            var markerIndex = parseInt(markerTemplate.childNodes[o]['id'].split('_MarkerIndex_')[1].split('_')[0], 10);\n            var markerSetting = currentLayer.markerSettings[markerIndex]; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n            var markerData = markerSetting.dataSource[dataIndex];\n            var factor = void 0;\n            var location_1 = void 0;\n            var longitude = !isNullOrUndefined(markerSetting.longitudeValuePath) ? Number(getValueFromObject(markerData, markerSetting.longitudeValuePath)) : !isNullOrUndefined(markerData['longitude']) ? parseFloat(markerData['longitude']) : !isNullOrUndefined(markerData['Latitude']) ? parseFloat(markerData['Latitude']) : 0;\n            var latitude = !isNullOrUndefined(markerSetting.latitudeValuePath) ? Number(getValueFromObject(markerData, markerSetting.latitudeValuePath)) : !isNullOrUndefined(markerData['latitude']) ? parseFloat(markerData['latitude']) : !isNullOrUndefined(markerData['Latitude']) ? parseFloat(markerData['Latitude']) : 0;\n\n            if (!maps.isTileMap) {\n              factor = maps.mapLayerPanel.calculateFactor(currentLayer);\n              location_1 = convertGeoToPoint(latitude, longitude, factor, currentLayer, maps);\n            } else if (maps.isTileMap && !maps.zoomSettings.enable) {\n              location_1 = convertTileLatLongToPoint(new Point(longitude, latitude), maps.tileZoomLevel, maps.tileTranslatePoint, true);\n            }\n\n            markerTemplate.childNodes[o]['style']['visibility'] = 'hidden';\n            var clusters_1 = currentLayer.markerClusterSettings;\n\n            if (eventArg.cancel) {\n              shapeCustom = {\n                size: new Size(clusters_1.width, clusters_1.height),\n                fill: clusters_1.fill,\n                borderColor: clusters_1.border.color,\n                borderWidth: clusters_1.border.width,\n                opacity: clusters_1.opacity,\n                dashArray: clusters_1.dashArray\n              };\n              shapeCustom['fill'] = clusters_1.fill;\n              shapeCustom['size']['width'] = clusters_1.width;\n              shapeCustom['size']['height'] = clusters_1.height;\n              shapeCustom['imageUrl'] = clusters_1.imageUrl;\n              shapeCustom['shape'] = clusters_1.shape;\n              shapeCustom['borderColor'] = clusters_1.border.color;\n              shapeCustom['borderWidth'] = clusters_1.border.width;\n              shapeCustom['borderOpacity'] = isNullOrUndefined(clusters_1.border.opacity) ? clusters_1.opacity : clusters_1.border.opacity;\n            } else {\n              shapeCustom = {\n                size: new Size(clusters_1.width, clusters_1.height),\n                fill: clusters_1.fill,\n                borderColor: clusters_1.border.color,\n                borderWidth: clusters_1.border.width,\n                opacity: clusters_1.opacity,\n                dashArray: clusters_1.dashArray\n              };\n              shapeCustom['fill'] = eventArg.fill;\n              shapeCustom['size']['width'] = eventArg.width;\n              shapeCustom['size']['height'] = eventArg.height;\n              shapeCustom['imageUrl'] = eventArg.imageUrl;\n              shapeCustom['shape'] = eventArg.shape;\n              shapeCustom['borderColor'] = eventArg.border.color;\n              shapeCustom['borderWidth'] = eventArg.border.width;\n              shapeCustom['borderOpacity'] = isNullOrUndefined(eventArg.border.opacity) ? clusters_1.opacity : eventArg.border.opacity;\n            }\n\n            tempX = maps.isTileMap ? tempX : markerTemplate.id.indexOf('_Markers_Group') > -1 ? tempX : (location_1.x + transPoint.x + eventArg.width) * maps.mapScaleValue;\n            tempY = maps.isTileMap ? tempY : markerTemplate.id.indexOf('_Markers_Group') > -1 ? tempY : (location_1.y + transPoint.y + eventArg.height / 2) * maps.mapScaleValue;\n\n            if (maps.isTileMap && !maps.zoomSettings.enable) {\n              tempX = location_1.x;\n              tempY = location_1.y;\n            }\n\n            var clusterID = maps.element.id + '_LayerIndex_' + layerIndex + '_MarkerIndex_' + markerIndex + '_dataIndex_' + dataIndex + '_cluster_' + m;\n            var labelID = maps.element.id + '_LayerIndex_' + layerIndex + '_MarkerIndex_' + markerIndex + '_dataIndex_' + dataIndex + '_cluster_' + m + '_datalabel_' + m;\n            m++;\n            var imageShapeY = shapeCustom['shape'] === 'Image' ? shapeCustom['size']['height'] / 2 : 0;\n            var ele = drawSymbols(shapeCustom['shape'], shapeCustom['imageUrl'], {\n              x: 0,\n              y: imageShapeY\n            }, clusterID, shapeCustom, markerCollection, maps);\n            ele.setAttribute('transform', 'translate( ' + tempX + ' ' + tempY + ' )');\n\n            if (eventArg.shape === 'Balloon') {\n              ele.children[0].innerHTML = indexCollection.toString();\n            } else {\n              ele.innerHTML = indexCollection.toString();\n            }\n\n            options = new TextOption(labelID, 0, postionY, 'middle', (colloideBounds.length + 1).toString(), '', '');\n            textElement = renderTextElement(options, style, style.color, markerCollection);\n            textElement.setAttribute('transform', 'translate( ' + tempX + ' ' + tempY + ' )');\n            clusterGroup.appendChild(textElement);\n            clusterGroup.appendChild(ele);\n          }\n        }\n\n        colloideBounds = [];\n      }\n    }\n\n    layerElement.appendChild(clusterGroup);\n    maps.svgObject.appendChild(layerElement);\n    maps.element.appendChild(maps.svgObject);\n\n    for (var o = 0; o < clusterGroup.childElementCount; o++) {\n      if (clusterGroup.childNodes[o]['style']['visibility'] !== 'hidden') {\n        tempElement = clusterGroup.childNodes[o];\n        bounds1 = tempElement.getBoundingClientRect();\n\n        if (!isNullOrUndefined(bounds1) && !(tempElement.id.indexOf('_datalabel_') > -1)) {\n          for (var p = o + 1; p < clusterGroup.childElementCount; p++) {\n            if (clusterGroup.childNodes[p]['style']['visibility'] !== 'hidden') {\n              tempElement1 = clusterGroup.childNodes[p];\n              bounds2 = tempElement1.getBoundingClientRect();\n\n              if (!isNullOrUndefined(bounds2) && !(tempElement1.id.indexOf('_datalabel_') > -1)) {\n                if (!(bounds1.left > bounds2.right || bounds1.right < bounds2.left || bounds1.top > bounds2.bottom || bounds1.bottom < bounds2.top)) {\n                  clusterColloideBounds.push(tempElement1);\n                  clusterColloideBounds.push(clusterGroup.childNodes[p - 1]);\n                  clusterGroup.childNodes[p]['style']['visibility'] = 'hidden';\n                  clusterGroup.childNodes[p - 1]['style']['visibility'] = 'hidden';\n                  indexCollection.push(p);\n                }\n              }\n            }\n          }\n\n          if (clusterColloideBounds.length > 0) {\n            tempElement = clusterGroup.childNodes[o];\n\n            for (var i = 0; i < clusterColloideBounds.length; i++) {\n              if (tempElement.tagName === 'g') {\n                tempElement.childNodes[0].textContent = tempElement.childNodes[0].textContent + ',' + clusterColloideBounds[i].textContent;\n              } else {\n                tempElement.textContent = tempElement.textContent + ',' + clusterColloideBounds[i].textContent;\n              }\n\n              clusterGroup.childNodes[o - 1].textContent = (+clusterGroup.childNodes[o - 1].textContent + +clusterColloideBounds[i + 1].textContent).toString();\n              i++;\n            }\n          }\n\n          clusterColloideBounds = [];\n        }\n      }\n    }\n\n    while (0 < clusterGroup.childNodes.length) {\n      markerCollection.insertBefore(clusterGroup.childNodes[0], markerCollection.firstChild);\n    }\n\n    if (check) {\n      layerElement.appendChild(markerCollection);\n    } else {\n      getElementByID(maps.element.id + '_Secondary_Element').appendChild(markerCollection);\n      layerElement.appendChild(markerCollection);\n    }\n\n    var markerCluster = document.getElementById(maps.element.id + '_LayerIndex_0_markerCluster');\n\n    if (!isNullOrUndefined(markerCluster)) {\n      markerCluster.remove();\n    }\n\n    if (zoomCheck) {\n      document.getElementById(maps.element.id + '_Layer_Collections').appendChild(layerElement);\n    }\n  });\n}\n/**\n *\n * @param {MarkerClusterData[]} sameMarkerData - Specifies the marker data\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {Element | HTMLElement} markerElement - Specifies the marker element\n * @returns {void}\n */\n\nexport function mergeSeparateCluster(sameMarkerData, maps, markerElement) {\n  var layerIndex = sameMarkerData[0].layerIndex;\n  var clusterIndex = sameMarkerData[0].targetClusterIndex;\n  var markerIndex = sameMarkerData[0].markerIndex;\n  var dataIndex = sameMarkerData[0].dataIndex;\n  var markerId = maps.element.id + '_LayerIndex_' + layerIndex + '_MarkerIndex_' + markerIndex;\n  var clusterId = markerId + '_dataIndex_' + dataIndex + '_cluster_' + clusterIndex;\n  var clusterEle = getElement(clusterId);\n  var clusterEleLabel = getElement(clusterId + '_datalabel_' + clusterIndex);\n  clusterEle.setAttribute('visibility', 'visible');\n  clusterEleLabel.setAttribute('visibility', 'visible');\n  var markerEle;\n  var markerDataLength = sameMarkerData[0].data.length;\n\n  for (var i = 0; i < markerDataLength; i++) {\n    markerEle = getElement(markerId + '_dataIndex_' + sameMarkerData[0].data[i]['index']);\n    markerEle['style']['visibility'] = 'hidden';\n  }\n\n  removeElement(maps.element.id + '_LayerIndex_' + layerIndex + '_MarkerIndex_' + markerIndex + '_markerClusterConnectorLine');\n}\n/**\n *\n * @param {MarkerClusterData[]} sameMarkerData - Specifies the marker data\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {Element | HTMLElement} markerElement - Specifies the marker element\n * @param {boolean} isDom - Specifies the boolean value\n * @returns {void}\n */\n\nexport function clusterSeparate(sameMarkerData, maps, markerElement, isDom) {\n  var layerIndex = sameMarkerData[0].layerIndex;\n  var markerIndex = sameMarkerData[0].markerIndex;\n  var clusterIndex = sameMarkerData[0].targetClusterIndex;\n  var dataIndex = sameMarkerData[0].dataIndex; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n  var getElementFunction = isDom ? getElement : markerElement.querySelector.bind(markerElement);\n  var getQueryConnect = isDom ? '' : '#';\n  var markerId = maps.element.id + '_LayerIndex_' + layerIndex + '_MarkerIndex_' + markerIndex;\n  var clusterId = markerId + '_dataIndex_' + dataIndex + '_cluster_' + clusterIndex;\n  var clusterEle = getElementFunction(getQueryConnect + '' + clusterId);\n  var clusterEleLabel = getElementFunction(getQueryConnect + '' + clusterId + '_datalabel_' + clusterIndex);\n  clusterEle.setAttribute('visibility', 'hidden');\n  clusterEleLabel.setAttribute('visibility', 'hidden');\n  var marker = maps.layers[layerIndex].markerSettings[markerIndex];\n  var markerEle = getElementFunction(getQueryConnect + '' + markerId + '_dataIndex_' + dataIndex);\n  var height = markerEle.parentElement.id.indexOf('Template_Group') > -1 ? markerEle.getBoundingClientRect().height : marker.height;\n  var width = markerEle.parentElement.id.indexOf('Template_Group') > -1 ? markerEle.getBoundingClientRect().width : marker.width;\n  var centerX = +clusterEle.getAttribute('transform').split('translate(')[1].trim().split(' ')[0];\n  var centerY = +clusterEle.getAttribute('transform').split('translate(')[1].trim().split(' ')[1].split(')')[0].trim();\n  var radius = width + 5;\n  var area = 2 * 3.14 * radius;\n  var totalMarker = 0;\n  var numberOfMarker = Math.round(area / width);\n  totalMarker += numberOfMarker;\n  var markerDataLength = sameMarkerData[0].data.length;\n  var percent = Math.round(height / area * 100);\n  percent = markerDataLength < numberOfMarker ? 100 / markerDataLength : percent; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n  var angle = percent / 100 * 360;\n  var newAngle = markerDataLength < numberOfMarker ? 45 : 0;\n  var count = 1;\n  var start = 'M ' + centerX + ' ' + centerY + ' ';\n  var path = '';\n\n  for (var i = 0; i < markerDataLength; i++) {\n    if (totalMarker === i || Math.round(newAngle) >= 360) {\n      count++;\n      radius = (width + 5) * count;\n      newAngle = 0;\n      area = 2 * 3.14 * radius;\n      numberOfMarker = Math.round(area / height);\n      percent = Math.round(height / area * 100);\n\n      while (percent * numberOfMarker < 100) {\n        numberOfMarker++;\n      }\n\n      angle = percent / 100 * 360;\n      totalMarker += numberOfMarker;\n    }\n\n    var x1 = centerX + radius * Math.sin(Math.PI * 2 * newAngle / 360);\n    var y1 = centerY + radius * Math.cos(Math.PI * 2 * newAngle / 360);\n    path += start + 'L ' + x1 + ' ' + y1 + ' ';\n    markerEle = getElementFunction(getQueryConnect + '' + markerId + '_dataIndex_' + sameMarkerData[0].data[i]['index']);\n\n    if (markerEle.parentElement.id.indexOf('Template_Group') > -1) {\n      markerEle['style']['transform'] = '';\n      markerEle['style']['left'] = maps.isTileMap ? x1 - width / 2 + 'px' : x1 - width / 2 - 10 + 'px';\n      markerEle['style']['top'] = maps.isTileMap ? y1 - height / 2 + 'px' : y1 - height / 2 - 10 + 'px';\n      markerEle.setAttribute('transform', 'translate( ' + x1 + ' ' + y1 + ')');\n    } else {\n      markerEle.setAttribute('transform', 'translate( ' + x1 + ' ' + y1 + ')');\n    }\n\n    markerEle['style']['visibility'] = 'visible';\n    newAngle += angle;\n  }\n\n  var connectorLine = maps.layers[layerIndex].markerClusterSettings.connectorLineSettings;\n  var options = {\n    d: path,\n    id: maps.element.id + '_LayerIndex_' + layerIndex + '_MarkerIndex_' + markerIndex + '_dataIndex_' + dataIndex + '_markerClusterConnectorLine',\n    stroke: connectorLine.color,\n    'fill-opacity': connectorLine.opacity,\n    'stroke-opacity': connectorLine.opacity,\n    'stroke-width': connectorLine.width\n  };\n  markerElement = isDom ? getElementFunction(maps.element.id + '_Markers_Group') : markerElement;\n  var groupEle = maps.renderer.createGroup({\n    id: maps.element.id + '_LayerIndex_' + layerIndex + '_MarkerIndex_' + markerIndex + '_markerClusterConnectorLine'\n  });\n  groupEle.appendChild(maps.renderer.drawPath(options));\n  markerElement.insertBefore(groupEle, markerElement.querySelector('#' + markerId + '_dataIndex_0'));\n}\n/**\n *\n * @param {IMarkerRenderingEventArgs} eventArgs - Specifies the arguments\n * @param {MarkerSettings} markerSettings - Specifies the marker settings\n * @param {any[]} markerData - Specifies the marker data\n * @param {number} dataIndex - Specifies the data index\n * @param {Point} location - Specifies the location\n * @param {Point} transPoint - Specifies the translate point\n * @param {string} markerID - Specifies the marker id\n * @param {Point} offset - Specifies the offset value\n * @param {number} scale - Specifies the scale value\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {Element} markerCollection - Specifies the marker collection\n * @returns {Element} - Returns the element\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\nexport function marker(eventArgs, markerSettings, markerData, dataIndex, location, transPoint, markerID, offset, scale, maps, markerCollection) {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  var shapeCustom = {\n    size: new Size(eventArgs.width, eventArgs.height),\n    fill: eventArgs.fill,\n    borderColor: eventArgs.border.color,\n    borderWidth: eventArgs.border.width,\n    opacity: markerSettings.opacity,\n    dashArray: markerSettings.dashArray,\n    borderOpacity: isNullOrUndefined(eventArgs.border.opacity) ? markerSettings.opacity : eventArgs.border.opacity\n  };\n  var ele = drawSymbols(eventArgs.shape, eventArgs.imageUrl, {\n    x: 0,\n    y: 0\n  }, markerID, shapeCustom, markerCollection, maps);\n  var x = (maps.isTileMap ? location.x : (location.x + transPoint.x) * scale) + offset.x;\n  var y = (maps.isTileMap ? location.y : (location.y + transPoint.y) * scale) + offset.y;\n  ele.setAttribute('transform', 'translate( ' + x + ' ' + y + ' )');\n  maintainSelection(maps.selectedMarkerElementId, maps.markerSelectionClass, ele, 'MarkerselectionMapStyle');\n  markerCollection.appendChild(ele);\n  var element = markerData.length - 1 === dataIndex ? 'marker' : null;\n  var markerPoint = new Point(x, y);\n\n  if (markerSettings.animationDuration > 0) {\n    elementAnimate(ele, markerSettings.animationDelay, markerSettings.animationDuration, markerPoint, maps, element);\n  }\n\n  return markerCollection;\n}\n/**\n *\n * @param {IMarkerRenderingEventArgs} eventArgs - Specifies the arguments\n * @param {any} templateFn - Specifies the template function\n * @param {string} markerID - Specifies the marker id\n * @param {any} data - Specifies the data\n * @param {number} markerIndex - Specifies the marker index\n * @param {HTMLElement} markerTemplate - Specifies the marker template element\n * @param {Point} location - Specifies the location\n * @param {Point} transPoint - Specifies the translate point.\n * @param {number} scale - Specifies the scale value\n * @param {Point} offset - Specifies the offset value\n * @param {Maps} maps - Specifies the instance of the maps\n * @returns {HTMLElement} - Returns the html element\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\nexport function markerTemplate(eventArgs, templateFn, markerID, data, markerIndex, markerTemplate, location, transPoint, scale, offset, maps) {\n  templateFn = getTemplateFunction(eventArgs.template);\n\n  if (templateFn && templateFn(data, maps, eventArgs.template, maps.element.id + '_MarkerTemplate' + markerIndex, false).length) {\n    var templateElement = templateFn(data, maps, eventArgs.template, maps.element.id + '_MarkerTemplate' + markerIndex, false);\n    var markerElement = convertElement(templateElement, markerID, data, markerIndex, maps);\n\n    for (var i = 0; i < markerElement.children.length; i++) {\n      markerElement.children[i].style.pointerEvents = 'none';\n    }\n\n    markerElement.style.left = (maps.isTileMap ? location.x : (location.x + transPoint.x) * scale) + offset.x - maps.mapAreaRect.x + 'px';\n    markerElement.style.top = (maps.isTileMap ? location.y : (location.y + transPoint.y) * scale) + offset.y - maps.mapAreaRect.y + 'px';\n    markerTemplate.appendChild(markerElement);\n\n    if (maps.layers[maps.baseLayerIndex].layerType === 'GoogleStaticMap') {\n      var staticMapOffset = getElementByID(maps.element.id + '_StaticGoogleMap').getBoundingClientRect();\n      var markerElementOffset = markerElement.getBoundingClientRect();\n      var staticMapOffsetWidth = 640;\n\n      if ((staticMapOffset['x'] > markerElementOffset['x'] || staticMapOffset['x'] + staticMapOffsetWidth < markerElementOffset['x'] + markerElementOffset['width']) && (staticMapOffset['y'] > markerElementOffset['y'] || staticMapOffset['y'] + staticMapOffset['height'] < markerElementOffset['y'] + markerElementOffset['height'])) {\n        markerElement.style.display = 'none';\n      }\n    }\n  }\n\n  return markerTemplate;\n}\n/**\n * To maintain selection during page resize\n *\n * @param {string[]} elementId - Specifies the element id\n * @param {Element} elementClass - Specifies the element class\n * @param {Element} element - Specifies the element\n * @param {string} className - Specifies the class name\n * @returns {void}\n * @private\n */\n\nexport function maintainSelection(elementId, elementClass, element, className) {\n  if (elementId) {\n    for (var index = 0; index < elementId.length; index++) {\n      if (element.getAttribute('id') === elementId[index]) {\n        if (isNullOrUndefined(getElement(elementClass.id)) || index === 0) {\n          document.body.appendChild(elementClass);\n\n          if (element.id.indexOf('_MarkerIndex_') > -1 && element.childElementCount > 0) {\n            element.children[0].setAttribute('class', className);\n          }\n        }\n\n        element.setAttribute('class', className);\n      }\n    }\n  }\n}\n/**\n * To maintain selection style class\n *\n * @param {string} id - Specifies the id\n * @param {string} idClass - Specifies the class id\n * @param {string} fill - Specifies the fill\n * @param {string} opacity - Specifies the opactiy\n * @param {string} borderColor - Specifies the border color\n * @param {string} borderWidth - Specifies the border width\n * @param {Maps} maps - Specifies the maps\n * @returns {void}\n * @private\n */\n\nexport function maintainStyleClass(id, idClass, fill, opacity, borderColor, borderWidth, maps) {\n  if (!getElement(id)) {\n    var styleClass = createElement('style', {\n      id: id,\n      innerHTML: '.' + idClass + '{fill:' + fill + ';' + 'opacity:' + opacity + ';' + 'stroke-width:' + borderWidth + ';' + 'stroke:' + borderColor + ';' + '}'\n    });\n    maps.shapeSelectionClass = styleClass;\n    document.body.appendChild(styleClass);\n  }\n}\n/**\n * Internal use of append shape element\n *\n * @param {Element} shape - Specifies the shape\n * @param {Element} element - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\n\nexport function appendShape(shape, element) {\n  if (element) {\n    element.appendChild(shape);\n  }\n\n  return shape;\n}\n/**\n * Internal rendering of Circle\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {CircleOption} options - Specifies the circle options\n * @param {Element} element - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\n\nexport function drawCircle(maps, options, element) {\n  return appendShape(maps.renderer.drawCircle(options), element);\n}\n/**\n * Internal rendering of Rectangle\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {RectOption} options - Specifies the rect options\n * @param {Element} element - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\n\nexport function drawRectangle(maps, options, element) {\n  return appendShape(maps.renderer.drawRectangle(options), element);\n}\n/**\n * Internal rendering of Path\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {PathOption} options - Specifies the polygon options\n * @param {Element} element - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\n\nexport function drawPath(maps, options, element) {\n  return appendShape(maps.renderer.drawPath(options), element);\n}\n/**\n * Internal rendering of Polygon\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {PolygonOption} options - Specifies the polygon options\n * @param {Element} element - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\n\nexport function drawPolygon(maps, options, element) {\n  return appendShape(maps.renderer.drawPolygon(options), element);\n}\n/**\n * Internal rendering of Polyline\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {PolylineOption} options - Specifies the poly line options\n * @param {Element} element - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\n\nexport function drawPolyline(maps, options, element) {\n  return appendShape(maps.renderer.drawPolyline(options), element);\n}\n/**\n * Internal rendering of Line\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {LineOption} options - Specifies the line options\n * @param {Element} element - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\n\nexport function drawLine(maps, options, element) {\n  return appendShape(maps.renderer.drawLine(options), element);\n}\n/**\n * Calculate marker shapes\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {MarkerType} shape - Specifies the marker type\n * @param {PathOption} options - Specifies the path options\n * @param {Size} size - Specifies the size\n * @param {MapLocation} location - Specifies the map location\n * @param {Element} markerEle - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\n\nexport function calculateShapes(maps, shape, options, size, location, markerEle) {\n  var tempGroup;\n\n  switch (shape) {\n    case 'Balloon':\n      tempGroup = drawBalloon(maps, options, size, location, 'Marker', markerEle);\n      break;\n\n    case 'Cross':\n      options.d = 'M ' + location.x + ' ' + (location.y - size.height / 2) + ' L ' + location.x + ' ' + (location.y + size.height / 2) + ' M ' + (location.x - size.width / 2) + ' ' + location.y + ' L ' + (location.x + size.width / 2) + ' ' + location.y;\n      break;\n\n    case 'Diamond':\n      options.d = 'M ' + location.x + ' ' + (location.y - size.height / 2) + ' L ' + (location.x + size.width / 2) + ' ' + location.y + ' L ' + location.x + ' ' + (location.y + size.height / 2) + ' L ' + (location.x - size.width / 2) + ' ' + location.y + ' Z';\n      break;\n\n    case 'Star':\n      options.d = 'M ' + (location.x + size.width / 3) + ' ' + (location.y - size.height / 2) + ' L ' + (location.x - size.width / 2) + ' ' + (location.y + size.height / 6) + ' L ' + (location.x + size.width / 2) + ' ' + (location.y + size.height / 6) + ' L ' + (location.x - size.width / 3) + ' ' + (location.y - size.height / 2) + ' L ' + location.x + ' ' + (location.y + size.height / 2) + ' L ' + (location.x + size.width / 3) + ' ' + (location.y - size.height / 2) + ' Z';\n      break;\n\n    case 'Triangle':\n      options.d = 'M ' + location.x + ' ' + (location.y - size.height / 2) + ' L ' + (location.x + size.width / 2) + ' ' + (location.y + size.height / 2) + ' L ' + (location.x - size.width / 2) + ' ' + (location.y + size.height / 2) + ' Z';\n      break;\n\n    case 'HorizontalLine':\n      options.d = ' M ' + (location.x - size.width / 2) + ' ' + location.y + ' L ' + (location.x + size.width / 2) + ' ' + location.y;\n      break;\n\n    case 'VerticalLine':\n      options.d = 'M ' + location.x + ' ' + (location.y - size.height / 2) + ' L ' + location.x + ' ' + (location.y + size.height / 2);\n      break;\n\n    case 'InvertedTriangle':\n      options.d = 'M ' + (location.x - size.width / 2) + ' ' + (location.y - size.height / 2) + ' L ' + (location.x + size.width / 2) + ' ' + (location.y - size.height / 2) + ' L ' + location.x + ' ' + (location.y + size.height / 2) + ' Z';\n      break;\n\n    case 'Pentagon':\n      // eslint-disable-next-line no-case-declarations\n      var eq = 72;\n      var xValue = void 0;\n      var yValue = void 0;\n\n      for (var i = 0; i < 5; i++) {\n        xValue = size.width / 2 * Math.cos(Math.PI / 180 * (i * eq));\n        yValue = size.height / 2 * Math.sin(Math.PI / 180 * (i * eq));\n        options.d += (i === 0 ? 'M ' : 'L ') + (location.x + xValue) + ' ' + (location.y + yValue);\n      }\n\n      options.d += ' Z';\n      break;\n  }\n\n  if (shape === 'Cross' || shape === 'HorizontalLine' || shape === 'VerticalLine') {\n    options['stroke'] = options['stroke'] === 'transparent' ? options['fill'] : options['stroke'];\n  }\n\n  return shape === 'Balloon' ? tempGroup : maps.renderer.drawPath(options);\n}\n/**\n * Internal rendering of Diamond\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {PathOption} options - Specifies the path options\n * @param {Size} size - Specifies the size\n * @param {MapLocation} location - Specifies the map location\n * @param {Element} element - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\n\nexport function drawDiamond(maps, options, size, location, element) {\n  options.d = 'M ' + location.x + ' ' + (location.y - size.height / 2) + ' L ' + (location.x + size.width / 2) + ' ' + location.y + ' L ' + location.x + ' ' + (location.y + size.height / 2) + ' L ' + (location.x - size.width / 2) + ' ' + location.y + ' Z';\n  return appendShape(maps.renderer.drawPath(options), element);\n}\n/**\n * Internal rendering of Triangle\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {PathOption} options - Specifies the path options\n * @param {Size} size - Specifies the size\n * @param {MapLocation} location - Specifies the map location\n * @param {Element} element - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\n\nexport function drawTriangle(maps, options, size, location, element) {\n  options.d = 'M ' + location.x + ' ' + (location.y - size.height / 2) + ' L ' + (location.x + size.width / 2) + ' ' + (location.y + size.height / 2) + ' L ' + (location.x - size.width / 2) + ' ' + (location.y + size.height / 2) + ' Z';\n  return appendShape(maps.renderer.drawPath(options), element);\n}\n/**\n * Internal rendering of Cross\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {PathOption} options - Specifies the path options\n * @param {Size} size - Specifies the size\n * @param {MapLocation} location - Specifies the map location\n * @param {Element} element - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\n\nexport function drawCross(maps, options, size, location, element) {\n  options.d = 'M ' + location.x + ' ' + (location.y - size.height / 2) + ' L ' + location.x + ' ' + (location.y + size.height / 2) + ' M ' + (location.x - size.width / 2) + ' ' + location.y + ' L ' + (location.x + size.width / 2) + ' ' + location.y;\n  return appendShape(maps.renderer.drawPath(options), element);\n}\n/**\n * Internal rendering of HorizontalLine\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {PathOption} options - Specifies the path options\n * @param {Size} size - Specifies the size\n * @param {MapLocation} location - Specifies the map location\n * @param {Element} element - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\n\nexport function drawHorizontalLine(maps, options, size, location, element) {\n  options.d = ' M ' + (location.x - size.width / 2) + ' ' + location.y + ' L ' + (location.x + size.width / 2) + ' ' + location.y;\n  return appendShape(maps.renderer.drawPath(options), element);\n}\n/**\n * Internal rendering of VerticalLine\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {PathOption} options - Specifies the path options\n * @param {Size} size - Specifies the size\n * @param {MapLocation} location - Specifies the map location\n * @param {Element} element - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\n\nexport function drawVerticalLine(maps, options, size, location, element) {\n  options.d = 'M ' + location.x + ' ' + (location.y - size.height / 2) + ' L ' + location.x + ' ' + (location.y + size.height / 2);\n  return appendShape(maps.renderer.drawPath(options), element);\n}\n/**\n * Internal rendering of Star\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {PathOption} options - Specifies the path options\n * @param {Size} size - Specifies the size\n * @param {MapLocation} location - Specifies the map location\n * @param {Element} element - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\n\nexport function drawStar(maps, options, size, location, element) {\n  options.d = 'M ' + (location.x + size.width / 3) + ' ' + (location.y - size.height / 2) + ' L ' + (location.x - size.width / 2) + ' ' + (location.y + size.height / 6) + ' L ' + (location.x + size.width / 2) + ' ' + (location.y + size.height / 6) + ' L ' + (location.x - size.width / 3) + ' ' + (location.y - size.height / 2) + ' L ' + location.x + ' ' + (location.y + size.height / 2) + ' L ' + (location.x + size.width / 3) + ' ' + (location.y - size.height / 2) + ' Z';\n  return appendShape(maps.renderer.drawPath(options), element);\n}\n/**\n * Internal rendering of Balloon\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {PathOption} options - Specifies the path options\n * @param {Size} size - Specifies the size\n * @param {MapLocation} location - Specifies the map location\n * @param {Element} element - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\n\nexport function drawBalloon(maps, options, size, location, type, element) {\n  var width = size.width;\n  var height = size.height;\n  var pathElement;\n  location.x -= width / 2;\n  location.y -= height;\n  options.d = 'M15,0C8.8,0,3.8,5,3.8,11.2C3.8,17.5,9.4,24.4,15,30c5.6-5.6,11.2-12.5,11.2-18.8C26.2,5,21.2,0,15,0z M15,16' + 'c-2.8,0-5-2.2-5-5s2.2-5,5-5s5,2.2,5,5S17.8,16,15,16z';\n  var balloon = maps.renderer.drawPath(options);\n  var x = size.width / 30;\n  var y = size.height / 30;\n  balloon.setAttribute('transform', 'translate(' + location.x + ', ' + location.y + ') scale(' + x + ', ' + y + ')');\n\n  if (type === 'Marker') {\n    var g = maps.renderer.createGroup({\n      id: options.id\n    });\n    appendShape(balloon, g);\n    pathElement = appendShape(g, element);\n  } else {\n    pathElement = balloon;\n  }\n\n  return pathElement;\n}\n/**\n * Internal rendering of Pattern\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {PatternOptions} options - Specifies the pattern options\n * @param {Element[]} elements - Specifies the elements\n * @param {Element} element - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\n\nexport function drawPattern(maps, options, elements, element) {\n  var pattern = maps.renderer.createPattern(options, 'pattern');\n\n  for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n    var ele = elements_1[_i];\n    appendShape(ele, pattern);\n  }\n\n  return appendShape(pattern, element);\n}\n/**\n * Method to get specific field and vaues from data.\n *\n * @param {any[]} dataSource - Specifies the data source\n * @param {string[]} fields - Specifies the fields\n * @returns {any[]} - Returns the object\n * @private\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\nexport function getFieldData(dataSource, fields) {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  var newData = []; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n  var data;\n\n  for (var _i = 0, dataSource_1 = dataSource; _i < dataSource_1.length; _i++) {\n    var temp = dataSource_1[_i];\n    data = {};\n\n    for (var _a = 0, fields_1 = fields; _a < fields_1.length; _a++) {\n      var field = fields_1[_a]; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n      if (temp[field]) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        data[field] = temp[field];\n      }\n    }\n\n    newData.push(data);\n  }\n\n  return newData;\n}\n/**\n * To find the index of dataSource from shape properties\n *\n * @param {any[]} dataSource - Specifies the data source\n * @param {any} properties - Specifies the properties\n * @param {string} dataPath - Specifies the data path\n * @param {string | string[]} propertyPath - Specifies the property path\n * @param {LayerSettingsModel} layer - Specifies the layer settings\n * @returns {number} - Returns the number\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\nexport function checkShapeDataFields(dataSource, properties, dataPath, propertyPath, layer) {\n  if (!isNullOrUndefined(properties)) {\n    for (var i = 0; i < dataSource.length; i++) {\n      var shapeDataPath = dataPath.indexOf('.') > -1 ? getValueFromObject(dataSource[i], dataPath) : dataSource[i][dataPath];\n      var shapePath = checkPropertyPath(shapeDataPath, propertyPath, properties);\n      var shapeDataPathValue = !isNullOrUndefined(shapeDataPath) && isNaN(properties[shapePath]) ? shapeDataPath.toLowerCase() : shapeDataPath;\n      var propertiesShapePathValue = !isNullOrUndefined(properties[shapePath]) && isNaN(properties[shapePath]) ? properties[shapePath].toLowerCase() : properties[shapePath];\n\n      if (shapeDataPathValue === propertiesShapePathValue) {\n        return i;\n      }\n    }\n  }\n\n  return null;\n}\n/**\n *\n * @param {string} shapeData - Specifies the shape data\n * @param {string | string[]} shapePropertyPath -  Specifies the shape property path\n * @param {any} shape -  Specifies the shape\n * @returns {string} - Returns the string value\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\nexport function checkPropertyPath(shapeData, shapePropertyPath, shape) {\n  if (!isNullOrUndefined(shapeData) && !isNullOrUndefined(shape)) {\n    if (!isNullOrUndefined(shapePropertyPath)) {\n      var length_1;\n      var properties = Object.prototype.toString.call(shapePropertyPath) === '[object Array]' ? shapePropertyPath : [shapePropertyPath];\n\n      for (var i = 0; i < properties.length; i++) {\n        var shapeDataValue = !isNullOrUndefined(shapeData) ? shapeData.toLowerCase() : shapeData;\n        var shapePropertiesValue = !isNullOrUndefined(shape[properties[i]]) && isNaN(shape[properties[i]]) ? shape[properties[i]].toLowerCase() : shape[properties[i]];\n\n        if (shapeDataValue === shapePropertiesValue) {\n          return properties[i];\n        }\n      }\n    }\n  }\n\n  return null;\n}\n/**\n *\n * @param {MapLocation[]} points - Specifies the location\n * @param {number} start - Specifies the start value\n * @param {number} end - Specifies the end value\n * @returns {MapLocation[]} - Returns the location\n */\n\nexport function filter(points, start, end) {\n  var pointObject = [];\n\n  for (var i = 0; i < points.length; i++) {\n    var point = points[i];\n\n    if (start <= point.y && end >= point.y) {\n      pointObject.push(point);\n    }\n  }\n\n  return pointObject;\n}\n/**\n *\n * @param {number} min - Specifies the min value\n * @param {number} max - Specifies the max value\n * @param {number} value - Specifies the value\n * @param {number} minValue - Specifies the minValue\n * @param {number} maxValue -Specifies the maxValue\n * @returns {number} - Returns the number\n */\n\nexport function getRatioOfBubble(min, max, value, minValue, maxValue) {\n  var percent = 100 / (maxValue - minValue) * (value - minValue);\n  var bubbleRadius = (max - min) / 100 * percent + min;\n\n  if (maxValue === minValue) {\n    bubbleRadius = (max - min) / 100 + min;\n  }\n\n  return bubbleRadius;\n}\n/**\n * To find the midpoint of the polygon from points\n *\n * @param {MapLocation[]} points - Specifies the points\n * @param {string} type - Specifies the type\n * @param {string} geometryType - Specified the type of the geometry\n * @returns {any} - Specifies the object\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\nexport function findMidPointOfPolygon(points, type, geometryType) {\n  if (!points.length) {\n    return null;\n  }\n\n  var min = 0;\n  var max = points.length;\n  var startX;\n  var startY;\n  var startX1;\n  var startY1;\n  var sum = 0;\n  var xSum = 0;\n  var ySum = 0;\n\n  for (var i = min; i <= max - 1; i++) {\n    startX = points[i].x;\n    startY = type === 'Mercator' || geometryType === 'Normal' ? points[i].y : -points[i].y;\n\n    if (i === max - 1) {\n      startX1 = points[0].x;\n      startY1 = type === 'Mercator' || geometryType === 'Normal' ? points[0].y : -points[0].y;\n    } else {\n      startX1 = points[i + 1].x;\n      startY1 = type === 'Mercator' || geometryType === 'Normal' ? points[i + 1].y : -points[i + 1].y;\n    }\n\n    sum = sum + Math.abs(startX * startY1 - startX1 * startY);\n    xSum = xSum + Math.abs((startX + startX1) * (startX * startY1 - startX1 * startY));\n    ySum = ySum + Math.abs((startY + startY1) * (startX * startY1 - startX1 * startY));\n  }\n\n  sum = 0.5 * sum;\n  xSum = 1 / (4 * sum) * xSum;\n  ySum = 1 / (4 * sum) * ySum;\n  /* Code for finding nearest points in polygon related to midPoint*/\n\n  var rightMinPoint = {\n    x: 0,\n    y: 0\n  };\n  var rightMaxPoint = {\n    x: 0,\n    y: 0\n  };\n  var leftMinPoint = {\n    x: 0,\n    y: 0\n  };\n  var leftMaxPoint = {\n    x: 0,\n    y: 0\n  };\n  var bottomMinPoint = {\n    x: 0,\n    y: 0\n  };\n  var bottomMaxPoint = {\n    x: 0,\n    y: 0\n  };\n  var topMinPoint = {\n    x: 0,\n    y: 0\n  };\n  var topMaxPoint = {\n    x: 0,\n    y: 0\n  };\n  var height = 0;\n\n  for (var i = min; i <= max - 1; i++) {\n    var point = points[i];\n    point.y = type === 'Mercator' || geometryType === 'Normal' ? point.y : -point.y;\n\n    if (point.y > ySum) {\n      if (point.x < xSum && xSum - point.x < xSum - bottomMinPoint.x) {\n        bottomMinPoint = {\n          x: point.x,\n          y: point.y\n        };\n      } else if (point.x > xSum && (bottomMaxPoint.x === 0 || point.x - xSum < bottomMaxPoint.x - xSum)) {\n        bottomMaxPoint = {\n          x: point.x,\n          y: point.y\n        };\n      }\n    } else {\n      if (point.x < xSum && xSum - point.x < xSum - topMinPoint.x) {\n        topMinPoint = {\n          x: point.x,\n          y: point.y\n        };\n      } else if (point.x > xSum && (topMaxPoint.x === 0 || point.x - xSum < topMaxPoint.x - xSum)) {\n        topMaxPoint = {\n          x: point.x,\n          y: point.y\n        };\n      }\n    }\n\n    height = bottomMaxPoint.y - topMaxPoint.y + (bottomMaxPoint.y - topMaxPoint.y) / 4;\n\n    if (point.x > xSum) {\n      if (point.y < ySum && ySum - point.y < ySum - rightMinPoint.y) {\n        rightMinPoint = {\n          x: point.x,\n          y: point.y\n        };\n      } else if (point.y > ySum && (rightMaxPoint.y === 0 || point.y - ySum < rightMaxPoint.y - ySum)) {\n        rightMaxPoint = {\n          x: point.x,\n          y: point.y\n        };\n      }\n    } else {\n      if (point.y < ySum && ySum - point.y < ySum - leftMinPoint.y) {\n        leftMinPoint = {\n          x: point.x,\n          y: point.y\n        };\n      } else if (point.y > ySum && (leftMaxPoint.y === 0 || point.y - ySum < leftMaxPoint.y - ySum)) {\n        leftMaxPoint = {\n          x: point.x,\n          y: point.y\n        };\n      }\n    }\n  }\n\n  return {\n    x: xSum,\n    y: ySum,\n    rightMin: rightMinPoint,\n    rightMax: rightMaxPoint,\n    leftMin: leftMinPoint,\n    leftMax: leftMaxPoint,\n    points: points,\n    topMax: topMaxPoint,\n    topMin: topMinPoint,\n    bottomMax: bottomMaxPoint,\n    bottomMin: bottomMinPoint,\n    height: height\n  };\n}\n/**\n * Check custom path\n *\n * @param {any[]} layerData - Specifies the layer data\n * @returns {boolean} - Returns the boolean vlue\n * @private\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\nexport function isCustomPath(layerData) {\n  var customPath = false;\n\n  if (Object.prototype.toString.call(layerData) === '[object Array]') {\n    Array.prototype.forEach.call(layerData, function (layer, index) {\n      if (!isNullOrUndefined(layer['geometry']) && layer['geometry']['type'] === 'Path') {\n        customPath = true;\n      }\n    });\n  }\n\n  return customPath;\n}\n/**\n * Trim the title text\n *\n * @param {number} maxWidth - Specifies the maximum width\n * @param {string} text - Specifies the text\n * @param {FontModel} font - Specifies the font\n * @returns {string} - Returns the string\n * @private\n */\n\nexport function textTrim(maxWidth, text, font) {\n  var label = text;\n  var size = measureText(text, font).width;\n\n  if (size > maxWidth) {\n    var textLength = text.length;\n\n    for (var i = textLength - 1; i >= 0; --i) {\n      label = text.substring(0, i) + '...';\n      size = measureText(label, font).width;\n\n      if (size <= maxWidth || label.length < 4) {\n        if (label.length < 4) {\n          label = ' ';\n        }\n\n        return label;\n      }\n    }\n  }\n\n  return label;\n}\n/**\n * Method to calculate x position of title\n *\n * @param {Rect} location - Specifies the location\n * @param {Alignment} alignment - Specifies the alignment\n * @param {Size} textSize - Specifies the text size\n * @param {string} type - Specifies the type\n * @returns {Point} - Returns the point values\n */\n\nexport function findPosition(location, alignment, textSize, type) {\n  var x;\n\n  switch (alignment) {\n    case 'Near':\n      x = location.x;\n      break;\n\n    case 'Center':\n      x = type === 'title' ? location.width / 2 - textSize.width / 2 : location.x + location.width / 2 - textSize.width / 2;\n      break;\n\n    case 'Far':\n      x = type === 'title' ? location.width - location.y - textSize.width : location.x + location.width - textSize.width;\n      break;\n  }\n\n  var y = type === 'title' ? location.y + textSize.height / 2 : location.y + location.height / 2 + textSize.height / 2;\n  return new Point(x, y);\n}\n/**\n * To remove element by id\n *\n * @param {string} id - Specifies the id\n * @returns {void}\n */\n\nexport function removeElement(id) {\n  var element = document.getElementById(id);\n  return element ? remove(element) : null;\n}\n/**\n * To calculate map center position from pixel values\n *\n * @param {Maps} mapObject - Specifies the map object\n * @param {LayerSettings} layer - Specifies the layer settings\n * @returns {Point} - Returns the x and y points\n */\n\nexport function calculateCenterFromPixel(mapObject, layer) {\n  var point1 = convertGeoToPoint(mapObject.minLatOfGivenLocation, mapObject.minLongOfGivenLocation, mapObject.mapLayerPanel.calculateFactor(layer), layer, mapObject);\n  var point2 = convertGeoToPoint(mapObject.maxLatOfGivenLocation, mapObject.maxLongOfGivenLocation, mapObject.mapLayerPanel.calculateFactor(layer), layer, mapObject);\n  var x = (point1.x + point2.x) / 2;\n  var y = (point1.y + point2.y) / 2;\n  return new Point(x, y);\n}\n/**\n * @param {Maps} mapObject - Specifies the map object\n * @param {LayerSettings} layer - Specifies the layer settings\n * @param {boolean} animate - Specifies the boolean value\n * @returns {any} - Returns the object\n * @private\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\nexport function getTranslate(mapObject, layer, animate) {\n  var zoomFactorValue = mapObject.zoomSettings.zoomFactor;\n  var scaleFactor;\n  var center = mapObject.centerPosition;\n  var centerLatitude = center.latitude;\n  var centerLongitude = center.longitude;\n  var checkMethodeZoom = !isNullOrUndefined(mapObject.centerLatOfGivenLocation) && !isNullOrUndefined(mapObject.centerLongOfGivenLocation) && mapObject.zoomNotApplied;\n\n  if (isNullOrUndefined(mapObject.mapScaleValue)) {\n    mapObject.mapScaleValue = zoomFactorValue;\n  }\n\n  if (mapObject.zoomSettings.shouldZoomInitially && mapObject.zoomSettings.enable) {\n    mapObject.mapScaleValue = scaleFactor = zoomFactorValue = (mapObject.zoomSettings.shouldZoomInitially || mapObject.enablePersistence) && mapObject.scale === 1 ? mapObject.scale : isNullOrUndefined(mapObject.markerZoomFactor) ? 1 : mapObject.markerZoomFactor;\n\n    if (mapObject.mapScaleValue !== mapObject.markerZoomFactor && !mapObject.enablePersistence) {\n      mapObject.mapScaleValue = zoomFactorValue = mapObject.markerZoomFactor;\n    }\n\n    if (!isNullOrUndefined(mapObject.markerCenterLatitude) && !isNullOrUndefined(mapObject.markerCenterLongitude)) {\n      centerLatitude = mapObject.markerCenterLatitude;\n      centerLongitude = mapObject.markerCenterLongitude;\n    }\n  }\n\n  if (checkMethodeZoom) {\n    mapObject.mapScaleValue = scaleFactor = zoomFactorValue = mapObject.scaleOfGivenLocation;\n  } // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n  var min = !isNullOrUndefined(mapObject.baseMapRectBounds) ? mapObject.baseMapRectBounds['min'] : null; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n  var max = !isNullOrUndefined(mapObject.baseMapRectBounds) ? mapObject.baseMapRectBounds['max'] : null;\n  var zoomFactor = animate ? 1 : mapObject.mapScaleValue;\n\n  if (isNullOrUndefined(mapObject.currentShapeDataLength)) {\n    mapObject.currentShapeDataLength = !isNullOrUndefined(layer.shapeData['features']) ? layer.shapeData['features'].length : layer.shapeData['geometries'].length;\n  }\n\n  var size = mapObject.totalRect && mapObject.legendSettings.visible ? mapObject.totalRect : mapObject.mapAreaRect;\n  var availSize = mapObject.availableSize;\n  var x;\n  var y;\n\n  if (!isNullOrUndefined(min) && !isNullOrUndefined(max)) {\n    var mapWidth = Math.abs(max['x'] - min['x']);\n    var mapHeight = Math.abs(min['y'] - max['y']);\n    var factor = animate ? 1 : mapObject.markerZoomFactor === 1 ? mapObject.mapScaleValue : zoomFactorValue;\n    center = mapObject.zoomSettings.shouldZoomInitially && mapObject.markerZoomedState && !mapObject.zoomPersistence ? mapObject.markerZoomCenterPoint : mapObject.centerPosition;\n\n    if (!isNullOrUndefined(centerLongitude) && !isNullOrUndefined(centerLatitude) || checkMethodeZoom) {\n      var leftPosition = ((mapWidth + Math.abs(mapObject.mapAreaRect.width - mapWidth)) / 2 + mapObject.mapAreaRect.x) / factor;\n      var topPosition = ((mapHeight + Math.abs(mapObject.mapAreaRect.height - mapHeight)) / 2 + mapObject.mapAreaRect.y) / factor;\n      var point = checkMethodeZoom ? calculateCenterFromPixel(mapObject, layer) : convertGeoToPoint(centerLatitude, centerLongitude, mapObject.mapLayerPanel.calculateFactor(layer), layer, mapObject);\n\n      if (isNullOrUndefined(mapObject.previousProjection) || mapObject.previousProjection !== mapObject.projectionType) {\n        x = -point.x + leftPosition;\n        y = -point.y + topPosition;\n        scaleFactor = zoomFactor;\n      } else {\n        if (Math.floor(mapObject.scale) !== 1 && mapObject.zoomSettings.shouldZoomInitially || mapObject.zoomNotApplied) {\n          x = -point.x + leftPosition;\n          y = -point.y + topPosition;\n        } else {\n          if (mapObject.zoomSettings.shouldZoomInitially || mapObject.zoomNotApplied) {\n            x = -point.x + leftPosition;\n            y = -point.y + topPosition;\n            scaleFactor = zoomFactor;\n          } else {\n            x = mapObject.zoomTranslatePoint.x;\n            y = mapObject.zoomTranslatePoint.y;\n          }\n        }\n\n        scaleFactor = mapObject.mapScaleValue;\n      }\n    } else {\n      if (isNullOrUndefined(mapObject.previousProjection) || mapObject.previousProjection !== mapObject.projectionType) {\n        scaleFactor = parseFloat(Math.min(size.width / mapWidth, size.height / mapHeight).toFixed(2));\n        mapWidth *= scaleFactor;\n        mapHeight *= scaleFactor;\n        var widthDiff = min['x'] !== 0 && mapObject.translateType === 'layers' ? availSize.width - size.width : 0;\n        x = size.x + (-min['x'] + (size.width / 2 - mapWidth / 2)) - widthDiff;\n        y = size.y + (-min['y'] + (size.height / 2 - mapHeight / 2));\n        mapObject.previousTranslate = new Point(x, y);\n      } else {\n        if (!mapObject.zoomSettings.shouldZoomInitially && mapObject.markerZoomFactor === 1 && mapObject.mapScaleValue === 1) {\n          scaleFactor = parseFloat(Math.min(size.width / mapWidth, size.height / mapHeight).toFixed(2));\n          mapHeight *= scaleFactor;\n          mapWidth *= scaleFactor;\n          y = size.y + (-min['y'] + (size.height / 2 - mapHeight / 2));\n          x = size.x + (-min['x'] + (size.width / 2 - mapWidth / 2));\n        } else {\n          scaleFactor = mapObject.mapScaleValue < 1 ? mapObject.mapScaleValue + 1 : mapObject.mapScaleValue;\n          mapObject.mapScaleValue = mapObject.zoomSettings.enable && mapObject.mapScaleValue !== 1 ? mapObject.mapScaleValue : 1;\n\n          if (mapObject.currentShapeDataLength !== (!isNullOrUndefined(layer.shapeData['features']) ? layer.shapeData['features'].length : layer.shapeData['geometries'].length) && layer.type !== 'SubLayer') {\n            var scale = parseFloat(Math.min(size.height / mapHeight, size.width / mapWidth).toFixed(2));\n            mapHeight *= scale;\n            mapWidth *= scale;\n            y = size.y + (-min['y'] + (size.height / 2 - mapHeight / 2));\n            scaleFactor = scale;\n            x = size.x + (-min['x'] + (size.width / 2 - mapWidth / 2));\n          } else if (mapObject.availableSize.height !== mapObject.heightBeforeRefresh || mapObject.widthBeforeRefresh !== mapObject.availableSize.width) {\n            var cscaleFactor = parseFloat(Math.min(size.width / mapWidth, size.height / mapHeight).toFixed(2));\n            var cmapWidth = mapWidth;\n            cmapWidth *= cscaleFactor;\n            var cmapHeight = mapHeight;\n            cmapHeight *= cscaleFactor;\n            var x1 = size.x + (-min['x'] + (size.width / 2 - cmapWidth / 2));\n            var y1 = size.y + (-min['y'] + (size.height / 2 - cmapHeight / 2));\n            var xdiff = (mapObject.translatePoint.x - mapObject.previousTranslate.x) / mapObject.widthBeforeRefresh;\n            var ydiff = (mapObject.translatePoint.y - mapObject.previousTranslate.y) / mapObject.heightBeforeRefresh;\n            var actxdiff = xdiff * mapObject.availableSize.width;\n            var actydiff = ydiff * mapObject.availableSize.height;\n            x = x1 + actxdiff;\n            y = y1 + actydiff;\n            mapObject.previousTranslate = new Point(x1, y1);\n            mapObject.zoomTranslatePoint.x = x;\n            mapObject.zoomTranslatePoint.y = y;\n          } else {\n            if (!isNullOrUndefined(mapObject.previousProjection) && mapObject.mapScaleValue === 1 && !mapObject.zoomModule.isDragZoom) {\n              scaleFactor = parseFloat(Math.min(size.width / mapWidth, size.height / mapHeight).toFixed(2));\n              mapWidth *= scaleFactor;\n              x = size.x + (-min['x'] + (size.width / 2 - mapWidth / 2));\n              mapHeight *= scaleFactor;\n              y = size.y + (-min['y'] + (size.height / 2 - mapHeight / 2));\n            } else {\n              x = mapObject.zoomTranslatePoint.x;\n              y = mapObject.zoomTranslatePoint.y;\n              scaleFactor = mapObject.scale;\n            }\n          }\n        }\n      }\n    }\n\n    if (!isNullOrUndefined(mapObject.translatePoint)) {\n      x = mapObject.enablePersistence && mapObject.translatePoint.x !== 0 && !mapObject.zoomNotApplied ? mapObject.translatePoint.x : x;\n      y = mapObject.enablePersistence && mapObject.translatePoint.y !== 0 && !mapObject.zoomNotApplied ? mapObject.translatePoint.y : y;\n    }\n  }\n\n  scaleFactor = mapObject.enablePersistence ? mapObject.mapScaleValue >= 1 ? mapObject.mapScaleValue : 1 : scaleFactor;\n  mapObject.widthBeforeRefresh = mapObject.availableSize.width;\n  mapObject.heightBeforeRefresh = mapObject.availableSize.height;\n  return {\n    scale: scaleFactor,\n    location: new Point(x, y)\n  };\n}\n/**\n * @param {Maps} mapObject - Specifies the map object\n * @param {LayerSettings} layer - Specifies the layer\n * @param {boolean} animate - Specifies the boolean value\n * @returns {any} - Returns the object.\n * @private\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\nexport function getZoomTranslate(mapObject, layer, animate) {\n  var zoomFactorValue = mapObject.zoomSettings.zoomFactor;\n  var scaleFactor;\n  var center = mapObject.centerPosition;\n  var latitude = center.latitude;\n  var longitude = center.longitude;\n  var checkZoomMethod = !isNullOrUndefined(mapObject.centerLongOfGivenLocation) && !isNullOrUndefined(mapObject.centerLatOfGivenLocation) && mapObject.zoomNotApplied;\n\n  if (isNullOrUndefined(mapObject.previousCenterLatitude) && isNullOrUndefined(mapObject.previousCenterLongitude)) {\n    mapObject.previousCenterLatitude = mapObject.centerPosition.latitude;\n    mapObject.previousCenterLongitude = mapObject.centerPosition.longitude;\n  } else if (mapObject.previousCenterLatitude !== mapObject.centerPosition.latitude && mapObject.previousCenterLongitude !== mapObject.centerPosition.longitude) {\n    mapObject.centerPositionChanged = true;\n    mapObject.previousCenterLatitude = mapObject.centerPosition.latitude;\n    mapObject.previousCenterLongitude = mapObject.centerPosition.longitude;\n  } else {\n    mapObject.centerPositionChanged = false;\n  }\n\n  if (isNullOrUndefined(mapObject.mapScaleValue) || zoomFactorValue > mapObject.mapScaleValue) {\n    if (mapObject.isReset && mapObject.mapScaleValue === 1) {\n      // eslint-disable-next-line no-self-assign\n      mapObject.mapScaleValue = mapObject.mapScaleValue;\n    } else {\n      mapObject.mapScaleValue = zoomFactorValue;\n    }\n  }\n\n  mapObject.mapScaleValue = mapObject.zoomSettings.zoomFactor !== 1 && mapObject.zoomSettings.zoomFactor === mapObject.mapScaleValue ? mapObject.zoomSettings.zoomFactor : mapObject.zoomSettings.zoomFactor !== mapObject.mapScaleValue && !mapObject.centerPositionChanged ? mapObject.mapScaleValue : mapObject.zoomSettings.zoomFactor;\n\n  if (mapObject.zoomSettings.shouldZoomInitially) {\n    mapObject.mapScaleValue = zoomFactorValue = scaleFactor = (mapObject.enablePersistence || mapObject.zoomSettings.shouldZoomInitially) && mapObject.scale === 1 ? mapObject.scale : isNullOrUndefined(mapObject.markerZoomFactor) ? mapObject.mapScaleValue : mapObject.markerZoomFactor;\n    zoomFactorValue = mapObject.mapScaleValue;\n\n    if (!isNullOrUndefined(mapObject.markerCenterLatitude) && !isNullOrUndefined(mapObject.markerCenterLongitude)) {\n      latitude = mapObject.markerCenterLatitude;\n      longitude = mapObject.markerCenterLongitude;\n    }\n  }\n\n  if (checkZoomMethod) {\n    mapObject.mapScaleValue = scaleFactor = zoomFactorValue = mapObject.scaleOfGivenLocation;\n  }\n\n  var zoomFactor = animate ? 1 : mapObject.mapScaleValue;\n  var size = mapObject.mapAreaRect;\n  var x;\n  var y; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n  var min = mapObject.baseMapRectBounds['min']; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n  var max = mapObject.baseMapRectBounds['max'];\n  var factor = animate ? 1 : mapObject.mapScaleValue;\n  var mapWidth = Math.abs(max['x'] - min['x']);\n  var mapHeight = Math.abs(min['y'] - max['y']);\n\n  if (!isNullOrUndefined(longitude) && !isNullOrUndefined(latitude) || checkZoomMethod) {\n    var topPosition = (mapHeight + Math.abs(mapObject.mapAreaRect.height - mapHeight)) / 2 / factor;\n    var leftPosition = (mapWidth + Math.abs(mapObject.mapAreaRect.width - mapWidth)) / 2 / factor;\n    var point = checkZoomMethod ? calculateCenterFromPixel(mapObject, layer) : convertGeoToPoint(latitude, longitude, mapObject.mapLayerPanel.calculateFactor(layer), layer, mapObject);\n\n    if ((!isNullOrUndefined(mapObject.zoomTranslatePoint) || !isNullOrUndefined(mapObject.previousProjection)) && !mapObject.zoomNotApplied) {\n      if (mapObject.previousProjection !== mapObject.projectionType) {\n        x = -point.x + leftPosition;\n        y = -point.y + topPosition;\n      } else {\n        x = mapObject.zoomTranslatePoint.x;\n        y = mapObject.zoomTranslatePoint.y;\n        zoomFactorValue = zoomFactor;\n      }\n    } else {\n      x = -point.x + leftPosition + mapObject.mapAreaRect.x / zoomFactor;\n      y = -point.y + topPosition + mapObject.mapAreaRect.y / zoomFactor;\n    }\n\n    if (!isNullOrUndefined(mapObject.translatePoint)) {\n      y = mapObject.enablePersistence && mapObject.translatePoint.y !== 0 && !mapObject.zoomNotApplied ? mapObject.translatePoint.y : y;\n      x = mapObject.enablePersistence && mapObject.translatePoint.x !== 0 && !mapObject.zoomNotApplied ? mapObject.translatePoint.x : x;\n    }\n\n    scaleFactor = zoomFactorValue !== 0 ? zoomFactorValue : 1;\n  } else {\n    var zoomFact = mapObject.zoomSettings.zoomFactor === 0 ? 1 : mapObject.zoomSettings.zoomFactor;\n    var maxZoomFact = mapObject.zoomSettings.maxZoom;\n    zoomFact = zoomFact > maxZoomFact ? maxZoomFact : zoomFact;\n    scaleFactor = zoomFact;\n    var mapScale = mapObject.mapScaleValue === 0 ? 1 : mapObject.mapScaleValue > maxZoomFact ? maxZoomFact : mapObject.mapScaleValue;\n    var leftPosition = size.x + (-min['x'] + (size.width / 2 - mapWidth / 2));\n    var topPosition = size.y + (-min['y'] + (size.height / 2 - mapHeight / 2));\n\n    if (!isNullOrUndefined(mapObject.zoomTranslatePoint) || !isNullOrUndefined(mapObject.previousProjection)) {\n      if (mapObject.previousProjection !== mapObject.projectionType) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var previousPositions = []; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n        var previousPoints = {\n          x: leftPosition,\n          y: topPosition\n        };\n        previousPositions.push(previousPoints);\n\n        for (var i = 1; i < maxZoomFact; i++) {\n          var translatePointX = previousPositions[i - 1]['x'] - (size.width / i - size.width / (i + 1)) / 2;\n          var translatePointY = previousPositions[i - 1]['y'] - (size.height / i - size.height / (i + 1)) / 2;\n          previousPoints = {\n            x: translatePointX,\n            y: translatePointY\n          };\n          previousPositions.push(previousPoints);\n        }\n\n        leftPosition = previousPositions[zoomFact - 1]['x'];\n        topPosition = previousPositions[zoomFact - 1]['y'];\n      } else {\n        leftPosition = mapObject.zoomTranslatePoint.x;\n        topPosition = mapObject.zoomTranslatePoint.y;\n\n        if (zoomFact !== mapScale) {\n          scaleFactor = mapScale;\n        }\n      }\n    }\n\n    if (!isNullOrUndefined(mapObject.translatePoint)) {\n      x = mapObject.enablePersistence && mapObject.translatePoint.x !== 0 && !mapObject.zoomNotApplied ? mapObject.translatePoint.x : leftPosition;\n      y = mapObject.enablePersistence && mapObject.translatePoint.y !== 0 && !mapObject.zoomNotApplied ? mapObject.translatePoint.y : topPosition;\n    }\n  }\n\n  scaleFactor = mapObject.enablePersistence ? mapObject.mapScaleValue === 0 ? 1 : mapObject.mapScaleValue : scaleFactor;\n  return {\n    scale: animate ? 1 : scaleFactor,\n    location: new Point(x, y)\n  };\n}\n/**\n * To get the html element by specified id\n *\n * @param {Maps} map - Specifies the instance of the maps\n * @returns {void}\n */\n\nexport function fixInitialScaleForTile(map) {\n  map.tileZoomScale = map.tileZoomLevel = Math.floor(map.availableSize.height / 512) + 1;\n  var padding = map.layers[map.baseLayerIndex].layerType !== 'GoogleStaticMap' ? 20 : 0;\n  var totalSize = Math.pow(2, map.tileZoomLevel) * 256;\n  map.tileTranslatePoint.x = map.availableSize.width / 2 - totalSize / 2;\n  map.tileTranslatePoint.y = map.availableSize.height / 2 - totalSize / 2 + padding;\n  map.previousTileWidth = map.availableSize.width;\n  map.previousTileHeight = map.availableSize.height;\n}\n/**\n * To get the html element by specified id\n *\n * @param {string} id - Specifies the id\n * @returns {Element} - Returns the element\n */\n\nexport function getElementByID(id) {\n  return document.getElementById(id);\n}\n/**\n * To apply internalization\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {number} value - Specifies the value\n * @returns {string} - Returns the string\n */\n\nexport function Internalize(maps, value) {\n  maps.formatFunction = maps.intl.getNumberFormat({\n    format: maps.format,\n    useGrouping: maps.useGroupingSeparator\n  });\n  return maps.formatFunction(value);\n}\n/**\n * Function to compile the template function for maps.\n *\n * @param {string} template - Specifies the template\n * @returns {Function} - Returns the function\n * @private\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\nexport function getTemplateFunction(template) {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  var templateFn = null; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n  var e;\n\n  try {\n    if (document.querySelectorAll(template).length) {\n      templateFn = templateComplier(document.querySelector(template).innerHTML.trim());\n    }\n  } catch (e) {\n    templateFn = templateComplier(template);\n  }\n\n  return templateFn;\n}\n/**\n * Function to get element from id.\n *\n * @param {string} id - Specifies the id\n * @returns {Element} - Returns the element\n * @private\n */\n\nexport function getElement(id) {\n  return document.getElementById(id);\n}\n/**\n * Function to get shape data using target id\n *\n * @param {string} targetId - Specifies the target id\n * @param {Maps} map - Specifies the instance of the maps\n * @returns {any} - Returns the object\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\nexport function getShapeData(targetId, map) {\n  var layerIndex = parseInt(targetId.split('_LayerIndex_')[1].split('_')[0], 10);\n  var shapeIndex = parseInt(targetId.split('_shapeIndex_')[1].split('_')[0], 10);\n  var layer = map.layersCollection[layerIndex]; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n  var shapeData = layer.layerData[shapeIndex]['property']; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n  var data;\n\n  if (layer.dataSource) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    data = layer.dataSource[checkShapeDataFields(layer.dataSource, shapeData, layer.shapeDataPath, layer.shapePropertyPath, layer)];\n  }\n\n  return {\n    shapeData: shapeData,\n    data: data\n  };\n}\n/**\n * Function to trigger shapeSelected event\n *\n * @param {string} targetId - Specifies the target id\n * @param {SelectionSettingsModel} selection - Specifies the selection\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {string} eventName - Specifies the event name\n * @returns {IShapeSelectedEventArgs} - Returns the event args\n * @private\n */\n\nexport function triggerShapeEvent(targetId, selection, maps, eventName) {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  var shape = getShapeData(targetId, maps);\n  var border = {\n    color: selection.border.color,\n    opacity: selection.border.opacity,\n    width: selection.border.width\n  };\n  var eventArgs = selection.enableMultiSelect ? {\n    cancel: false,\n    name: eventName,\n    fill: selection.fill,\n    opacity: selection.opacity,\n    border: border,\n    shapeData: shape.shapeData,\n    data: shape.data,\n    target: targetId,\n    maps: maps,\n    shapeDataCollection: maps.shapeSelectionItem\n  } : {\n    cancel: false,\n    name: eventName,\n    fill: selection.fill,\n    opacity: selection.opacity,\n    border: border,\n    shapeData: shape.shapeData,\n    data: shape.data,\n    target: targetId,\n    maps: maps\n  };\n  maps.trigger(eventName, eventArgs, function (observedArgs) {\n    eventArgs.border.opacity = isNullOrUndefined(eventArgs.border.opacity) ? eventArgs.opacity : eventArgs.border.opacity;\n  });\n  return eventArgs;\n}\n/**\n * Function to get elements using class name\n *\n * @param {string} className - Specifies the class name\n * @returns {HTMLCollectionOf<Element>} - Returns the collection\n */\n\nexport function getElementsByClassName(className) {\n  return document.getElementsByClassName(className);\n}\n/**\n * Function to get elements using querySelectorAll\n */\n// export function querySelectorAll(args: string, element: Element): ArrayOf<Element> {\n//     return element.querySelectorAll('.' + args);\n// }\n\n/**\n * Function to get elements using querySelector\n *\n * @param {string} args - Specifies the args\n * @param {string} elementSelector - Specifies the element selector\n * @returns {Element} - Returns the element\n */\n\nexport function querySelector(args, elementSelector) {\n  var targetEle = null;\n\n  if (document.getElementById(elementSelector)) {\n    targetEle = document.getElementById(elementSelector).querySelector('#' + args);\n  }\n\n  return targetEle;\n}\n/**\n * Function to get the element for selection and highlight using public method\n *\n * @param {number} layerIndex - Specifies the layer index\n * @param {string} name - Specifies the layer name\n * @param {boolean} enable - Specifies the boolean value\n * @param {Maps} map - Specifies the instance of the maps\n * @returns {Element} - Returns the element\n */\n\nexport function getTargetElement(layerIndex, name, enable, map) {\n  var shapeIndex;\n  var targetId; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n  var shapeData = map.layers[layerIndex].shapeData['features'];\n\n  for (var i = 0; i < shapeData.length; i++) {\n    if (shapeData[i]['properties'].name === name) {\n      targetId = map.element.id + '_' + 'LayerIndex_' + layerIndex + '_shapeIndex_' + i + '_dataIndex_undefined';\n      break;\n    }\n  }\n\n  var targetEle = getElement(targetId);\n  return targetEle;\n}\n/**\n * Function to create style element for highlight and selection\n *\n * @param {string} id - Specifies the id\n * @param {string} className - Specifies the class name\n * @param {IShapeSelectedEventArgs | any} eventArgs - Specifies the event args\n * @returns {Element} - Returns the element\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\nexport function createStyle(id, className, eventArgs) {\n  return createElement('style', {\n    id: id,\n    innerHTML: '.' + className + '{fill:' + eventArgs['fill'] + ';' + 'fill-opacity:' + eventArgs['opacity'].toString() + ';' + 'stroke-opacity:' + eventArgs['border']['opacity'].toString() + ';' + 'stroke-width:' + eventArgs['border']['width'].toString() + ';' + 'stroke:' + eventArgs['border']['color'] + ';' + '}'\n  });\n}\n/**\n * Function to customize the style for highlight and selection\n *\n * @param {string} id - Specifies the id\n * @param {string} className - Specifies the class name\n * @param {IShapeSelectedEventArgs | any} eventArgs - Specifies the event args\n * @returns {void}\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\nexport function customizeStyle(id, className, eventArgs) {\n  var styleEle = getElement(id);\n\n  if (!isNullOrUndefined(styleEle)) {\n    styleEle.innerHTML = '.' + className + '{fill:' + eventArgs['fill'] + ';' + 'fill-opacity:' + eventArgs['opacity'].toString() + ';' + 'stroke-width:' + eventArgs['border']['width'].toString() + ';' + 'stroke-opacity:' + eventArgs['border']['opacity'].toString() + ';' + 'stroke:' + eventArgs['border']['color'] + '}';\n  }\n}\n/**\n * Function to trigger itemSelection event for legend selection and public method\n *\n * @param {SelectionSettingsModel} selectionSettings - Specifies the selection settings\n * @param {Maps} map - Specifies the instance of the maps\n * @param {Element} targetElement - Specifies the target element\n * @param {any} shapeData - Specifies the shape data\n * @param {any} data - Specifies the data\n * @returns {void}\n */\n\nexport function triggerItemSelectionEvent(selectionSettings, map, targetElement, // eslint-disable-next-line @typescript-eslint/no-explicit-any\nshapeData, data) {\n  var border = {\n    color: selectionSettings.border.color,\n    width: selectionSettings.border.width / map.scale,\n    opacity: selectionSettings.border.opacity\n  };\n  var eventArgs = {\n    opacity: selectionSettings.opacity,\n    fill: selectionSettings.fill,\n    border: border,\n    name: itemSelection,\n    target: targetElement.id,\n    cancel: false,\n    shapeData: shapeData,\n    data: data,\n    maps: map\n  };\n  map.trigger('itemSelection', eventArgs, function (observedArgs) {\n    eventArgs.border.opacity = isNullOrUndefined(selectionSettings.border.opacity) ? selectionSettings.opacity : selectionSettings.border.opacity;\n    map.shapeSelectionItem.push(eventArgs.shapeData);\n\n    if (!getElement('ShapeselectionMap')) {\n      document.body.appendChild(createStyle('ShapeselectionMap', 'ShapeselectionMapStyle', eventArgs));\n    } else {\n      customizeStyle('ShapeselectionMap', 'ShapeselectionMapStyle', eventArgs);\n    }\n  });\n}\n/**\n * Function to remove class from element\n *\n * @param {Element} element - Specifies the element\n * @returns {void}\n */\n\nexport function removeClass(element) {\n  element.removeAttribute('class');\n}\n/**\n * Animation Effect Calculation End\n *\n * @param {Element} element - Specifies the element\n * @param {number} delay - Specifies the delay\n * @param {number} duration - Specifies the duration\n * @param {MapLocation} point - Specifies the location\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {string} ele - Specifies the element\n * @param {number} radius - Specifies the radius\n * @returns {void}\n * @private\n */\n\nexport function elementAnimate(element, delay, duration, point, maps, ele, radius) {\n  if (radius === void 0) {\n    radius = 0;\n  }\n\n  var centerX = point.x;\n  var centerY = point.y;\n  var height = 0;\n  var transform = element.getAttribute('transform') || '';\n  new Animation({}).animate(element, {\n    duration: duration,\n    delay: delay,\n    progress: function (args) {\n      if (args.timeStamp > args.delay) {\n        if (maps.isTileMap && height === 0) {\n          var layerGroupElement = document.querySelector('.GroupElement');\n\n          if (!isNullOrUndefined(layerGroupElement)) {\n            layerGroupElement.style.display = 'block';\n          }\n        }\n\n        height = (args.timeStamp - args.delay) / args.duration;\n        element.setAttribute('transform', 'translate( ' + (centerX - radius * height) + ' ' + (centerY - radius * height) + ' ) scale(' + height + ')');\n      }\n    },\n    end: function (model) {\n      element.setAttribute('transform', transform);\n\n      if (!ele) {\n        return;\n      }\n\n      var event = {\n        cancel: false,\n        name: animationComplete,\n        element: ele,\n        maps: maps\n      };\n      maps.trigger(animationComplete, event);\n    }\n  });\n}\n/**\n * @param {string} id - Specifies the id\n * @returns {void}\n */\n\nexport function timeout(id) {\n  removeElement(id);\n}\n/**\n * @param {string} text - Specifies the text\n * @param {string} size - Specifies the size\n * @param {number} x - Specifies the x value\n * @param {number} y - Specifies the y value\n * @param {number} areaWidth - Specifies the area width\n * @param {number} areaHeight - Specifies the area height\n * @param {string} id - Specifies the id\n * @param {Element} element - Specifies the element\n * @param {boolean} isTouch - Specifies the boolean value\n * @returns {void}\n */\n\nexport function showTooltip(text, size, x, y, areaWidth, areaHeight, id, element, isTouch) {\n  var location = getMousePosition(x, y, element);\n\n  if (!isNullOrUndefined(location)) {\n    x = location.x;\n    y = location.y;\n  }\n\n  var tooltip = document.getElementById(id);\n  var width = measureText(text, {\n    fontFamily: 'Segoe UI',\n    size: '8px',\n    fontStyle: 'Normal',\n    fontWeight: 'Regular'\n  }).width;\n  var str = text.split(' ');\n  var demo = str[0].length;\n\n  for (var i = 1; i < str.length; i++) {\n    if (demo < str[i].length) {\n      demo = str[i].length;\n    }\n  }\n\n  if (!tooltip) {\n    tooltip = createElement('div', {\n      id: id,\n      styles: 'background-color: rgb(255, 255, 255) !important; color:black !important; ' + 'position:absolute;border:1px solid rgb(0, 0, 0); padding-left:5px;' + 'font-size:12px; font-family: \"Segoe UI\"; text-align:center'\n    });\n  }\n\n  if (x < areaWidth - width) {\n    // eslint-disable-next-line no-self-assign\n    x = x;\n  } else if (x > areaWidth - width && x < areaWidth - demo * 8) {\n    width = areaWidth - x;\n  } else if (x >= areaWidth - demo * 8) {\n    if (x > width) {\n      x = x - width;\n    } else {\n      width = x;\n      x = 0;\n    }\n  }\n\n  var size1 = size.split('px');\n  wordWrap(tooltip, text, x, y, size1, width, areaWidth, element);\n  var height = tooltip.clientHeight;\n\n  if (height + parseInt(size1[0], 10) * 2 > areaHeight) {\n    width = x;\n    x = 0;\n  }\n\n  wordWrap(tooltip, text, x, y, size1, width, areaWidth, element);\n\n  if (isTouch) {\n    setTimeout(timeout, 5000, id);\n  }\n}\n/**\n * @param {HTMLElement} tooltip - Specifies the tooltip element\n * @param {string} text - Specifies the text\n * @param {number} x - Specifies the x value\n * @param {number} y - Specifies the y value\n * @param {string[]} size1 - Specifies the size\n * @param {number} width - Specifies the width\n * @param {number} areaWidth - Specifies the area width\n * @param {Element} element - Specifies the element\n * @returns {void}\n */\n\nexport function wordWrap(tooltip, text, x, y, size1, width, areaWidth, element) {\n  tooltip.innerHTML = text;\n  tooltip.style.top = tooltip.id.indexOf('_Legend') !== -1 ? (parseInt(size1[0], 10) + y).toString() + 'px' : (parseInt(size1[0], 10) * 2).toString() + 'px';\n  tooltip.style.left = x.toString() + 'px';\n  tooltip.style.width = width.toString() + 'px';\n  tooltip.style.maxWidth = areaWidth.toString() + 'px';\n  tooltip.style.wordWrap = 'break-word';\n  element.appendChild(tooltip);\n} // /**\n//  *\n//  * @param touchList\n//  * @param e\n//  * @param touches\n//  */\n// export function addTouchPointer(touchList: ITouches[], e: PointerEvent, touches: TouchList): ITouches[] {\n//     if (touches) {\n//         touchList = [];\n//         for (let i: number = 0, length: number = touches.length; i < length; i++) {\n//             touchList.push({ pageX: touches[i].clientX, pageY: touches[i].clientY, pointerId: null });\n//         }\n//     } else {\n//         touchList = touchList ? touchList : [];\n//         if (touchList.length === 0) {\n//             touchList.push({ pageX: e.clientX, pageY: e.clientY, pointerId: e.pointerId });\n//         } else {\n//             for (let i: number = 0, length: number = touchList.length; i < length; i++) {\n//                 if (touchList[i].pointerId === e.pointerId) {\n//                     touchList[i] = { pageX: e.clientX, pageY: e.clientY, pointerId: e.pointerId };\n//                 } else {\n//                     touchList.push({ pageX: e.clientX, pageY: e.clientY, pointerId: e.pointerId });\n//                 }\n//             }\n//         }\n//     }\n//     return touchList;\n// }\n\n/**\n * @param {string} id - Specifies the id\n * @param {string} text - Specifies the text\n * @param {string} top - Specifies the top\n * @param {string} left - Specifies the left\n * @param {string} fontSize - Specifies the fontSize\n * @returns {void}\n * @private\n */\n\nexport function createTooltip(id, text, top, left, fontSize) {\n  var tooltip = getElement(id);\n  var style = 'top:' + top.toString() + 'px;' + 'left:' + left.toString() + 'px;' + 'color: #000000; ' + 'background:' + '#FFFFFF' + ';' + 'position:absolute;border:1px solid #707070;font-size:' + fontSize + ';border-radius:2px;';\n\n  if (!tooltip) {\n    tooltip = createElement('div', {\n      id: id,\n      innerHTML: '&nbsp;' + text + '&nbsp;',\n      styles: style\n    });\n    document.body.appendChild(tooltip);\n  } else {\n    tooltip.setAttribute('innerHTML', '&nbsp;' + text + '&nbsp;');\n    tooltip.setAttribute('styles', style);\n  }\n}\n/**\n * @param {Point} location - Specifies the location\n * @param {string} shape - Specifies the shape\n * @param {Size} size - Specifies the size\n * @param {string} url - Specifies the url\n * @param {PathOption} options - Specifies the options\n * @returns {Element} - Returns the element\n * @private\n */\n\nexport function drawSymbol(location, shape, size, url, options) {\n  var functionName = 'Path';\n  var renderer = new SvgRenderer('');\n  var temp = renderLegendShape(location, size, shape, options, url);\n  var htmlObject = renderer['draw' + temp.functionName](temp.renderOption);\n  return htmlObject;\n}\n/**\n * @param {MapLocation} location - Specifies the location\n * @param {Size} size - Specifies the size\n * @param {string} shape - Specifies the shape\n * @param {PathOption} options - Specifies the path options\n * @param {string} url - Specifies the url\n * @returns {IShapes} - Returns the shapes\n * @private\n */\n\nexport function renderLegendShape(location, size, shape, options, url) {\n  var renderPath;\n  var functionName = 'Path';\n  var shapeWidth = size.width;\n  var shapeHeight = size.height;\n  var shapeX = location.x;\n  var shapeY = location.y;\n  var x = location.x + -shapeWidth / 2;\n  var y = location.y + -shapeHeight / 2;\n  options['stroke'] = shape === 'HorizontalLine' || shape === 'VerticalLine' || shape === 'Cross' ? options['fill'] : options['stroke'];\n  options['stroke-width'] = options['stroke-width'] === 0 && (shape === 'HorizontalLine' || shape === 'VerticalLine' || shape === 'Cross') ? 1 : options['stroke-width'];\n\n  switch (shape) {\n    case 'Circle':\n    case 'Bubble':\n      functionName = 'Ellipse';\n      merge(options, {\n        'rx': shapeWidth / 2,\n        'ry': shapeHeight / 2,\n        'cx': shapeX,\n        'cy': shapeY\n      });\n      break;\n\n    case 'VerticalLine':\n      renderPath = 'M' + ' ' + shapeX + ' ' + (shapeY + shapeHeight / 2) + ' ' + 'L' + ' ' + shapeX + ' ' + (shapeY + -shapeHeight / 2);\n      merge(options, {\n        'd': renderPath\n      });\n      break;\n\n    case 'HorizontalLine':\n      renderPath = 'M' + ' ' + shapeX + ' ' + shapeY + ' ' + 'L' + ' ' + (shapeX + shapeWidth / 2) + ' ' + shapeY;\n      merge(options, {\n        'd': renderPath\n      });\n      break;\n\n    case 'Diamond':\n      renderPath = 'M' + ' ' + x + ' ' + shapeY + ' ' + 'L' + ' ' + shapeX + ' ' + (shapeY + -shapeHeight / 2) + ' ' + 'L' + ' ' + (shapeX + shapeWidth / 2) + ' ' + shapeY + ' ' + 'L' + ' ' + shapeX + ' ' + (shapeY + shapeHeight / 2) + ' ' + 'L' + ' ' + x + ' ' + shapeY + ' z';\n      merge(options, {\n        'd': renderPath\n      });\n      break;\n\n    case 'Rectangle':\n      renderPath = 'M' + ' ' + x + ' ' + (shapeY + -shapeHeight / 2) + ' ' + 'L' + ' ' + (shapeX + shapeWidth / 2) + ' ' + (shapeY + -shapeHeight / 2) + ' ' + 'L' + ' ' + (shapeX + shapeWidth / 2) + ' ' + (shapeY + shapeHeight / 2) + ' ' + 'L' + ' ' + x + ' ' + (shapeY + shapeHeight / 2) + ' ' + 'L' + ' ' + x + ' ' + (shapeY + -shapeHeight / 2) + ' z';\n      merge(options, {\n        'd': renderPath\n      });\n      break;\n\n    case 'Triangle':\n      renderPath = 'M' + ' ' + x + ' ' + (shapeY + shapeHeight / 2) + ' ' + 'L' + ' ' + shapeX + ' ' + (shapeY + -shapeHeight / 2) + ' ' + 'L' + ' ' + (shapeX + shapeWidth / 2) + ' ' + (shapeY + shapeHeight / 2) + ' ' + 'L' + ' ' + x + ' ' + (shapeY + shapeHeight / 2) + ' z';\n      merge(options, {\n        'd': renderPath\n      });\n      break;\n\n    case 'InvertedTriangle':\n      renderPath = 'M' + ' ' + (shapeX + shapeWidth / 2) + ' ' + (shapeY - shapeHeight / 2) + ' ' + 'L' + ' ' + shapeX + ' ' + (shapeY + shapeHeight / 2) + ' ' + 'L' + ' ' + (shapeX - shapeWidth / 2) + ' ' + (shapeY - shapeHeight / 2) + ' ' + 'L' + ' ' + (shapeX + shapeWidth / 2) + ' ' + (shapeY - shapeHeight / 2) + ' z';\n      merge(options, {\n        'd': renderPath\n      });\n      break;\n\n    case 'Pentagon':\n      // eslint-disable-next-line no-case-declarations\n      var eq = 72;\n      var xValue = void 0;\n      var yValue = void 0;\n\n      for (var i = 0; i <= 5; i++) {\n        xValue = shapeWidth / 2 * Math.cos(Math.PI / 180 * (i * eq));\n        yValue = shapeWidth / 2 * Math.sin(Math.PI / 180 * (i * eq));\n\n        if (i === 0) {\n          renderPath = 'M' + ' ' + (shapeX + xValue) + ' ' + (shapeY + yValue) + ' ';\n        } else {\n          renderPath = renderPath.concat('L' + ' ' + (shapeX + xValue) + ' ' + (shapeY + yValue) + ' ');\n        }\n      }\n\n      renderPath = renderPath.concat('Z');\n      merge(options, {\n        'd': renderPath\n      });\n      break;\n\n    case 'Star':\n      renderPath = 'M ' + (location.x + size.width / 3) + ' ' + (location.y - size.height / 2) + ' L ' + (location.x - size.width / 2) + ' ' + (location.y + size.height / 6) + ' L ' + (location.x + size.width / 2) + ' ' + (location.y + size.height / 6) + ' L ' + (location.x - size.width / 3) + ' ' + (location.y - size.height / 2) + ' L ' + location.x + ' ' + (location.y + size.height / 2) + ' L ' + (location.x + size.width / 3) + ' ' + (location.y - size.height / 2) + ' Z';\n      merge(options, {\n        'd': renderPath\n      });\n      break;\n\n    case 'Cross':\n      renderPath = 'M' + ' ' + x + ' ' + shapeY + ' ' + 'L' + ' ' + (shapeX + shapeWidth / 2) + ' ' + shapeY + ' ' + 'M' + ' ' + shapeX + ' ' + (shapeY + shapeHeight / 2) + ' ' + 'L' + ' ' + shapeX + ' ' + (shapeY + -shapeHeight / 2);\n      merge(options, {\n        'd': renderPath\n      });\n      break;\n\n    case 'Image':\n      functionName = 'Image';\n      merge(options, {\n        'href': url,\n        'height': shapeHeight,\n        'width': shapeWidth,\n        x: x,\n        y: y\n      });\n      break;\n  }\n\n  return {\n    renderOption: options,\n    functionName: functionName\n  };\n}\n/**\n * Animation Effect Calculation End\n *\n * @private\n */\n// export function markerTemplateAnimate(element: Element, delay: number, duration: number, point: MapLocation): void {\n//     let delta: number = 0;\n//     let top: string = (element as HTMLElement).style.top;\n//     let y: number = parseInt(top, 10);\n//     new Animation({}).animate(<HTMLElement>element, {\n//         duration: duration,\n//         delay: delay,\n//         progress: (args: AnimationOptions): void => {\n//             if (args.timeStamp > args.delay) {\n//                 delta = ((args.timeStamp - args.delay) / args.duration);\n//                 (element as HTMLElement).style.top = y - 100 + (delta * 100) + 'px';\n//             }\n//         },\n//         end: (model: AnimationOptions) => {\n//             (element as HTMLElement).style.top = top;\n//         }\n//     });\n// }\n\n/**\n * @param {HTMLElement} childElement - Specifies the child element\n * @param {HTMLElement} parentElement - Specifies the parent element\n * @returns {Size} - Returns the size\n * @private\n */\n\nexport function getElementOffset(childElement, parentElement) {\n  parentElement.appendChild(childElement);\n  var width = childElement.offsetWidth;\n  var height = childElement.offsetHeight;\n  parentElement.removeChild(childElement);\n  return new Size(width, height);\n}\n/**\n * @param {Element} element - Specifies the element\n * @param {number} index - Specifies the element\n * @param {number} scale - Specifies the scale\n * @param {Maps} maps - Specifies the instance of the maps\n * @returns {void}\n * @private\n */\n\nexport function changeBorderWidth(element, index, scale, maps) {\n  var childNode;\n\n  for (var l = 0; l < element.childElementCount; l++) {\n    childNode = element.childNodes[l];\n\n    if (childNode.id.indexOf('_NavigationGroup') > -1) {\n      changeNavaigationLineWidth(childNode, index, scale, maps);\n    } else {\n      var currentStroke = void 0;\n      var value = 0; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n      var borderWidthValue = maps.layersCollection[index].shapeSettings.borderWidthValuePath;\n      var borderWidth = maps.layersCollection[index].shapeSettings.border.width;\n\n      if (maps.layersCollection[index].shapeSettings.borderWidthValuePath) {\n        value = checkShapeDataFields( // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        maps.layersCollection[index].dataSource, maps.layersCollection[index].layerData[l]['property'], maps.layersCollection[index].shapeDataPath, maps.layersCollection[index].shapePropertyPath, maps.layersCollection[index]);\n\n        if (value !== null) {\n          if (maps.layersCollection[index].dataSource[value][borderWidthValue]) {\n            currentStroke = maps.layersCollection[index].dataSource[value][borderWidthValue];\n          } else {\n            currentStroke = isNullOrUndefined(borderWidth) ? 0 : borderWidth;\n          }\n        }\n      } else {\n        currentStroke = isNullOrUndefined(borderWidth) ? 0 : borderWidth;\n      }\n\n      childNode.setAttribute('stroke-width', (currentStroke / scale).toString());\n\n      if (element.id.indexOf('_LineString') > -1 && isNullOrUndefined(currentStroke)) {\n        childNode.setAttribute('stroke-width', (1 / scale).toString());\n      }\n    }\n  }\n}\n/**\n * @param {Element} element - Specifies the element\n * @param {number} index - Specifies the element\n * @param {number} scale - Specifies the scale\n * @param {Maps} maps - Specifies the instance of the maps\n * @returns {void}\n * @private\n */\n\nexport function changeNavaigationLineWidth(element, index, scale, maps) {\n  var node;\n\n  for (var m = 0; m < element.childElementCount; m++) {\n    node = element.childNodes[m];\n\n    if (node.tagName === 'path') {\n      var currentStroke = maps.layersCollection[index].navigationLineSettings[parseFloat(node.id.split('_NavigationIndex_')[1].split('_')[0])].width;\n      node.setAttribute('stroke-width', (currentStroke / scale).toString());\n    }\n  }\n} // /** Pinch zoom helper methods */\n\n/**\n * @param {PointerEvent | TouchEvent} event - Specifies the pointer or touch event\n * @returns {ITouches[]} - Returns the target\n * @private */\n\nexport function targetTouches(event) {\n  var targetTouches = [];\n  var touches = event.touches;\n\n  for (var i = 0; i < touches.length; i++) {\n    targetTouches.push({\n      pageX: touches[i].pageX,\n      pageY: touches[i].pageY\n    });\n  }\n\n  return targetTouches;\n}\n/**\n * @param {ITouches[]} startTouches - Specifies the start touches\n * @param {ITouches[]} endTouches - Specifies the end touches\n * @returns {number} - Returns the number\n * @private\n */\n\nexport function calculateScale(startTouches, endTouches) {\n  var startDistance = getDistance(startTouches[0], startTouches[1]);\n  var endDistance = getDistance(endTouches[0], endTouches[1]);\n  return endDistance / startDistance;\n}\n/**\n * @param {ITouches} a - Specifies the a value\n * @param {ITouches} b - Specifies the b value\n * @returns {number} - Returns the number\n * @private */\n\nexport function getDistance(a, b) {\n  var x = a.pageX - b.pageX;\n  var y = a.pageY - b.pageY;\n  return Math.sqrt(x * x + y * y);\n}\n/**\n * @param {ITouches[]} touches - Specifies the touches\n * @param {Maps} maps - Specifies the instance of the maps\n * @returns {any[]} - Returns the object\n * @private\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\nexport function getTouches(touches, maps) {\n  var rect = maps.element.getBoundingClientRect();\n  var posTop = rect.top + document.defaultView.pageXOffset;\n  var posLeft = rect.left + document.defaultView.pageYOffset;\n  return Array.prototype.slice.call(touches).map(function (touch) {\n    return {\n      x: touch.pageX - posLeft,\n      y: touch.pageY - posTop\n    };\n  });\n}\n/**\n * @param {any[]} touches - Specifies the touches\n * @returns {Point} - Returns the point\n * @private\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\nexport function getTouchCenter(touches) {\n  return {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    x: touches.map(function (e) {\n      return e['x'];\n    }).reduce(sum) / touches.length,\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    y: touches.map(function (e) {\n      return e['y'];\n    }).reduce(sum) / touches.length\n  };\n}\n/**\n * @param {number} a - Specifies a value\n * @param {number} b - Specifies b value\n * @returns {number} - Returns the sum of a and b\n * @private\n */\n\nexport function sum(a, b) {\n  return a + b;\n}\n/**\n * Animation Effect Calculation End\n *\n * @param {Element} element - Specifies the element.\n * @param {number} delay - Specifies the delay.\n * @param {number} duration - Specifies the duration.\n * @param {MapLocation} point - Specifies the location.\n * @param {number} scale - Specifies the scale value.\n * @param {Size} size - Specifies the size.\n * @param {Maps} maps - Specifies the maps.\n * @returns {void}\n * @private\n */\n\nexport function zoomAnimate(element, delay, duration, point, scale, size, maps) {\n  var delta = 0;\n  var previousLocation = maps.previousPoint;\n  var preScale = maps.previousScale;\n  var diffScale = scale - preScale;\n  var currentLocation = new MapLocation(0, 0);\n  var currentScale = 1;\n\n  if (scale === preScale) {\n    element.setAttribute('transform', 'scale( ' + scale + ' ) translate( ' + point.x + ' ' + point.y + ' )');\n    return;\n  } // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n  var slope = function (previousLocation, point) {\n    if (previousLocation.x === point.x) {\n      return null;\n    }\n\n    return (point.y - previousLocation.y) / (point.x - previousLocation.x);\n  }; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n  var intercept = function (point, slopeValue) {\n    if (slopeValue === null) {\n      return point.x;\n    }\n\n    return point.y - slopeValue * point.x;\n  };\n\n  var slopeFactor = slope(previousLocation, point);\n  var slopeIntersection = intercept(previousLocation, slopeFactor);\n  var horizontalDifference = point.x - previousLocation.x;\n  var verticalDifference = point.y - previousLocation.y;\n  animate(element, delay, duration, function (args) {\n    if (args.timeStamp > args.delay) {\n      delta = (args.timeStamp - args.delay) / args.duration;\n      currentScale = preScale + delta * diffScale;\n      currentLocation.x = previousLocation.x + delta * horizontalDifference / (currentScale / scale);\n\n      if (slopeFactor == null) {\n        currentLocation.y = previousLocation.y + delta * verticalDifference;\n      } else {\n        currentLocation.y = slopeFactor * currentLocation.x + slopeIntersection;\n      }\n\n      args.element.setAttribute('transform', 'scale( ' + currentScale + ' ) ' + 'translate( ' + currentLocation.x + ' ' + currentLocation.y + ' )');\n      maps.translatePoint = currentLocation;\n      maps.scale = currentScale;\n      maps.zoomModule.processTemplate(point.x, point.y, currentScale, maps);\n    }\n  }, function () {\n    maps.translatePoint = point;\n    maps.scale = scale;\n    element.setAttribute('transform', 'scale( ' + scale + ' ) translate( ' + point.x + ' ' + point.y + ' )');\n    maps.zoomModule.processTemplate(point.x, point.y, scale, maps);\n  });\n}\n/**\n * To process custom animation\n *\n * @param {Element} element - Specifies the element\n * @param {number} delay - Specifies the delay\n * @param {number} duration - Specifies the duration\n * @param {Function} process - Specifies the process\n * @param {Function} end - Specifies the end\n * @returns {void}\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\nexport function animate(element, delay, duration, process, end) {\n  var _this = this;\n\n  var start = null; // eslint-disable-next-line prefer-const\n\n  var clearAnimation;\n  var markerStyle = 'visibility:visible';\n\n  var startAnimation = function (timestamp) {\n    if (!start) {\n      start = timestamp;\n    }\n\n    var progress = timestamp - start;\n\n    if (progress < duration) {\n      process.call(_this, {\n        element: element,\n        delay: 0,\n        timeStamp: progress,\n        duration: duration\n      });\n      window.requestAnimationFrame(startAnimation);\n    } else {\n      window.cancelAnimationFrame(clearAnimation);\n      end.call(_this, {\n        element: element\n      });\n      element.setAttribute('style', markerStyle);\n    }\n  };\n\n  clearAnimation = window.requestAnimationFrame(startAnimation);\n}\n/**\n * To get shape data file using Ajax.\n */\n\nvar MapAjax =\n/** @class */\nfunction () {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  function MapAjax(options, type, async, contentType, sendData) {\n    this.dataOptions = options;\n    this.type = type || 'GET';\n    this.async = async || true;\n    this.contentType = contentType;\n    this.sendData = sendData;\n  }\n\n  return MapAjax;\n}();\n\nexport { MapAjax };\n/**\n * Animation Translate\n *\n * @param {Element} element - Specifies the element\n * @param {number} delay - Specifies the delay\n * @param {number} duration - Specifies the duration\n * @param {MapLocation} point - Specifies the location\n * @returns {void}\n * @private\n */\n\nexport function smoothTranslate(element, delay, duration, point) {\n  var delta = 0;\n  var transform = element.getAttribute('transform').split(' ');\n\n  if (transform.length === 2) {\n    transform[2] = transform[1].split(')')[0];\n    transform[1] = transform[0].split('(')[1];\n  }\n\n  var previousLocation = new MapLocation(parseInt(transform[1], 10), parseInt(transform[2], 10));\n  var diffx = point.x - previousLocation.x;\n  var diffy = point.y - previousLocation.y;\n  var currentLocation = new MapLocation(0, 0);\n  animate(element, delay, duration, function (args) {\n    if (args.timeStamp > args.delay) {\n      delta = (args.timeStamp - args.delay) / args.duration;\n      currentLocation.x = previousLocation.x + delta * diffx;\n      currentLocation.y = previousLocation.y + delta * diffy;\n      args.element.setAttribute('transform', 'translate( ' + currentLocation.x + ' ' + currentLocation.y + ' )');\n    }\n  }, function () {\n    element.setAttribute('transform', 'translate( ' + point.x + ' ' + point.y + ' )');\n  });\n}\n/**\n * To find compare should zoom factor with previous factor and current factor\n *\n * @param {number} scaleFactor - Specifies the scale factor\n * @param {Maps} maps - Specifies the instance of the maps\n * @returns {void}\n */\n\nexport function compareZoomFactor(scaleFactor, maps) {\n  var previous = isNullOrUndefined(maps.shouldZoomPreviousFactor) ? null : maps.shouldZoomPreviousFactor;\n  var current = isNullOrUndefined(maps.shouldZoomCurrentFactor) ? null : maps.shouldZoomCurrentFactor;\n\n  if (!isNullOrUndefined(current)) {\n    maps.shouldZoomCurrentFactor = null;\n    maps.shouldZoomPreviousFactor = null;\n  } else if (!isNullOrUndefined(previous) && isNullOrUndefined(current) && maps.shouldZoomPreviousFactor !== scaleFactor) {\n    maps.shouldZoomCurrentFactor = scaleFactor;\n  } else {\n    maps.shouldZoomPreviousFactor = scaleFactor;\n  }\n}\n/**\n * To find zoom level for the min and max latitude values\n *\n * @param {number} minLat - Specifies the minimum latitude\n * @param {number} maxLat - Specifies the maximum latitude\n * @param {number} minLong - Specifies the minimum longitude\n * @param {number} maxLong - Specifies the maximum longitude\n * @param {number} mapWidth - Specifies the width of the maps\n * @param {number} mapHeight - Specifies the height of the maps\n * @param {Maps} maps - Specifies the instance of the maps\n * @returns {number} - Returns the scale factor\n */\n\nexport function calculateZoomLevel(minLat, maxLat, minLong, maxLong, mapWidth, mapHeight, maps) {\n  var scaleFactor;\n  var maxZoomFact = maps.zoomSettings.maxZoom;\n  var applyMethodeZoom;\n  var maxLatSin = Math.sin(maxLat * Math.PI / 180);\n  var maxLatRad = Math.log((1 + maxLatSin) / (1 - maxLatSin)) / 2;\n  var maxLatValue = Math.max(Math.min(maxLatRad, Math.PI), -Math.PI) / 2;\n  var minLatSin = Math.sin(minLat * Math.PI / 180);\n  var minLatRad = Math.log((1 + minLatSin) / (1 - minLatSin)) / 2;\n  var minLatValue = Math.max(Math.min(minLatRad, Math.PI), -Math.PI) / 2;\n\n  if (maps.zoomNotApplied && !maps.isTileMap) {\n    var latiRatio = Math.abs((maps.baseMapBounds.latitude.max - maps.baseMapBounds.latitude.min) / (maxLat - minLat));\n    var longiRatio = Math.abs((maps.baseMapBounds.longitude.max - maps.baseMapBounds.longitude.min) / (maxLong - minLong));\n    applyMethodeZoom = Math.min(latiRatio, longiRatio);\n    var minLocation = convertGeoToPoint(minLat, minLong, 1, maps.layersCollection[0], maps);\n    var maxLocation = convertGeoToPoint(maxLat, maxLong, 1, maps.layersCollection[0], maps);\n  }\n\n  var latRatio = (maxLatValue - minLatValue) / Math.PI;\n  var lngDiff = maxLong - minLong;\n  var lngRatio = (lngDiff < 0 ? lngDiff + 360 : lngDiff) / 360;\n  var WORLD_PX_HEIGHT = 256;\n  var WORLD_PX_WIDTH = 256;\n  var latZoom = Math.log(mapHeight / WORLD_PX_HEIGHT / latRatio) / Math.LN2;\n  var lngZoom = Math.log(mapWidth / WORLD_PX_WIDTH / lngRatio) / Math.LN2;\n  var result = maps.zoomNotApplied && !maps.isTileMap ? applyMethodeZoom : Math.min(latZoom, lngZoom);\n  scaleFactor = Math.min(result, maxZoomFact);\n  scaleFactor = maps.isTileMap || !maps.zoomNotApplied ? Math.floor(scaleFactor) : scaleFactor;\n\n  if (!maps.isTileMap) {\n    compareZoomFactor(scaleFactor, maps);\n  }\n\n  return scaleFactor;\n}\n/**\n * Method to get the result\n *\n * @param {any} e - Specifies the any type value\n * @returns {any} - Returns the data value\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\nexport function processResult(e) {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  var dataValue; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n  var resultValue = !isNullOrUndefined(e['result']) ? e['result'] : e['actual'];\n\n  if (isNullOrUndefined(resultValue.length)) {\n    if (!isNullOrUndefined(resultValue['Items'])) {\n      dataValue = resultValue['Items'];\n    }\n  } else {\n    dataValue = resultValue;\n  }\n\n  return dataValue;\n}","map":{"version":3,"sources":["C:/Users/vinay/Desktop/world-map-dashboard/world-map/node_modules/@syncfusion/ej2-maps/src/maps/utils/helper.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","createElement","isNullOrUndefined","remove","compile","templateComplier","merge","Animation","SvgRenderer","itemSelection","animationComplete","markerClusterRendering","Size","width","height","stringToNumber","value","containerSize","undefined","indexOf","parseInt","calculateSize","maps","element","style","containerWidth","clientWidth","containerHeight","clientHeight","containerElementWidth","containerElementHeight","availableSize","isDevice","Math","min","window","innerWidth","innerHeight","createSvg","renderer","id","svgObject","setAttribute","getMousePosition","pageX","pageY","elementRect","getBoundingClientRect","pageXOffset","ownerDocument","defaultView","pageYOffset","clientTop","documentElement","clientLeft","positionX","left","positionY","top","MapLocation","degreesToRadians","deg","PI","radiansToDegrees","radian","convertGeoToPoint","latitude","longitude","factor","layer","mapModel","mapSize","mapAreaRect","x","y","lat","lng","temp","longitudeMinMax","baseMapBounds","latitudeMinMax","latRadian","lngRadian","type","projectionType","size","isTileMap","pow","geometryType","abs","max","pixelOrigin","Point","sinY","calculateBound","sin","log","aitoff","tan","sqrt","cos","epsilon","delta","Infinity","i","roundTo","xToCoordinate","yToCoordinate","convertTileLatLongToPoint","center","zoomLevel","tileTranslatePoint","isMapCoordinates","sinLatitude","pixelX","pixelY","mapObject","val","totalSize","baseSize","round","cosy","sincia","sinci","acos","a","c","triggerDownload","fileName","url","isDownload","attrs","toLocaleLowerCase","dispatchEvent","MouseEvent","view","bubbles","cancelable","MinMax","GeoLocation","measureText","text","font","measureObject","document","getElementById","body","appendChild","innerHTML","position","fontSize","fontWeight","fontStyle","fontFamily","visibility","whiteSpace","lineHeight","TextOption","anchor","transform","baseLine","PathOption","fill","color","fillOpacity","strokeOpacity","dashArray","stroke","ColorValue","r","g","RectOption","_super","border","rect","rx","ry","_this","call","opacity","CircleOption","cx","cy","PolygonOption","points","PolylineOption","LineOption","line","x1","y1","x2","y2","Line","Rect","PatternOptions","patternUnits","patternContentUnits","patternTransform","href","renderTextElement","option","parent","isMinus","renderOptions","length","tspanElement","htmlObject","createText","len","createTSpan","convertElement","markerId","data","index","mapObj","childElement","styles","elementLength","templateHtml","templateSplitValue","properties","keys","convertStringToValue","toLowerCase","replace","RegExp","toString","formatValue","formatFunction","format","isNaN","Number","intl","getNumberFormat","useGrouping","useGroupingSeparator","stringTemplate","templateValue","split","search","j","getValueFromObject","join","convertElementFromLabel","labelId","labelEle","childElementCount","outerHTML","drawSymbols","shape","imageUrl","location","markerID","shapeCustom","markerCollection","markerEle","borderColor","borderWidth","parseFloat","borderOpacity","padding","rectOptions","pathOptions","radius","circleOptions","drawCircle","drawRectangle","drawImage","calculateShapes","splits","markerColorChoose","eventArgs","colorValuePath","markerShapeChoose","shapeValuePath","imageUrlValuePath","shapes","shapeImage","clusterTemplate","currentLayer","markerTemplate","layerIndex","layerElement","check","zoomCheck","bounds1","bounds2","colloideBounds","clusterColloideBounds","tempX","tempY","markerClusterSettings","labelStyle","options","textElement","tempElement1","tempElement","postionY","m","indexCollection","clusters","clusterGroup","createGroup","eventArg","cancel","name","cluster","trigger","clusterargs","o","childNodes","push","right","bottom","filter","item","container","translate","getTranslate","transPoint","translatePoint","dataIndex","markerIndex","markerSetting","markerSettings","markerData","dataSource","location_1","longitudeValuePath","latitudeValuePath","mapLayerPanel","calculateFactor","zoomSettings","enable","tileZoomLevel","clusters_1","mapScaleValue","clusterID","labelID","imageShapeY","ele","children","tagName","textContent","insertBefore","firstChild","getElementByID","markerCluster","mergeSeparateCluster","sameMarkerData","markerElement","clusterIndex","targetClusterIndex","clusterId","clusterEle","getElement","clusterEleLabel","markerDataLength","removeElement","clusterSeparate","isDom","getElementFunction","querySelector","bind","getQueryConnect","marker","layers","parentElement","centerX","getAttribute","trim","centerY","area","totalMarker","numberOfMarker","percent","angle","newAngle","count","start","path","connectorLine","connectorLineSettings","groupEle","drawPath","offset","scale","maintainSelection","selectedMarkerElementId","markerSelectionClass","markerPoint","animationDuration","elementAnimate","animationDelay","templateFn","getTemplateFunction","template","templateElement","pointerEvents","baseLayerIndex","layerType","staticMapOffset","markerElementOffset","staticMapOffsetWidth","display","elementId","elementClass","className","maintainStyleClass","idClass","styleClass","shapeSelectionClass","appendShape","drawPolygon","drawPolyline","drawLine","tempGroup","drawBalloon","eq","xValue","yValue","drawDiamond","drawTriangle","drawCross","drawHorizontalLine","drawVerticalLine","drawStar","pathElement","balloon","drawPattern","elements","pattern","createPattern","_i","elements_1","getFieldData","fields","newData","dataSource_1","_a","fields_1","field","checkShapeDataFields","dataPath","propertyPath","shapeDataPath","shapePath","checkPropertyPath","shapeDataPathValue","propertiesShapePathValue","shapeData","shapePropertyPath","length_1","shapeDataValue","shapePropertiesValue","end","pointObject","point","getRatioOfBubble","minValue","maxValue","bubbleRadius","findMidPointOfPolygon","startX","startY","startX1","startY1","sum","xSum","ySum","rightMinPoint","rightMaxPoint","leftMinPoint","leftMaxPoint","bottomMinPoint","bottomMaxPoint","topMinPoint","topMaxPoint","rightMin","rightMax","leftMin","leftMax","topMax","topMin","bottomMax","bottomMin","isCustomPath","layerData","customPath","forEach","textTrim","maxWidth","label","textLength","substring","findPosition","alignment","textSize","calculateCenterFromPixel","point1","minLatOfGivenLocation","minLongOfGivenLocation","point2","maxLatOfGivenLocation","maxLongOfGivenLocation","animate","zoomFactorValue","zoomFactor","scaleFactor","centerPosition","centerLatitude","centerLongitude","checkMethodeZoom","centerLatOfGivenLocation","centerLongOfGivenLocation","zoomNotApplied","shouldZoomInitially","enablePersistence","markerZoomFactor","markerCenterLatitude","markerCenterLongitude","scaleOfGivenLocation","baseMapRectBounds","currentShapeDataLength","totalRect","legendSettings","visible","availSize","mapWidth","mapHeight","markerZoomedState","zoomPersistence","markerZoomCenterPoint","leftPosition","topPosition","previousProjection","floor","zoomTranslatePoint","toFixed","widthDiff","translateType","previousTranslate","heightBeforeRefresh","widthBeforeRefresh","cscaleFactor","cmapWidth","cmapHeight","xdiff","ydiff","actxdiff","actydiff","zoomModule","isDragZoom","getZoomTranslate","checkZoomMethod","previousCenterLatitude","previousCenterLongitude","centerPositionChanged","isReset","zoomFact","maxZoomFact","maxZoom","mapScale","previousPositions","previousPoints","translatePointX","translatePointY","fixInitialScaleForTile","map","tileZoomScale","previousTileWidth","previousTileHeight","Internalize","e","querySelectorAll","getShapeData","targetId","shapeIndex","layersCollection","triggerShapeEvent","selection","eventName","enableMultiSelect","target","shapeDataCollection","shapeSelectionItem","observedArgs","getElementsByClassName","args","elementSelector","targetEle","getTargetElement","createStyle","customizeStyle","styleEle","triggerItemSelectionEvent","selectionSettings","targetElement","removeClass","removeAttribute","delay","duration","progress","timeStamp","layerGroupElement","model","event","timeout","showTooltip","areaWidth","areaHeight","isTouch","tooltip","str","demo","size1","wordWrap","setTimeout","createTooltip","drawSymbol","functionName","renderLegendShape","renderOption","renderPath","shapeWidth","shapeHeight","shapeX","shapeY","concat","getElementOffset","offsetWidth","offsetHeight","removeChild","changeBorderWidth","childNode","l","changeNavaigationLineWidth","currentStroke","borderWidthValue","shapeSettings","borderWidthValuePath","node","navigationLineSettings","targetTouches","touches","calculateScale","startTouches","endTouches","startDistance","getDistance","endDistance","getTouches","posTop","posLeft","slice","touch","getTouchCenter","reduce","zoomAnimate","previousLocation","previousPoint","preScale","previousScale","diffScale","currentLocation","currentScale","slope","intercept","slopeValue","slopeFactor","slopeIntersection","horizontalDifference","verticalDifference","processTemplate","process","clearAnimation","markerStyle","startAnimation","timestamp","requestAnimationFrame","cancelAnimationFrame","MapAjax","async","contentType","sendData","dataOptions","smoothTranslate","diffx","diffy","compareZoomFactor","previous","shouldZoomPreviousFactor","current","shouldZoomCurrentFactor","calculateZoomLevel","minLat","maxLat","minLong","maxLong","applyMethodeZoom","maxLatSin","maxLatRad","maxLatValue","minLatSin","minLatRad","minLatValue","latiRatio","longiRatio","minLocation","maxLocation","latRatio","lngDiff","lngRatio","WORLD_PX_HEIGHT","WORLD_PX_WIDTH","latZoom","LN2","lngZoom","result","processResult","dataValue","resultValue"],"mappings":"AAAA,IAAIA,SAAS,GAAI,QAAQ,KAAKA,SAAd,IAA6B,YAAY;AACrD,MAAIC,aAAa,GAAG,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AAChCF,IAAAA,aAAa,GAAGG,MAAM,CAACC,cAAP,IACX;AAAEC,MAAAA,SAAS,EAAE;AAAb,iBAA6BC,KAA7B,IAAsC,UAAUL,CAAV,EAAaC,CAAb,EAAgB;AAAED,MAAAA,CAAC,CAACI,SAAF,GAAcH,CAAd;AAAkB,KAD/D,IAEZ,UAAUD,CAAV,EAAaC,CAAb,EAAgB;AAAE,WAAK,IAAIK,CAAT,IAAcL,CAAd,EAAiB,IAAIA,CAAC,CAACM,cAAF,CAAiBD,CAAjB,CAAJ,EAAyBN,CAAC,CAACM,CAAD,CAAD,GAAOL,CAAC,CAACK,CAAD,CAAR;AAAc,KAF9E;;AAGA,WAAOP,aAAa,CAACC,CAAD,EAAIC,CAAJ,CAApB;AACH,GALD;;AAMA,SAAO,UAAUD,CAAV,EAAaC,CAAb,EAAgB;AACnBF,IAAAA,aAAa,CAACC,CAAD,EAAIC,CAAJ,CAAb;;AACA,aAASO,EAAT,GAAc;AAAE,WAAKC,WAAL,GAAmBT,CAAnB;AAAuB;;AACvCA,IAAAA,CAAC,CAACU,SAAF,GAAcT,CAAC,KAAK,IAAN,GAAaC,MAAM,CAACS,MAAP,CAAcV,CAAd,CAAb,IAAiCO,EAAE,CAACE,SAAH,GAAeT,CAAC,CAACS,SAAjB,EAA4B,IAAIF,EAAJ,EAA7D,CAAd;AACH,GAJD;AAKH,CAZ2C,EAA5C;AAaA;;AACA;;AACA;;AACA;AACA;AACA;;;AACA,SAASI,aAAT,EAAwBC,iBAAxB,EAA2CC,MAA3C,EAAmDC,OAAO,IAAIC,gBAA9D,EAAgFC,KAAhF,QAA6F,sBAA7F;AACA,SAASC,SAAT,QAA0B,sBAA1B;AACA,SAASC,WAAT,QAA4B,0BAA5B;AACA,SAASC,aAAT,QAA8B,aAA9B;AACA,SAASC,iBAAT,QAAkC,UAAlC;AACA,SAASC,sBAAT,QAAuC,UAAvC;AACA;AACA;AACA;;AACA,IAAIC,IAAI;AAAG;AAAe,YAAY;AAClC,WAASA,IAAT,CAAcC,KAAd,EAAqBC,MAArB,EAA6B;AACzB,SAAKD,KAAL,GAAaA,KAAb;AACA,SAAKC,MAAL,GAAcA,MAAd;AACH;;AACD,SAAOF,IAAP;AACH,CANyB,EAA1B;;AAOA,SAASA,IAAT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASG,cAAT,CAAwBC,KAAxB,EAA+BC,aAA/B,EAA8C;AACjD,MAAID,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAKE,SAAhC,EAA2C;AACvC,WAAOF,KAAK,CAACG,OAAN,CAAc,GAAd,MAAuB,CAAC,CAAxB,GAA6BF,aAAa,GAAG,GAAjB,GAAwBG,QAAQ,CAACJ,KAAD,EAAQ,EAAR,CAA5D,GAA0EI,QAAQ,CAACJ,KAAD,EAAQ,EAAR,CAAzF;AACH;;AACD,SAAO,IAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASK,aAAT,CAAuBC,IAAvB,EAA6B;AAChCA,EAAAA,IAAI,CAACC,OAAL,CAAaC,KAAb,CAAmBV,MAAnB,GAA4B,CAACZ,iBAAiB,CAACoB,IAAI,CAACR,MAAN,CAAlB,GAAkCQ,IAAI,CAACR,MAAvC,GAAgD,MAA5E;AACAQ,EAAAA,IAAI,CAACC,OAAL,CAAaC,KAAb,CAAmBX,KAAnB,GAA2B,CAACX,iBAAiB,CAACoB,IAAI,CAACT,KAAN,CAAlB,GAAiCS,IAAI,CAACT,KAAtC,GAA8C,MAAzE;AACA,MAAIY,cAAc,GAAGH,IAAI,CAACC,OAAL,CAAaG,WAAlC;AACA,MAAIC,eAAe,GAAGL,IAAI,CAACC,OAAL,CAAaK,YAAnC;AACA,MAAIC,qBAAqB,GAAGd,cAAc,CAACO,IAAI,CAACC,OAAL,CAAaC,KAAb,CAAmBX,KAApB,EAA2BY,cAA3B,CAA1C;AACA,MAAIK,sBAAsB,GAAGf,cAAc,CAACO,IAAI,CAACC,OAAL,CAAaC,KAAb,CAAmBV,MAApB,EAA4Ba,eAA5B,CAA3C;AACA,MAAII,aAAa,GAAG,IAAInB,IAAJ,CAAS,CAAT,EAAY,CAAZ,CAApB;;AACA,MAAIU,IAAI,CAACT,KAAL,KAAe,KAAf,IAAwBS,IAAI,CAACT,KAAL,KAAe,IAAvC,IAA+CS,IAAI,CAACR,MAAL,KAAgB,IAA/D,IAAuEQ,IAAI,CAACR,MAAL,KAAgB,KAA3F,EAAkG;AAC9FiB,IAAAA,aAAa,GAAG,IAAInB,IAAJ,CAAS,CAAT,EAAY,CAAZ,CAAhB;AACH,GAFD,MAGK;AACDmB,IAAAA,aAAa,GAAG,IAAInB,IAAJ,CAASG,cAAc,CAACO,IAAI,CAACT,KAAN,EAAaY,cAAb,CAAd,IAA8CA,cAA9C,IAAgEI,qBAAhE,IAAyF,GAAlG,EAAuGd,cAAc,CAACO,IAAI,CAACR,MAAN,EAAca,eAAd,CAAd,IAAgDA,eAAhD,IAAmEG,sBAAnE,KAA8FR,IAAI,CAACU,QAAL,GACjNC,IAAI,CAACC,GAAL,CAASC,MAAM,CAACC,UAAhB,EAA4BD,MAAM,CAACE,WAAnC,CADiN,GAC/J,GADiE,CAAvG,CAAhB;AAEH;;AACD,SAAON,aAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASO,SAAT,CAAmBhB,IAAnB,EAAyB;AAC5BA,EAAAA,IAAI,CAACiB,QAAL,GAAgB,IAAI/B,WAAJ,CAAgBc,IAAI,CAACC,OAAL,CAAaiB,EAA7B,CAAhB;AACAlB,EAAAA,IAAI,CAACS,aAAL,GAAqBV,aAAa,CAACC,IAAD,CAAlC;AACAA,EAAAA,IAAI,CAACmB,SAAL,GAAiBnB,IAAI,CAACiB,QAAL,CAAcD,SAAd,CAAwB;AACrCE,IAAAA,EAAE,EAAElB,IAAI,CAACC,OAAL,CAAaiB,EAAb,GAAkB,MADe;AAErC3B,IAAAA,KAAK,EAAES,IAAI,CAACS,aAAL,CAAmBlB,KAFW;AAGrCC,IAAAA,MAAM,EAAEQ,IAAI,CAACS,aAAL,CAAmBjB;AAHU,GAAxB,CAAjB;;AAKA,MAAIQ,IAAI,CAACT,KAAL,KAAe,KAAf,IAAwBS,IAAI,CAACT,KAAL,KAAe,IAAvC,IAA+CS,IAAI,CAACR,MAAL,KAAgB,IAA/D,IAAuEQ,IAAI,CAACR,MAAL,KAAgB,KAA3F,EAAkG;AAC9FQ,IAAAA,IAAI,CAACmB,SAAL,CAAeC,YAAf,CAA4B,QAA5B,EAAsC,GAAtC;AACApB,IAAAA,IAAI,CAACmB,SAAL,CAAeC,YAAf,CAA4B,OAA5B,EAAqC,GAArC;AACH;AACJ;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,gBAAT,CAA0BC,KAA1B,EAAiCC,KAAjC,EAAwCtB,OAAxC,EAAiD;AACpD,MAAIuB,WAAW,GAAGvB,OAAO,CAACwB,qBAAR,EAAlB;AACA,MAAIC,WAAW,GAAGzB,OAAO,CAAC0B,aAAR,CAAsBC,WAAtB,CAAkCF,WAApD;AACA,MAAIG,WAAW,GAAG5B,OAAO,CAAC0B,aAAR,CAAsBC,WAAtB,CAAkCC,WAApD;AACA,MAAIC,SAAS,GAAG7B,OAAO,CAAC0B,aAAR,CAAsBI,eAAtB,CAAsCD,SAAtD;AACA,MAAIE,UAAU,GAAG/B,OAAO,CAAC0B,aAAR,CAAsBI,eAAtB,CAAsCC,UAAvD;AACA,MAAIC,SAAS,GAAGT,WAAW,CAACU,IAAZ,GAAmBR,WAAnB,GAAiCM,UAAjD;AACA,MAAIG,SAAS,GAAGX,WAAW,CAACY,GAAZ,GAAkBP,WAAlB,GAAgCC,SAAhD;AACA,SAAO,IAAIO,WAAJ,CAAiBf,KAAK,GAAGW,SAAzB,EAAsCV,KAAK,GAAGY,SAA9C,CAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASG,gBAAT,CAA0BC,GAA1B,EAA+B;AAClC,SAAOA,GAAG,IAAI5B,IAAI,CAAC6B,EAAL,GAAU,GAAd,CAAV;AACH;AACD;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,gBAAT,CAA0BC,MAA1B,EAAkC;AACrC,SAAOA,MAAM,IAAI,MAAM/B,IAAI,CAAC6B,EAAf,CAAb;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASG,iBAAT,CAA2BC,QAA3B,EAAqCC,SAArC,EAAgDC,MAAhD,EAAwDC,KAAxD,EAA+DC,QAA/D,EAAyE;AAC5E,MAAIC,OAAO,GAAG,IAAI3D,IAAJ,CAAS0D,QAAQ,CAACE,WAAT,CAAqB3D,KAA9B,EAAqCyD,QAAQ,CAACE,WAAT,CAAqB1D,MAA1D,CAAd;AACA,MAAI2D,CAAJ;AACA,MAAIC,CAAJ;AACA,MAAI1D,KAAJ;AACA,MAAI2D,GAAJ;AACA,MAAIC,GAAJ;AACA,MAAIC,IAAJ;AACA,MAAIC,eAAe,GAAGR,QAAQ,CAACS,aAAT,CAAuBZ,SAA7C;AACA,MAAIa,cAAc,GAAGV,QAAQ,CAACS,aAAT,CAAuBb,QAA5C;AACA,MAAIe,SAAS,GAAGrB,gBAAgB,CAACM,QAAD,CAAhC;AACA,MAAIgB,SAAS,GAAGtB,gBAAgB,CAACO,SAAD,CAAhC;AACA,MAAIgB,IAAI,GAAGb,QAAQ,CAACc,cAApB;AACA,MAAIC,IAAI,GAAIf,QAAQ,CAACgB,SAAV,GAAuBrD,IAAI,CAACsD,GAAL,CAAS,CAAT,EAAY,CAAZ,IAAiB,GAAxC,GAA+CrF,iBAAiB,CAACkE,MAAD,CAAlB,GACrDnC,IAAI,CAACC,GAAL,CAASqC,OAAO,CAAC1D,KAAjB,EAAwB0D,OAAO,CAACzD,MAAhC,CADqD,GACVmB,IAAI,CAACC,GAAL,CAASqC,OAAO,CAAC1D,KAAjB,EAAwB0D,OAAO,CAACzD,MAAhC,IAA0CsD,MADzF;;AAEA,MAAIC,KAAK,CAACmB,YAAN,KAAuB,QAA3B,EAAqC;AACjCf,IAAAA,CAAC,GAAGvE,iBAAiB,CAACkE,MAAD,CAAjB,GAA4BD,SAA5B,GAAwClC,IAAI,CAACwD,GAAL,CAAS,CAACtB,SAAS,GAAGW,eAAe,CAAC5C,GAA7B,IAAoCkC,MAA7C,CAA5C;AACAM,IAAAA,CAAC,GAAGxE,iBAAiB,CAACkE,MAAD,CAAjB,GAA4BF,QAA5B,GAAuCjC,IAAI,CAACwD,GAAL,CAAS,CAACT,cAAc,CAACU,GAAf,GAAqBxB,QAAtB,IAAkCE,MAA3C,CAA3C;AACH,GAHD,MAIK,IAAIC,KAAK,CAACmB,YAAN,KAAuB,YAA3B,EAAyC;AAC1C,YAAQL,IAAR;AACI,WAAK,UAAL;AAAiB;AACb,cAAIQ,WAAW,GAAG,IAAIC,KAAJ,CAAUP,IAAI,GAAG,CAAjB,EAAoBA,IAAI,GAAG,CAA3B,CAAlB;AACAZ,UAAAA,CAAC,GAAGkB,WAAW,CAAClB,CAAZ,GAAgBN,SAAS,IAAIkB,IAAI,GAAG,GAAX,CAA7B;AACA,cAAIQ,IAAI,GAAGC,cAAc,CAAC7D,IAAI,CAAC8D,GAAL,CAASnC,gBAAgB,CAACM,QAAD,CAAzB,CAAD,EAAuC,CAAC,MAAxC,EAAgD,MAAhD,CAAzB;AACAQ,UAAAA,CAAC,GAAGiB,WAAW,CAACjB,CAAZ,GAAgB,MAAOzC,IAAI,CAAC+D,GAAL,CAAS,CAAC,IAAIH,IAAL,KAAc,IAAIA,IAAlB,CAAT,CAAP,GAA6C,EAAER,IAAI,IAAI,IAAIpD,IAAI,CAAC6B,EAAb,CAAN,CAAjE;AACA;AACH;;AACD,WAAK,SAAL;AACI9C,QAAAA,KAAK,GAAGiF,MAAM,CAACf,SAAD,EAAYD,SAAZ,CAAd;AACAL,QAAAA,GAAG,GAAG,CAAC5D,KAAK,CAACyD,CAAN,GAAUS,SAAS,IAAIjD,IAAI,CAAC6B,EAAL,GAAU,CAAd,CAApB,IAAwC,CAA9C;AACAa,QAAAA,GAAG,GAAG,CAAC3D,KAAK,CAAC0D,CAAN,GAAUO,SAAX,IAAwB,CAA9B;AACA;;AACJ,WAAK,QAAL;AACIL,QAAAA,GAAG,GAAGM,SAAN;AACAP,QAAAA,GAAG,GAAI,OAAO1C,IAAI,CAAC+D,GAAL,CAAS/D,IAAI,CAACiE,GAAL,CAAUjE,IAAI,CAAC6B,EAAL,GAAU,CAAX,GAAiB,KAAKmB,SAA/B,CAAT,CAAd;AACA;;AACJ,WAAK,SAAL;AACIJ,QAAAA,IAAI,GAAG5C,IAAI,CAACkE,IAAL,CAAUlE,IAAI,CAAC6B,EAAL,IAAW,IAAI7B,IAAI,CAAC6B,EAApB,CAAV,CAAP;AACAc,QAAAA,GAAG,GAAG,IAAIC,IAAJ,GAAWK,SAAX,IAAwB,IAAIjD,IAAI,CAACkE,IAAL,CAAU,IAAI,IAAIlB,SAAJ,GAAgBA,SAAhB,IAA6BhD,IAAI,CAAC6B,EAAL,GAAU7B,IAAI,CAAC6B,EAA5C,CAAd,CAA5B,CAAN;AACAa,QAAAA,GAAG,GAAG,IAAIE,IAAJ,GAAWI,SAAjB;AACA;;AACJ,WAAK,QAAL;AACIjE,QAAAA,KAAK,GAAGiF,MAAM,CAACf,SAAD,EAAYD,SAAZ,CAAd;AACAL,QAAAA,GAAG,GAAG5D,KAAK,CAACyD,CAAZ;AACAE,QAAAA,GAAG,GAAG3D,KAAK,CAAC0D,CAAZ;AACA;;AACJ,WAAK,SAAL;AACIE,QAAAA,GAAG,GAAGM,SAAS,IAAI,IAAIjD,IAAI,CAACmE,GAAL,CAASnB,SAAT,CAAR,CAAT,GAAwChD,IAAI,CAACkE,IAAL,CAAU,IAAIlE,IAAI,CAAC6B,EAAnB,CAA9C;AACAa,QAAAA,GAAG,GAAG,IAAIM,SAAJ,GAAgBhD,IAAI,CAACkE,IAAL,CAAU,IAAIlE,IAAI,CAAC6B,EAAnB,CAAtB;AACA;;AACJ,WAAK,iBAAL;AACIc,QAAAA,GAAG,GAAGM,SAAN;AACAP,QAAAA,GAAG,GAAGM,SAAN;AACA;;AACJ,WAAK,SAAL;AAAgB;AACZ,cAAIoB,OAAO,GAAG,IAAd;AACAxB,UAAAA,IAAI,GAAG,CAAC,IAAK5C,IAAI,CAAC6B,EAAL,GAAU,CAAhB,IAAsB7B,IAAI,CAAC8D,GAAL,CAASd,SAAT,CAA7B;AACA,cAAIqB,KAAK,GAAGC,QAAZ;;AACA,eAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,EAAJ,IAAUvE,IAAI,CAACwD,GAAL,CAASa,KAAT,IAAkBD,OAA5C,EAAqDG,CAAC,EAAtD,EAA0D;AACtDF,YAAAA,KAAK,GAAG,CAACrB,SAAS,GAAIhD,IAAI,CAAC8D,GAAL,CAASd,SAAT,CAAb,GAAoCJ,IAArC,KAA8C,IAAI5C,IAAI,CAACmE,GAAL,CAASnB,SAAT,CAAlD,CAAR;AACAA,YAAAA,SAAS,GAAGA,SAAS,GAAGqB,KAAxB;AACH;;AACDzB,UAAAA,IAAI,GAAG5C,IAAI,CAACkE,IAAL,CAAU,IAAIlE,IAAI,CAAC6B,EAAnB,CAAP;AACAc,UAAAA,GAAG,GAAGM,SAAS,IAAI,IAAIjD,IAAI,CAACmE,GAAL,CAASnB,SAAT,CAAR,CAAT,GAAwCJ,IAA9C;AACAF,UAAAA,GAAG,GAAG,IAAIM,SAAJ,GAAgBJ,IAAtB;AACA;AACH;AA/CL;;AAiDAJ,IAAAA,CAAC,GAAIU,IAAI,KAAK,UAAV,GAAwBV,CAAxB,GAA4BgC,OAAO,CAACC,aAAa,CAACpC,QAAD,EAAWP,gBAAgB,CAACa,GAAD,CAA3B,CAAd,EAAiD,CAAjD,CAAvC;AACAF,IAAAA,CAAC,GAAIS,IAAI,KAAK,UAAV,GAAwBT,CAAxB,GAA6B,CAAE+B,OAAO,CAACE,aAAa,CAACrC,QAAD,EAAWP,gBAAgB,CAACY,GAAD,CAA3B,CAAd,EAAiD,CAAjD,CAA1C;AACH;;AACD,SAAO,IAAIiB,KAAJ,CAAUnB,CAAV,EAAaC,CAAb,CAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASkC,yBAAT,CAAmCC,MAAnC,EAA2CC,SAA3C,EAAsDC,kBAAtD,EAA0EC,gBAA1E,EAA4F;AAC/F,MAAI3B,IAAI,GAAGpD,IAAI,CAACsD,GAAL,CAAS,CAAT,EAAYuB,SAAZ,IAAyB,GAApC;AACA,MAAIrC,CAAC,GAAG,CAACoC,MAAM,CAACpC,CAAP,GAAW,GAAZ,IAAmB,GAA3B;AACA,MAAIwC,WAAW,GAAGhF,IAAI,CAAC8D,GAAL,CAASc,MAAM,CAACnC,CAAP,GAAWzC,IAAI,CAAC6B,EAAhB,GAAqB,GAA9B,CAAlB;AACA,MAAIY,CAAC,GAAG,MAAMzC,IAAI,CAAC+D,GAAL,CAAS,CAAC,IAAIiB,WAAL,KAAqB,IAAIA,WAAzB,CAAT,KAAmD,IAAIhF,IAAI,CAAC6B,EAA5D,CAAd;AACA,MAAIoD,MAAM,GAAGL,MAAM,CAACpC,CAApB;AACA,MAAI0C,MAAM,GAAGN,MAAM,CAACnC,CAApB;;AACA,MAAIsC,gBAAJ,EAAsB;AAClBE,IAAAA,MAAM,GAAIzC,CAAC,GAAGY,IAAJ,GAAW,GAAZ,GAAmB0B,kBAAkB,CAACtC,CAA/C;AACA0C,IAAAA,MAAM,GAAIzC,CAAC,GAAGW,IAAJ,GAAW,GAAZ,GAAmB0B,kBAAkB,CAACrC,CAA/C;AACH;;AACD,SAAO;AAAED,IAAAA,CAAC,EAAEyC,MAAL;AAAaxC,IAAAA,CAAC,EAAEyC;AAAhB,GAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAAST,aAAT,CAAuBU,SAAvB,EAAkCC,GAAlC,EAAuC;AAC1C,MAAIvC,eAAe,GAAGsC,SAAS,CAACrC,aAAV,CAAwBZ,SAA9C;AACA,MAAImD,SAAS,GAAGpH,iBAAiB,CAACkH,SAAS,CAACG,QAAX,CAAjB,GAAwCH,SAAS,CAAC5C,WAAV,CAAsB3D,KAA9D,GAAsEuG,SAAS,CAAC5C,WAAV,CAAsB3D,KAAtB,GACjFoB,IAAI,CAACwD,GAAL,CAAS2B,SAAS,CAACG,QAAV,CAAmB1G,KAAnB,GAA2BuG,SAAS,CAAC5C,WAAV,CAAsB3D,KAA1D,IAAmE,CADxE;AAEA,SAAOoB,IAAI,CAACuF,KAAL,CAAWF,SAAS,IAAID,GAAG,GAAGvC,eAAe,CAAC5C,GAA1B,CAAT,IAA2C4C,eAAe,CAACY,GAAhB,GAAsBZ,eAAe,CAAC5C,GAAjF,IAAwF,GAAnG,IAA0G,GAAjH;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASyE,aAAT,CAAuBS,SAAvB,EAAkCC,GAAlC,EAAuC;AAC1C,MAAIrC,cAAc,GAAGoC,SAAS,CAACrC,aAAV,CAAwBb,QAA7C;AACA,SAAOjC,IAAI,CAACuF,KAAL,CAAWJ,SAAS,CAAC5C,WAAV,CAAsB1D,MAAtB,IAAgCuG,GAAG,GAAGrC,cAAc,CAAC9C,GAArD,KAA6D8C,cAAc,CAACU,GAAf,GAAqBV,cAAc,CAAC9C,GAAjG,IAAwG,GAAnH,IAA0H,GAAjI;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAAS+D,MAAT,CAAgBxB,CAAhB,EAAmBC,CAAnB,EAAsB;AACzB,MAAI+C,IAAI,GAAGxF,IAAI,CAACmE,GAAL,CAAS1B,CAAT,CAAX;AACA,MAAIgD,MAAM,GAAGC,KAAK,CAACC,IAAI,CAACH,IAAI,GAAGxF,IAAI,CAACmE,GAAL,CAAS3B,CAAC,IAAI,CAAd,CAAR,CAAL,CAAlB;AACA,SAAO,IAAImB,KAAJ,CAAU,IAAI6B,IAAJ,GAAWxF,IAAI,CAAC8D,GAAL,CAAStB,CAAT,CAAX,GAAyBiD,MAAnC,EAA2CzF,IAAI,CAAC8D,GAAL,CAASrB,CAAT,IAAcgD,MAAzD,CAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASjB,OAAT,CAAiBoB,CAAjB,EAAoBvI,CAApB,EAAuB;AAC1B,MAAIwI,CAAC,GAAG7F,IAAI,CAACsD,GAAL,CAAS,EAAT,EAAajG,CAAb,CAAR;AACA,SAAQ2C,IAAI,CAACuF,KAAL,CAAWK,CAAC,GAAGC,CAAf,IAAoBA,CAA5B;AACH;AACD;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASH,KAAT,CAAelD,CAAf,EAAkB;AACrB,SAAOA,CAAC,GAAGxC,IAAI,CAAC8D,GAAL,CAAStB,CAAT,CAAX;AACH;AACD;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASmD,IAAT,CAAcC,CAAd,EAAiB;AACpB,SAAO5F,IAAI,CAAC2F,IAAL,CAAUC,CAAV,CAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAAS/B,cAAT,CAAwB9E,KAAxB,EAA+BkB,GAA/B,EAAoCwD,GAApC,EAAyC;AAC5C,MAAI,CAACxF,iBAAiB,CAACgC,GAAD,CAAtB,EAA6B;AACzBlB,IAAAA,KAAK,GAAGiB,IAAI,CAACyD,GAAL,CAAS1E,KAAT,EAAgBkB,GAAhB,CAAR;AACH;;AACD,MAAI,CAAEhC,iBAAiB,CAACwF,GAAD,CAAvB,EAA+B;AAC3B1E,IAAAA,KAAK,GAAGiB,IAAI,CAACC,GAAL,CAASlB,KAAT,EAAgB0E,GAAhB,CAAR;AACH;;AACD,SAAO1E,KAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAAS+G,eAAT,CAAyBC,QAAzB,EAAmC7C,IAAnC,EAAyC8C,GAAzC,EAA8CC,UAA9C,EAA0D;AAC7DjI,EAAAA,aAAa,CAAC,GAAD,EAAM;AACfkI,IAAAA,KAAK,EAAE;AACH,kBAAYH,QAAQ,GAAG,GAAX,GAAiB7C,IAAI,CAACiD,iBAAL,EAD1B;AAEH,cAAQH;AAFL;AADQ,GAAN,CAAb,CAKGI,aALH,CAKiB,IAAIC,UAAJ,CAAeJ,UAAU,GAAG,OAAH,GAAa,MAAtC,EAA8C;AAC3DK,IAAAA,IAAI,EAAEpG,MADqD;AAE3DqG,IAAAA,OAAO,EAAE,KAFkD;AAG3DC,IAAAA,UAAU,EAAE;AAH+C,GAA9C,CALjB;AAUH;AACD;AACA;AACA;;AACA,IAAI7C,KAAK;AAAG;AAAe,YAAY;AACnC,WAASA,KAAT,CAAenB,CAAf,EAAkBC,CAAlB,EAAqB;AACjB,SAAKD,CAAL,GAASA,CAAT;AACA,SAAKC,CAAL,GAASA,CAAT;AACH;;AACD,SAAOkB,KAAP;AACH,CAN0B,EAA3B;;AAOA,SAASA,KAAT;AACA;AACA;AACA;AACA;;AACA,IAAI8C,MAAM;AAAG;AAAe,YAAY;AACpC,WAASA,MAAT,CAAgBxG,GAAhB,EAAqBwD,GAArB,EAA0B;AACtB,SAAKxD,GAAL,GAAWA,GAAX;AACA,SAAKwD,GAAL,GAAWA,GAAX;AACH;;AACD,SAAOgD,MAAP;AACH,CAN2B,EAA5B;;AAOA,SAASA,MAAT;AACA;AACA;AACA;;AACA,IAAIC,WAAW;AAAG;AAAe,YAAY;AACzC,WAASA,WAAT,CAAqBzE,QAArB,EAA+BC,SAA/B,EAA0C;AACtC,SAAKD,QAAL,GAAgB,IAAIwE,MAAJ,CAAWxE,QAAQ,CAAChC,GAApB,EAAyBgC,QAAQ,CAACwB,GAAlC,CAAhB;AACA,SAAKvB,SAAL,GAAiB,IAAIuE,MAAJ,CAAWvE,SAAS,CAACjC,GAArB,EAA0BiC,SAAS,CAACuB,GAApC,CAAjB;AACH;;AACD,SAAOiD,WAAP;AACH,CANgC,EAAjC;;AAOA,SAASA,WAAT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,WAAT,CAAqBC,IAArB,EAA2BC,IAA3B,EAAiC;AACpC,MAAIC,aAAa,GAAGC,QAAQ,CAACC,cAAT,CAAwB,iBAAxB,CAApB;;AACA,MAAIF,aAAa,KAAK,IAAtB,EAA4B;AACxBA,IAAAA,aAAa,GAAG9I,aAAa,CAAC,MAAD,EAAS;AAAEuC,MAAAA,EAAE,EAAE;AAAN,KAAT,CAA7B;AACAwG,IAAAA,QAAQ,CAACE,IAAT,CAAcC,WAAd,CAA0BJ,aAA1B;AACH;;AACDA,EAAAA,aAAa,CAACK,SAAd,GAA0BP,IAA1B;AACAE,EAAAA,aAAa,CAACvH,KAAd,CAAoB6H,QAApB,GAA+B,UAA/B;;AACA,MAAI,OAAQP,IAAI,CAACzD,IAAb,KAAuB,QAA3B,EAAqC;AACjC0D,IAAAA,aAAa,CAACvH,KAAd,CAAoB8H,QAApB,GAAgCR,IAAI,CAACzD,IAAN,GAAc,IAA7C;AACH,GAFD,MAGK;AACD0D,IAAAA,aAAa,CAACvH,KAAd,CAAoB8H,QAApB,GAA+BR,IAAI,CAACzD,IAApC;AACH;;AACD0D,EAAAA,aAAa,CAACvH,KAAd,CAAoB+H,UAApB,GAAiCT,IAAI,CAACS,UAAtC;AACAR,EAAAA,aAAa,CAACvH,KAAd,CAAoBgI,SAApB,GAAgCV,IAAI,CAACU,SAArC;AACAT,EAAAA,aAAa,CAACvH,KAAd,CAAoBiI,UAApB,GAAiCX,IAAI,CAACW,UAAtC;AACAV,EAAAA,aAAa,CAACvH,KAAd,CAAoBkI,UAApB,GAAiC,QAAjC;AACAX,EAAAA,aAAa,CAACvH,KAAd,CAAoBkC,GAApB,GAA0B,MAA1B;AACAqF,EAAAA,aAAa,CAACvH,KAAd,CAAoBgC,IAApB,GAA2B,GAA3B;AACAuF,EAAAA,aAAa,CAACvH,KAAd,CAAoBmI,UAApB,GAAiC,QAAjC,CApBoC,CAqBpC;;AACAZ,EAAAA,aAAa,CAACvH,KAAd,CAAoBoI,UAApB,GAAiC,QAAjC;AACA,SAAO,IAAIhJ,IAAJ,CAASmI,aAAa,CAACrH,WAAvB,EAAoCqH,aAAa,CAACnH,YAAlD,CAAP;AACH;AACD;AACA;AACA;AACA;AACA;;AACA,IAAIiI,UAAU;AAAG;AAAe,YAAY;AACxC,WAASA,UAAT,CAAoBrH,EAApB,EAAwBiC,CAAxB,EAA2BC,CAA3B,EAA8BoF,MAA9B,EAAsCjB,IAAtC,EAA4CkB,SAA5C,EAAuDC,QAAvD,EAAiE;AAC7D,QAAID,SAAS,KAAK,KAAK,CAAvB,EAA0B;AAAEA,MAAAA,SAAS,GAAG,EAAZ;AAAiB;;AAC7C,SAAKA,SAAL,GAAiB,EAAjB;AACA,SAAKC,QAAL,GAAgB,MAAhB;AACA,SAAKxH,EAAL,GAAUA,EAAV;AACA,SAAKqG,IAAL,GAAYA,IAAZ;AACA,SAAKkB,SAAL,GAAiBA,SAAjB;AACA,SAAKD,MAAL,GAAcA,MAAd;AACA,SAAKrF,CAAL,GAASA,CAAT;AACA,SAAKC,CAAL,GAASA,CAAT;AACA,SAAKsF,QAAL,GAAgBA,QAAhB;AACH;;AACD,SAAOH,UAAP;AACH,CAd+B,EAAhC;;AAeA,SAASA,UAAT;AACA;AACA;AACA;AACA;AACA;;AACA,IAAII,UAAU;AAAG;AAAe,YAAY;AACxC,WAASA,UAAT,CAAoBzH,EAApB,EAAwB0H,IAAxB,EAA8BrJ,KAA9B,EAAqCsJ,KAArC,EAA4CC,WAA5C,EAAyDC,aAAzD,EAAwEC,SAAxE,EAAmFjL,CAAnF,EAAsF;AAClF,SAAKmD,EAAL,GAAUA,EAAV;AACA,SAAK,cAAL,IAAuB4H,WAAvB;AACA,SAAK,gBAAL,IAAyBC,aAAzB;AACA,SAAKH,IAAL,GAAYA,IAAZ;AACA,SAAKK,MAAL,GAAcJ,KAAd;AACA,SAAK,cAAL,IAAuBtJ,KAAvB;AACA,SAAK,kBAAL,IAA2ByJ,SAA3B;AACA,SAAKjL,CAAL,GAASA,CAAT;AACH;;AACD,SAAO4K,UAAP;AACH,CAZ+B,EAAhC;;AAaA,SAASA,UAAT;AACA;;AACA,IAAIO,UAAU;AAAG;AAAe,YAAY;AACxC,WAASA,UAAT,CAAoBC,CAApB,EAAuBC,CAAvB,EAA0BpL,CAA1B,EAA6B;AACzB,SAAKmL,CAAL,GAASA,CAAT;AACA,SAAKC,CAAL,GAASA,CAAT;AACA,SAAKpL,CAAL,GAASA,CAAT;AACH;;AACD,SAAOkL,UAAP;AACH,CAP+B,EAAhC;;AAQA,SAASA,UAAT;AACA;AACA;AACA;AACA;AACA;;AACA,IAAIG,UAAU;AAAG;AAAe,UAAUC,MAAV,EAAkB;AAC9CzL,EAAAA,SAAS,CAACwL,UAAD,EAAaC,MAAb,CAAT;;AACA,WAASD,UAAT,CAAoBnI,EAApB,EAAwB0H,IAAxB,EAA8BW,MAA9B,EAAsCT,WAAtC,EAAmDU,IAAnD,EAAyDC,EAAzD,EAA6DC,EAA7D,EAAiEjB,SAAjE,EAA4EO,SAA5E,EAAuF;AACnF,QAAIW,KAAK,GAAGL,MAAM,CAACM,IAAP,CAAY,IAAZ,EAAkB1I,EAAlB,EAAsB0H,IAAtB,EAA4BW,MAAM,CAAChK,KAAnC,EAA0CgK,MAAM,CAACV,KAAjD,EAAwDC,WAAxD,EAAqES,MAAM,CAACM,OAA5E,KAAwF,IAApG;;AACAF,IAAAA,KAAK,CAACvG,CAAN,GAAUoG,IAAI,CAACpG,CAAf;AACAuG,IAAAA,KAAK,CAACxG,CAAN,GAAUqG,IAAI,CAACrG,CAAf;AACAwG,IAAAA,KAAK,CAACnK,MAAN,GAAegK,IAAI,CAAChK,MAApB;AACAmK,IAAAA,KAAK,CAACpK,KAAN,GAAciK,IAAI,CAACjK,KAAnB;AACAoK,IAAAA,KAAK,CAACF,EAAN,GAAWA,EAAE,GAAGA,EAAH,GAAQ,CAArB;AACAE,IAAAA,KAAK,CAACD,EAAN,GAAWA,EAAE,GAAGA,EAAH,GAAQ,CAArB;AACAC,IAAAA,KAAK,CAAClB,SAAN,GAAkBA,SAAS,GAAGA,SAAH,GAAe,EAA1C;AACAkB,IAAAA,KAAK,CAAC,kBAAD,CAAL,GAA4BX,SAA5B;AACAW,IAAAA,KAAK,CAAC,cAAD,CAAL,GAAwBb,WAAxB;AACAa,IAAAA,KAAK,CAAC,gBAAD,CAAL,GAA0BJ,MAAM,CAACM,OAAjC;AACA,WAAOF,KAAP;AACH;;AACD,SAAON,UAAP;AACH,CAjB+B,CAiB9BV,UAjB8B,CAAhC;;AAkBA,SAASU,UAAT;AACA;AACA;AACA;AACA;AACA;;AACA,IAAIS,YAAY;AAAG;AAAe,UAAUR,MAAV,EAAkB;AAChDzL,EAAAA,SAAS,CAACiM,YAAD,EAAeR,MAAf,CAAT;;AACA,WAASQ,YAAT,CAAsB5I,EAAtB,EAA0B0H,IAA1B,EAAgCW,MAAhC,EAAwCT,WAAxC,EAAqDiB,EAArD,EAAyDC,EAAzD,EAA6Db,CAA7D,EAAgEH,SAAhE,EAA2E;AACvE,QAAIW,KAAK,GAAGL,MAAM,CAACM,IAAP,CAAY,IAAZ,EAAkB1I,EAAlB,EAAsB0H,IAAtB,EAA4BW,MAAM,CAAChK,KAAnC,EAA0CgK,MAAM,CAACV,KAAjD,EAAwDC,WAAxD,EAAqES,MAAM,CAACM,OAA5E,EAAqFb,SAArF,KAAmG,IAA/G;;AACAW,IAAAA,KAAK,CAACK,EAAN,GAAWA,EAAX;AACAL,IAAAA,KAAK,CAACI,EAAN,GAAWA,EAAX;AACAJ,IAAAA,KAAK,CAACR,CAAN,GAAUA,CAAV;AACAQ,IAAAA,KAAK,CAAC,kBAAD,CAAL,GAA4BX,SAA5B;AACAW,IAAAA,KAAK,CAAC,cAAD,CAAL,GAAwBb,WAAxB;AACAa,IAAAA,KAAK,CAAC,gBAAD,CAAL,GAA0BJ,MAAM,CAACM,OAAjC;AACA,WAAOF,KAAP;AACH;;AACD,SAAOG,YAAP;AACH,CAbiC,CAahCnB,UAbgC,CAAlC;;AAcA,SAASmB,YAAT;AACA;AACA;AACA;AACA;AACA;;AACA,IAAIG,aAAa;AAAG;AAAe,UAAUX,MAAV,EAAkB;AACjDzL,EAAAA,SAAS,CAACoM,aAAD,EAAgBX,MAAhB,CAAT;;AACA,WAASW,aAAT,CAAuB/I,EAAvB,EAA2BgJ,MAA3B,EAAmCtB,IAAnC,EAAyCrJ,KAAzC,EAAgDsJ,KAAhD,EAAuDC,WAAvD,EAAoEC,aAApE,EAAmFC,SAAnF,EAA8F;AAC1F,QAAIF,WAAW,KAAK,KAAK,CAAzB,EAA4B;AAAEA,MAAAA,WAAW,GAAG,CAAd;AAAkB;;AAChD,QAAIC,aAAa,KAAK,KAAK,CAA3B,EAA8B;AAAEA,MAAAA,aAAa,GAAG,CAAhB;AAAoB;;AACpD,QAAIC,SAAS,KAAK,KAAK,CAAvB,EAA0B;AAAEA,MAAAA,SAAS,GAAG,EAAZ;AAAiB;;AAC7C,QAAIW,KAAK,GAAGL,MAAM,CAACM,IAAP,CAAY,IAAZ,EAAkB1I,EAAlB,EAAsB0H,IAAtB,EAA4BrJ,KAA5B,EAAmCsJ,KAAnC,EAA0CC,WAA1C,EAAuDC,aAAvD,EAAsEC,SAAtE,KAAoF,IAAhG;;AACAW,IAAAA,KAAK,CAACO,MAAN,GAAeA,MAAf;AACA,WAAOP,KAAP;AACH;;AACD,SAAOM,aAAP;AACH,CAXkC,CAWjCtB,UAXiC,CAAnC;;AAYA,SAASsB,aAAT;AACA;AACA;AACA;AACA;AACA;;AACA,IAAIE,cAAc;AAAG;AAAe,UAAUb,MAAV,EAAkB;AAClDzL,EAAAA,SAAS,CAACsM,cAAD,EAAiBb,MAAjB,CAAT;;AACA,WAASa,cAAT,CAAwBjJ,EAAxB,EAA4BgJ,MAA5B,EAAoCtB,IAApC,EAA0CrJ,KAA1C,EAAiDsJ,KAAjD,EAAwDC,WAAxD,EAAqEC,aAArE,EAAoFC,SAApF,EAA+F;AAC3F,QAAIF,WAAW,KAAK,KAAK,CAAzB,EAA4B;AAAEA,MAAAA,WAAW,GAAG,CAAd;AAAkB;;AAChD,QAAIC,aAAa,KAAK,KAAK,CAA3B,EAA8B;AAAEA,MAAAA,aAAa,GAAG,CAAhB;AAAoB;;AACpD,QAAIC,SAAS,KAAK,KAAK,CAAvB,EAA0B;AAAEA,MAAAA,SAAS,GAAG,EAAZ;AAAiB;;AAC7C,WAAOM,MAAM,CAACM,IAAP,CAAY,IAAZ,EAAkB1I,EAAlB,EAAsBgJ,MAAtB,EAA8BtB,IAA9B,EAAoCrJ,KAApC,EAA2CsJ,KAA3C,EAAkDC,WAAlD,EAA+DC,aAA/D,EAA8EC,SAA9E,KAA4F,IAAnG;AACH;;AACD,SAAOmB,cAAP;AACH,CATmC,CASlCF,aATkC,CAApC;;AAUA,SAASE,cAAT;AACA;AACA;AACA;AACA;AACA;;AACA,IAAIC,UAAU;AAAG;AAAe,UAAUd,MAAV,EAAkB;AAC9CzL,EAAAA,SAAS,CAACuM,UAAD,EAAad,MAAb,CAAT;;AACA,WAASc,UAAT,CAAoBlJ,EAApB,EAAwBmJ,IAAxB,EAA8BzB,IAA9B,EAAoCrJ,KAApC,EAA2CsJ,KAA3C,EAAkDC,WAAlD,EAA+DC,aAA/D,EAA8EC,SAA9E,EAAyF;AACrF,QAAIF,WAAW,KAAK,KAAK,CAAzB,EAA4B;AAAEA,MAAAA,WAAW,GAAG,CAAd;AAAkB;;AAChD,QAAIC,aAAa,KAAK,KAAK,CAA3B,EAA8B;AAAEA,MAAAA,aAAa,GAAG,CAAhB;AAAoB;;AACpD,QAAIC,SAAS,KAAK,KAAK,CAAvB,EAA0B;AAAEA,MAAAA,SAAS,GAAG,EAAZ;AAAiB;;AAC7C,QAAIW,KAAK,GAAGL,MAAM,CAACM,IAAP,CAAY,IAAZ,EAAkB1I,EAAlB,EAAsB0H,IAAtB,EAA4BrJ,KAA5B,EAAmCsJ,KAAnC,EAA0CC,WAA1C,EAAuDC,aAAvD,EAAsEC,SAAtE,KAAoF,IAAhG;;AACAW,IAAAA,KAAK,CAACW,EAAN,GAAWD,IAAI,CAACC,EAAhB;AACAX,IAAAA,KAAK,CAACY,EAAN,GAAWF,IAAI,CAACE,EAAhB;AACAZ,IAAAA,KAAK,CAACa,EAAN,GAAWH,IAAI,CAACG,EAAhB;AACAb,IAAAA,KAAK,CAACc,EAAN,GAAWJ,IAAI,CAACI,EAAhB;AACA,WAAOd,KAAP;AACH;;AACD,SAAOS,UAAP;AACH,CAd+B,CAc9BzB,UAd8B,CAAhC;;AAeA,SAASyB,UAAT;AACA;AACA;AACA;AACA;AACA;;AACA,IAAIM,IAAI;AAAG;AAAe,YAAY;AAClC,WAASA,IAAT,CAAcJ,EAAd,EAAkBC,EAAlB,EAAsBC,EAAtB,EAA0BC,EAA1B,EAA8B;AAC1B,SAAKH,EAAL,GAAUA,EAAV;AACA,SAAKC,EAAL,GAAUA,EAAV;AACA,SAAKC,EAAL,GAAUA,EAAV;AACA,SAAKC,EAAL,GAAUA,EAAV;AACH;;AACD,SAAOC,IAAP;AACH,CARyB,EAA1B;;AASA,SAASA,IAAT;AACA;AACA;AACA;AACA;;AACA,IAAIrI,WAAW;AAAG;AAAe,YAAY;AACzC,WAASA,WAAT,CAAqBc,CAArB,EAAwBC,CAAxB,EAA2B;AACvB,SAAKD,CAAL,GAASA,CAAT;AACA,SAAKC,CAAL,GAASA,CAAT;AACH;;AACD,SAAOf,WAAP;AACH,CANgC,EAAjC;;AAOA,SAASA,WAAT;AACA;AACA;AACA;AACA;AACA;;AACA,IAAIsI,IAAI;AAAG;AAAe,YAAY;AAClC,WAASA,IAAT,CAAcxH,CAAd,EAAiBC,CAAjB,EAAoB7D,KAApB,EAA2BC,MAA3B,EAAmC;AAC/B,SAAK2D,CAAL,GAASA,CAAT;AACA,SAAKC,CAAL,GAASA,CAAT;AACA,SAAK7D,KAAL,GAAaA,KAAb;AACA,SAAKC,MAAL,GAAcA,MAAd;AACH;;AACD,SAAOmL,IAAP;AACH,CARyB,EAA1B;;AASA,SAASA,IAAT;AACA;AACA;AACA;AACA;AACA;;AACA,IAAIC,cAAc;AAAG;AAAe,YAAY;AAC5C,WAASA,cAAT,CAAwB1J,EAAxB,EAA4BiC,CAA5B,EAA+BC,CAA/B,EAAkC7D,KAAlC,EAAyCC,MAAzC,EAAiDqL,YAAjD,EAA+DC,mBAA/D,EAAoFC,gBAApF,EAAsGC,IAAtG,EAA4G;AACxG,QAAIH,YAAY,KAAK,KAAK,CAA1B,EAA6B;AAAEA,MAAAA,YAAY,GAAG,gBAAf;AAAkC;;AACjE,QAAIC,mBAAmB,KAAK,KAAK,CAAjC,EAAoC;AAAEA,MAAAA,mBAAmB,GAAG,gBAAtB;AAAyC;;AAC/E,QAAIC,gBAAgB,KAAK,KAAK,CAA9B,EAAiC;AAAEA,MAAAA,gBAAgB,GAAG,EAAnB;AAAwB;;AAC3D,QAAIC,IAAI,KAAK,KAAK,CAAlB,EAAqB;AAAEA,MAAAA,IAAI,GAAG,EAAP;AAAY;;AACnC,SAAK9J,EAAL,GAAUA,EAAV;AACA,SAAKiC,CAAL,GAASA,CAAT;AACA,SAAKC,CAAL,GAASA,CAAT;AACA,SAAK7D,KAAL,GAAaA,KAAb;AACA,SAAKC,MAAL,GAAcA,MAAd;AACA,SAAKqL,YAAL,GAAoBA,YAApB;AACA,SAAKC,mBAAL,GAA2BA,mBAA3B;AACA,SAAKC,gBAAL,GAAwBA,gBAAxB;AACA,SAAKC,IAAL,GAAYA,IAAZ;AACH;;AACD,SAAOJ,cAAP;AACH,CAjBmC,EAApC;;AAkBA,SAASA,cAAT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASK,iBAAT,CAA2BC,MAA3B,EAAmChL,KAAnC,EAA0C2I,KAA1C,EAAiDsC,MAAjD,EAAyDC,OAAzD,EAAkE;AACrE,MAAIA,OAAO,KAAK,KAAK,CAArB,EAAwB;AAAEA,IAAAA,OAAO,GAAG,KAAV;AAAkB,GADyB,CAErE;;;AACA,MAAIC,aAAa,GAAG;AAChB,UAAMH,MAAM,CAAChK,EADG;AAEhB,SAAKgK,MAAM,CAAC/H,CAFI;AAGhB,SAAK+H,MAAM,CAAC9H,CAHI;AAIhB,YAAQyF,KAJQ;AAKhB,iBAAa3I,KAAK,CAAC6D,IALH;AAMhB,kBAAc7D,KAAK,CAACgI,SANJ;AAOhB,mBAAehI,KAAK,CAACiI,UAPL;AAQhB,mBAAejI,KAAK,CAAC+H,UARL;AAShB,mBAAeiD,MAAM,CAAC1C,MATN;AAUhB,iBAAa0C,MAAM,CAACzC,SAVJ;AAWhB,eAAWvI,KAAK,CAAC2J,OAXD;AAYhB,yBAAqBqB,MAAM,CAACxC;AAZZ,GAApB;AAcA,MAAInB,IAAI,GAAG,OAAO2D,MAAM,CAAC3D,IAAd,KAAuB,QAAvB,IAAmC,OAAO2D,MAAM,CAAC3D,IAAd,KAAuB,QAA1D,GAAqE2D,MAAM,CAAC3D,IAA5E,GAAmF6D,OAAO,GAAGF,MAAM,CAAC3D,IAAP,CAAY2D,MAAM,CAAC3D,IAAP,CAAY+D,MAAZ,GAAqB,CAAjC,CAAH,GAAyCJ,MAAM,CAAC3D,IAAP,CAAY,CAAZ,CAA9I;AACA,MAAIgE,YAAJ;AACA,MAAItK,QAAQ,GAAG,IAAI/B,WAAJ,CAAgB,EAAhB,CAAf;AACA,MAAIM,MAAJ;AACA,MAAIgM,UAAU,GAAGvK,QAAQ,CAACwK,UAAT,CAAoBJ,aAApB,EAAmC9D,IAAnC,CAAjB;AACAiE,EAAAA,UAAU,CAACtL,KAAX,CAAiB,aAAjB,IAAkC,MAAlC;AACAsL,EAAAA,UAAU,CAACtL,KAAX,CAAiB,aAAjB,IAAkCA,KAAK,CAACiI,UAAxC;AACAqD,EAAAA,UAAU,CAACtL,KAAX,CAAiB,WAAjB,IAAgCA,KAAK,CAAC6D,IAAtC;AACAyH,EAAAA,UAAU,CAACtL,KAAX,CAAiB,aAAjB,IAAkCA,KAAK,CAAC+H,UAAxC;AACAuD,EAAAA,UAAU,CAACtL,KAAX,CAAiB,YAAjB,IAAiCA,KAAK,CAAC2I,KAAvC;AACA2C,EAAAA,UAAU,CAACtL,KAAX,CAAiB,kBAAjB,IAAuC,MAAvC;AACAsL,EAAAA,UAAU,CAACtL,KAAX,CAAiB,uBAAjB,IAA4C,MAA5C;AACAsL,EAAAA,UAAU,CAACtL,KAAX,CAAiB,qBAAjB,IAA0C,MAA1C;AACAsL,EAAAA,UAAU,CAACtL,KAAX,CAAiB,oBAAjB,IAAyC,MAAzC;AACAsL,EAAAA,UAAU,CAACtL,KAAX,CAAiB,iBAAjB,IAAsC,MAAtC;AACAsL,EAAAA,UAAU,CAACtL,KAAX,CAAiB,gBAAjB,IAAqC,MAArC;;AACA,MAAI,OAAOgL,MAAM,CAAC3D,IAAd,KAAuB,QAAvB,IAAmC2D,MAAM,CAAC3D,IAAP,CAAY+D,MAAZ,GAAqB,CAA5D,EAA+D;AAC3D,SAAK,IAAIpG,CAAC,GAAG,CAAR,EAAWwG,GAAG,GAAGR,MAAM,CAAC3D,IAAP,CAAY+D,MAAlC,EAA0CpG,CAAC,GAAGwG,GAA9C,EAAmDxG,CAAC,EAApD,EAAwD;AACpD1F,MAAAA,MAAM,GAAI8H,WAAW,CAAC4D,MAAM,CAAC3D,IAAP,CAAYrC,CAAZ,CAAD,EAAiBhF,KAAjB,CAAX,CAAmCV,MAA7C;AACA+L,MAAAA,YAAY,GAAGtK,QAAQ,CAAC0K,WAAT,CAAqB;AAChC,aAAKT,MAAM,CAAC/H,CADoB;AACjB,cAAM+H,MAAM,CAAChK,EADI;AAEhC,aAAMgK,MAAM,CAAC9H,CAAR,IAAegI,OAAD,GAAY,EAAElG,CAAC,GAAG1F,MAAN,CAAZ,GAA6B0F,CAAC,GAAG1F,MAA/C;AAF2B,OAArB,EAGZ4L,OAAO,GAAGF,MAAM,CAAC3D,IAAP,CAAY2D,MAAM,CAAC3D,IAAP,CAAY+D,MAAZ,IAAsBpG,CAAC,GAAG,CAA1B,CAAZ,CAAH,GAA+CgG,MAAM,CAAC3D,IAAP,CAAYrC,CAAZ,CAH1C,CAAf;AAIAsG,MAAAA,UAAU,CAAC3D,WAAX,CAAuB0D,YAAvB;AACH;AACJ;;AACDJ,EAAAA,MAAM,CAACtD,WAAP,CAAmB2D,UAAnB;AACA,SAAOA,UAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASI,cAAT,CAAwB3L,OAAxB,EAAiC4L,QAAjC,EAA2CC,IAA3C,EAAiDC,KAAjD,EAAwDC,MAAxD,EAAgE;AACnE,MAAIC,YAAY,GAAGtN,aAAa,CAAC,KAAD,EAAQ;AACpCuC,IAAAA,EAAE,EAAE2K,QADgC;AAEpCK,IAAAA,MAAM,EAAE;AAF4B,GAAR,CAAhC;AAIA,MAAIC,aAAa,GAAGlM,OAAO,CAACqL,MAA5B;;AACA,SAAOa,aAAa,GAAG,CAAvB,EAA0B;AACtBF,IAAAA,YAAY,CAACpE,WAAb,CAAyB5H,OAAO,CAAC,CAAD,CAAhC;AACAkM,IAAAA,aAAa;AAChB;;AACD,MAAIC,YAAY,GAAGH,YAAY,CAACnE,SAAhC;AACA,MAAIuE,kBAAJ;AACA,MAAIC,UAAU,GAAGrO,MAAM,CAACsO,IAAP,CAAYT,IAAZ,CAAjB;;AACA,OAAK,IAAI5G,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGoH,UAAU,CAAChB,MAA/B,EAAuCpG,CAAC,EAAxC,EAA4C;AACxC,QAAI,OAAO4G,IAAI,CAACQ,UAAU,CAACpH,CAAD,CAAX,CAAX,KAA+B,QAAnC,EAA6C;AACzCkH,MAAAA,YAAY,GAAGI,oBAAoB,CAACJ,YAAD,EAAe,EAAf,EAAmBN,IAAnB,EAAyBE,MAAzB,CAAnC,CADyC,CAEzC;AACH,KAHD,MAIK,IAAIM,UAAU,CAACpH,CAAD,CAAV,CAAcuH,WAAd,OAAgC,UAAhC,IAA8CH,UAAU,CAACpH,CAAD,CAAV,CAAcuH,WAAd,OAAgC,WAAlF,EAA+F;AAChGL,MAAAA,YAAY,GAAGA,YAAY,CAACM,OAAb,CAAqB,IAAIC,MAAJ,CAAW,QAAQL,UAAU,CAACpH,CAAD,CAAlB,GAAwB,IAAnC,EAAyC,GAAzC,CAArB,EAAoE4G,IAAI,CAACQ,UAAU,CAACpH,CAAD,CAAV,CAAc0H,QAAd,EAAD,CAAxE,CAAf;AACH;AACJ;;AACDX,EAAAA,YAAY,CAACnE,SAAb,GAAyBsE,YAAzB;AACA,SAAOH,YAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASY,WAAT,CAAqBnN,KAArB,EAA4BM,IAA5B,EAAkC;AACrC;AACA,MAAI6M,WAAJ;AACA,MAAIC,cAAJ;;AACA,MAAI9M,IAAI,CAAC+M,MAAL,IAAe,CAACC,KAAK,CAACC,MAAM,CAACvN,KAAD,CAAP,CAAzB,EAA0C;AACtCoN,IAAAA,cAAc,GAAG9M,IAAI,CAACkN,IAAL,CAAUC,eAAV,CAA0B;AAAEJ,MAAAA,MAAM,EAAE/M,IAAI,CAAC+M,MAAf;AAAuBK,MAAAA,WAAW,EAAEpN,IAAI,CAACqN;AAAzC,KAA1B,CAAjB;AACAR,IAAAA,WAAW,GAAGC,cAAc,CAACG,MAAM,CAACvN,KAAD,CAAP,CAA5B;AACH,GAHD,MAIK;AACDmN,IAAAA,WAAW,GAAGnN,KAAd;AACH;;AACD,SAAOmN,WAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASL,oBAAT,CAA8Bc,cAA9B,EAA8CP,MAA9C,EAAsDjB,IAAtD,EAA4D9L,IAA5D,EAAkE;AACrE,MAAIoM,YAAY,GAAIkB,cAAc,KAAK,EAApB,GAA0BP,MAA1B,GAAmCO,cAAtD;AACA,MAAIC,aAAa,GAAID,cAAc,KAAK,EAApB,GAA0BlB,YAAY,CAACoB,KAAb,CAAmB,IAAnB,CAA1B,GAAqDpB,YAAY,CAACoB,KAAb,CAAmB,KAAnB,CAAzE;;AACA,OAAK,IAAItI,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGqI,aAAa,CAACjC,MAAlC,EAA0CpG,CAAC,EAA3C,EAA+C;AAC3C,QAAKqI,aAAa,CAACrI,CAAD,CAAb,CAAiBrF,OAAjB,CAAyB,IAAzB,IAAiC,CAAC,CAAlC,IAAuC0N,aAAa,CAACrI,CAAD,CAAb,CAAiBrF,OAAjB,CAAyB,GAAzB,IAAgC,CAAC,CAAzE,IACC0N,aAAa,CAACrI,CAAD,CAAb,CAAiBrF,OAAjB,CAAyB,GAAzB,IAAgC,CAAC,CAAjC,IAAsC0N,aAAa,CAACrI,CAAD,CAAb,CAAiBuI,MAAjB,CAAwB,GAAxB,IAA+B,CAAC,CAD3E,EAC+E;AAC3E,UAAID,KAAK,GAAIF,cAAc,KAAK,EAApB,GAA0BC,aAAa,CAACrI,CAAD,CAAb,CAAiBsI,KAAjB,CAAuB,GAAvB,CAA1B,GAAwDD,aAAa,CAACrI,CAAD,CAAb,CAAiBsI,KAAjB,CAAuB,IAAvB,CAApE;;AACA,WAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,KAAK,CAAClC,MAA1B,EAAkCoC,CAAC,EAAnC,EAAuC;AACnC,YAAIF,KAAK,CAACE,CAAD,CAAL,CAAS7N,OAAT,CAAiB,GAAjB,IAAwB,CAAC,CAA7B,EAAgC;AAC5B,cAAIwM,kBAAkB,GAAIsB,kBAAkB,CAAC7B,IAAD,EAAO0B,KAAK,CAACE,CAAD,CAAZ,CAAnB,CAAqCd,QAArC,EAAzB;AACAR,UAAAA,YAAY,GAAIkB,cAAc,KAAK,EAApB,GACXlB,YAAY,CAACoB,KAAb,CAAmB,OAAOA,KAAK,CAACE,CAAD,CAAZ,GAAkB,GAArC,EAA0CE,IAA1C,CAA+Cf,WAAW,CAACR,kBAAD,EAAqBrM,IAArB,CAA1D,CADW,GAEXoM,YAAY,CAACM,OAAb,CAAqB,IAAIC,MAAJ,CAAW,QAAQa,KAAK,CAACE,CAAD,CAAb,GAAmB,IAA9B,EAAoC,GAApC,CAArB,EAA+DrB,kBAA/D,CAFJ;AAGH;AACJ;AACJ;AACJ;;AACD,SAAOD,YAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASyB,uBAAT,CAAiC5N,OAAjC,EAA0C6N,OAA1C,EAAmDhC,IAAnD,EAAyDC,KAAzD,EAAgEC,MAAhE,EAAwE;AAC3E,MAAI+B,QAAQ,GAAGnP,iBAAiB,CAACqB,OAAO,CAAC+N,iBAAT,CAAjB,GAA+C/N,OAAO,CAAC,CAAD,CAAtD,GAA4DA,OAA3E;AACA,MAAImM,YAAY,GAAG2B,QAAQ,CAACE,SAA5B,CAF2E,CAG3E;;AACA,MAAI3B,UAAU,GAAGrO,MAAM,CAACsO,IAAP,CAAYT,IAAZ,CAAjB;;AACA,OAAK,IAAI5G,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGoH,UAAU,CAAChB,MAA/B,EAAuCpG,CAAC,EAAxC,EAA4C;AACxC;AACAkH,IAAAA,YAAY,GAAGA,YAAY,CAACM,OAAb,CAAqB,IAAIC,MAAJ,CAAW,QAAQL,UAAU,CAACpH,CAAD,CAAlB,GAAwB,IAAnC,EAAyC,GAAzC,CAArB,EAAoE4G,IAAI,CAACQ,UAAU,CAACpH,CAAD,CAAV,CAAc0H,QAAd,EAAD,CAAxE,CAAf;AACH;;AACD,SAAOjO,aAAa,CAAC,KAAD,EAAQ;AACxBuC,IAAAA,EAAE,EAAE4M,OADoB;AAExBhG,IAAAA,SAAS,EAAEsE,YAFa;AAGxBF,IAAAA,MAAM,EAAE;AAHgB,GAAR,CAApB;AAKH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASgC,WAAT,CAAqBC,KAArB,EAA4BC,QAA5B,EAAsCC,QAAtC,EAAgDC,QAAhD,EAA0DC,WAA1D,EAAuEC,gBAAvE,EAAyFxO,IAAzF,EAA+F;AAClG,MAAIyO,SAAJ;AACA,MAAItL,CAAJ;AACA,MAAIC,CAAJ;AACA,MAAIW,IAAI,GAAGwK,WAAW,CAAC,MAAD,CAAtB;AACA,MAAIG,WAAW,GAAGH,WAAW,CAAC,aAAD,CAA7B;AACA,MAAII,WAAW,GAAGC,UAAU,CAACL,WAAW,CAAC,aAAD,CAAZ,CAA5B;AACA,MAAIM,aAAa,GAAGD,UAAU,CAACL,WAAW,CAAC,eAAD,CAAZ,CAA9B;AACA,MAAI3F,IAAI,GAAG2F,WAAW,CAAC,MAAD,CAAtB;AACA,MAAIvF,SAAS,GAAGuF,WAAW,CAAC,WAAD,CAA3B,CATkG,CAUlG;;AACA,MAAIhF,MAAM,GAAG;AAAEV,IAAAA,KAAK,EAAE6F,WAAT;AAAsBnP,IAAAA,KAAK,EAAEoP,WAA7B;AAA0C9E,IAAAA,OAAO,EAAEgF;AAAnD,GAAb;AACA,MAAIhF,OAAO,GAAG0E,WAAW,CAAC,SAAD,CAAzB;AACA,MAAIO,OAAO,GAAG,CAAd;AACA,MAAIC,WAAJ;AACA,MAAIC,WAAW,GAAG,IAAIrG,UAAJ,CAAe2F,QAAf,EAAyB1F,IAAzB,EAA+B+F,WAA/B,EAA4CD,WAA5C,EAAyD7E,OAAzD,EAAkEgF,aAAlE,EAAiF7F,SAAjF,EAA4F,EAA5F,CAAlB;;AACA,MAAImF,KAAK,KAAK,QAAd,EAAwB;AACpB,QAAIc,MAAM,GAAG,CAAClL,IAAI,CAACxE,KAAL,GAAawE,IAAI,CAACvE,MAAnB,IAA6B,CAA1C;AACA,QAAI0P,aAAa,GAAG,IAAIpF,YAAJ,CAAiBwE,QAAjB,EAA2B1F,IAA3B,EAAiCW,MAAjC,EAAyCM,OAAzC,EAAkDwE,QAAQ,CAAClL,CAA3D,EAA8DkL,QAAQ,CAACjL,CAAvE,EAA0E6L,MAA1E,EAAkFjG,SAAlF,CAApB;AACAyF,IAAAA,SAAS,GAAGzO,IAAI,CAACiB,QAAL,CAAckO,UAAd,CAAyBD,aAAzB,CAAZ;AACH,GAJD,MAKK,IAAIf,KAAK,KAAK,WAAd,EAA2B;AAC5BhL,IAAAA,CAAC,GAAGkL,QAAQ,CAAClL,CAAT,GAAcY,IAAI,CAACxE,KAAL,GAAa,CAA/B;AACA6D,IAAAA,CAAC,GAAGiL,QAAQ,CAACjL,CAAT,GAAcW,IAAI,CAACvE,MAAL,GAAc,CAAhC;AACAuP,IAAAA,WAAW,GAAG,IAAI1F,UAAJ,CAAeiF,QAAf,EAAyB1F,IAAzB,EAA+BW,MAA/B,EAAuCM,OAAvC,EAAgD,IAAIc,IAAJ,CAASxH,CAAT,EAAYC,CAAZ,EAAeW,IAAI,CAACxE,KAApB,EAA2BwE,IAAI,CAACvE,MAAhC,CAAhD,EAAyF,IAAzF,EAA+F,IAA/F,EAAqG,EAArG,EAAyGwJ,SAAzG,CAAd;AACAyF,IAAAA,SAAS,GAAGzO,IAAI,CAACiB,QAAL,CAAcmO,aAAd,CAA4BL,WAA5B,CAAZ;AACH,GALI,MAMA,IAAIZ,KAAK,KAAK,OAAd,EAAuB;AACxBhL,IAAAA,CAAC,GAAGkL,QAAQ,CAAClL,CAAT,GAAcY,IAAI,CAACxE,KAAL,GAAa,CAA/B;AACA6D,IAAAA,CAAC,GAAGiL,QAAQ,CAACjL,CAAT,GAAaW,IAAI,CAACvE,MAAtB;AACAR,IAAAA,KAAK,CAACgQ,WAAD,EAAc;AAAE,cAAQZ,QAAV;AAAoB,gBAAUrK,IAAI,CAACvE,MAAnC;AAA2C,eAASuE,IAAI,CAACxE,KAAzD;AAAgE4D,MAAAA,CAAC,EAAEA,CAAnE;AAAsEC,MAAAA,CAAC,EAAEA;AAAzE,KAAd,CAAL;AACAqL,IAAAA,SAAS,GAAGzO,IAAI,CAACiB,QAAL,CAAcoO,SAAd,CAAwBL,WAAxB,CAAZ;AACH,GALI,MAMA;AACDP,IAAAA,SAAS,GAAGa,eAAe,CAACtP,IAAD,EAAOmO,KAAP,EAAca,WAAd,EAA2BjL,IAA3B,EAAiCsK,QAAjC,EAA2CG,gBAA3C,CAA3B;AACH;;AACD,SAAOC,SAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASd,kBAAT,CAA4B7B,IAA5B,EAAkCpM,KAAlC,EAAyC;AAC5C,MAAI,CAACd,iBAAiB,CAACkN,IAAD,CAAlB,IAA4B,CAAClN,iBAAiB,CAACc,KAAD,CAAlD,EAA2D;AACvD,QAAI6P,MAAM,GAAG7P,KAAK,CAACgN,OAAN,CAAc,KAAd,EAAqB,GAArB,EAA0BA,OAA1B,CAAkC,KAAlC,EAAyC,EAAzC,EAA6Cc,KAA7C,CAAmD,GAAnD,CAAb;;AACA,QAAI+B,MAAM,CAACjE,MAAP,KAAkB,CAAtB,EAAyB;AACrBQ,MAAAA,IAAI,GAAGA,IAAI,CAACyD,MAAM,CAAC,CAAD,CAAP,CAAX;AACH,KAFD,MAGK;AACD,WAAK,IAAIrK,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGqK,MAAM,CAACjE,MAAX,IAAqB,CAAC1M,iBAAiB,CAACkN,IAAD,CAAvD,EAA+D5G,CAAC,EAAhE,EAAoE;AAChE4G,QAAAA,IAAI,GAAGA,IAAI,CAACyD,MAAM,CAACrK,CAAD,CAAP,CAAX;AACH;AACJ;AACJ;;AACD,SAAO4G,IAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAAS0D,iBAAT,CAA2BC,SAA3B,EAAsC3D,IAAtC,EAA4C;AAC/C,MAAIjD,KAAK,GAAI,CAACjK,iBAAiB,CAAC6Q,SAAS,CAACC,cAAX,CAAnB,GAAmDD,SAAS,CAACC,cAAV,CAAyB7P,OAAzB,CAAiC,GAAjC,IAAwC,CAAC,CAA1C,GAAgD8N,kBAAkB,CAAC7B,IAAD,EAAO2D,SAAS,CAACC,cAAjB,CAAnB,CAAqD9C,QAArD,EAA/C,GAC1Dd,IAAI,CAAC2D,SAAS,CAACC,cAAX,CADI,GAC0B5D,IAAI,CAAC2D,SAAS,CAACC,cAAX,CAD1C;AAEAD,EAAAA,SAAS,CAAC7G,IAAV,GAAkB,CAAChK,iBAAiB,CAAC6Q,SAAS,CAACC,cAAX,CAAlB,IACd,CAAC9Q,iBAAiB,CAACiK,KAAD,CADL,GAEX4G,SAAS,CAACC,cAAV,CAAyB7P,OAAzB,CAAiC,GAAjC,IAAwC,CAAC,CAA1C,GAAgD8N,kBAAkB,CAAC7B,IAAD,EAAO2D,SAAS,CAACC,cAAjB,CAAnB,CAAqD9C,QAArD,EAA/C,GACGd,IAAI,CAAC2D,SAAS,CAACC,cAAX,CAHK,GAGyBD,SAAS,CAAC7G,IAHpD;AAIA,SAAO6G,SAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASE,iBAAT,CAA2BF,SAA3B,EAAsC3D,IAAtC,EAA4C;AAC/C,MAAI,CAAClN,iBAAiB,CAAC6Q,SAAS,CAACG,cAAX,CAAlB,IAAgD,CAAChR,iBAAiB,CAACkN,IAAI,CAAC2D,SAAS,CAACG,cAAX,CAAL,CAAtE,EAAwG;AACpG,QAAIzB,KAAK,GAAKsB,SAAS,CAACG,cAAV,CAAyB/P,OAAzB,CAAiC,GAAjC,IAAwC,CAAC,CAA1C,GACR8N,kBAAkB,CAAC7B,IAAD,EAAO2D,SAAS,CAACG,cAAjB,CAAlB,CAAmDhD,QAAnD,EADQ,GAETd,IAAI,CAAC2D,SAAS,CAACG,cAAX,CAFR;AAGAH,IAAAA,SAAS,CAACtB,KAAV,GAAmBA,KAAK,CAACvB,QAAN,OAAqB,EAAtB,GAA4BuB,KAA5B,GAAoCsB,SAAS,CAACtB,KAAhE;;AACA,QAAIrC,IAAI,CAAC2D,SAAS,CAACG,cAAX,CAAJ,KAAmC,OAAvC,EAAgD;AAC5CH,MAAAA,SAAS,CAACrB,QAAV,GAAsB,CAACxP,iBAAiB,CAAC6Q,SAAS,CAACI,iBAAX,CAAnB,GACfJ,SAAS,CAACI,iBAAV,CAA4BhQ,OAA5B,CAAoC,GAApC,IAA2C,CAAC,CAA7C,GAAkD8N,kBAAkB,CAAC7B,IAAD,EAAO2D,SAAS,CAACI,iBAAjB,CAAlB,CAAsDjD,QAAtD,EAAlD,GAAsH,CAAChO,iBAAiB,CAACkN,IAAI,CAAC2D,SAAS,CAACI,iBAAX,CAAL,CAAlB,GACnH/D,IAAI,CAAC2D,SAAS,CAACI,iBAAX,CAD+G,GAC/EJ,SAAS,CAACrB,QAFjC,GAE8CqB,SAAS,CAACrB,QAF7E;AAGH;AACJ,GAVD,MAWK;AACD,QAAI0B,MAAM,GAAI,CAAClR,iBAAiB,CAAC6Q,SAAS,CAACG,cAAX,CAAnB,GAAmDH,SAAS,CAACG,cAAV,CAAyB/P,OAAzB,CAAiC,GAAjC,IAAwC,CAAC,CAA1C,GAA+C8N,kBAAkB,CAAC7B,IAAD,EAAO2D,SAAS,CAACG,cAAjB,CAAlB,CAAmDhD,QAAnD,EAA/C,GAA+G6C,SAAS,CAACtB,KAA3K,GAAoLsB,SAAS,CAACtB,KAA3M;AACAsB,IAAAA,SAAS,CAACtB,KAAV,GAAmB2B,MAAM,CAAClD,QAAP,OAAsB,EAAvB,GAA6BkD,MAA7B,GAAsCL,SAAS,CAACtB,KAAlE;AACA,QAAI4B,UAAU,GAAI,CAACnR,iBAAiB,CAAC6Q,SAAS,CAACI,iBAAX,CAAnB,GACXJ,SAAS,CAACI,iBAAV,CAA4BhQ,OAA5B,CAAoC,GAApC,IAA2C,CAAC,CAA7C,GAAkD8N,kBAAkB,CAAC7B,IAAD,EAAO2D,SAAS,CAACI,iBAAjB,CAAlB,CAAsDjD,QAAtD,EAAlD,GAAsH,CAAChO,iBAAiB,CAACkN,IAAI,CAAC2D,SAAS,CAACI,iBAAX,CAAL,CAAlB,GACnH/D,IAAI,CAAC2D,SAAS,CAACI,iBAAX,CAD+G,GAC/EJ,SAAS,CAACrB,QAFrC,GAEkDqB,SAAS,CAACrB,QAF7E;AAGAqB,IAAAA,SAAS,CAACrB,QAAV,GAAqB2B,UAArB;AACH;;AACD,SAAON,SAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASO,eAAT,CAAyBC,YAAzB,EAAuCC,cAAvC,EAAuDlQ,IAAvD,EAA6DmQ,UAA7D,EAAyE3B,gBAAzE,EAA2F4B,YAA3F,EAAyGC,KAAzG,EAAgHC,SAAhH,EAA2H;AAC9H,MAAIC,OAAJ;AACA,MAAIC,OAAJ;AACA,MAAIC,cAAc,GAAG,EAArB;AACA,MAAIC,qBAAqB,GAAG,EAA5B;AACA,MAAIC,KAAK,GAAG,CAAZ;AACA,MAAIC,KAAK,GAAG,CAAZ,CAN8H,CAO9H;;AACA,MAAI9E,IAAJ;AACA,MAAI5L,KAAK,GAAG+P,YAAY,CAACY,qBAAb,CAAmCC,UAA/C;AACA,MAAIC,OAAJ;AACA,MAAIC,WAAJ;AACA,MAAIC,YAAJ,CAZ8H,CAa9H;;AACA,MAAI1C,WAAJ;AACA,MAAI2C,WAAJ;AACA,MAAIC,QAAQ,GAAI,KAAK,CAArB;AACA,MAAIC,CAAC,GAAG,CAAR;AACA,MAAIC,eAAe,GAAG,EAAtB;AACA,MAAIC,QAAQ,GAAGrB,YAAY,CAACY,qBAA5B;AACA,MAAIU,YAAY,GAAGvR,IAAI,CAACiB,QAAL,CAAcuQ,WAAd,CAA0B;AAAEtQ,IAAAA,EAAE,EAAElB,IAAI,CAACC,OAAL,CAAaiB,EAAb,GAAkB,cAAlB,GAAmCiP,UAAnC,GAAgD;AAAtD,GAA1B,CAAnB;AACA,MAAIsB,QAAQ,GAAG;AACXC,IAAAA,MAAM,EAAE,KADG;AACIC,IAAAA,IAAI,EAAEtS,sBADV;AACkCuJ,IAAAA,IAAI,EAAE0I,QAAQ,CAAC1I,IADjD;AACuDpJ,IAAAA,MAAM,EAAE8R,QAAQ,CAAC9R,MADxE;AAEXD,IAAAA,KAAK,EAAE+R,QAAQ,CAAC/R,KAFL;AAEY6O,IAAAA,QAAQ,EAAEkD,QAAQ,CAAClD,QAF/B;AAEyCD,IAAAA,KAAK,EAAEmD,QAAQ,CAACnD,KAFzD;AAGXrC,IAAAA,IAAI,EAAEA,IAHK;AAGC9L,IAAAA,IAAI,EAAEA,IAHP;AAGa4R,IAAAA,OAAO,EAAEN,QAHtB;AAGgC/H,IAAAA,MAAM,EAAE+H,QAAQ,CAAC/H;AAHjD,GAAf;AAKAvJ,EAAAA,IAAI,CAAC6R,OAAL,CAAa,wBAAb,EAAuCJ,QAAvC,EAAiD,UAAUK,WAAV,EAAuB;AACpE,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG7B,cAAc,CAAClC,iBAAnC,EAAsD+D,CAAC,EAAvD,EAA2D;AACvDV,MAAAA,eAAe,GAAG,EAAlB;;AACA,UAAInB,cAAc,CAAC8B,UAAf,CAA0BD,CAA1B,EAA6B,OAA7B,EAAsC,YAAtC,MAAwD,QAA5D,EAAsE;AAClEb,QAAAA,WAAW,GAAGhB,cAAc,CAAC8B,UAAf,CAA0BD,CAA1B,CAAd;AACAxB,QAAAA,OAAO,GAAGW,WAAW,CAACzP,qBAAZ,EAAV;AACA4P,QAAAA,eAAe,CAACY,IAAhB,CAAqBF,CAArB;;AACA,YAAI,CAACnT,iBAAiB,CAAC2R,OAAD,CAAtB,EAAiC;AAC7B,eAAK,IAAIlS,CAAC,GAAG0T,CAAC,GAAG,CAAjB,EAAoB1T,CAAC,GAAG6R,cAAc,CAAClC,iBAAvC,EAA0D3P,CAAC,EAA3D,EAA+D;AAC3D,gBAAI6R,cAAc,CAAC8B,UAAf,CAA0B3T,CAA1B,EAA6B,OAA7B,EAAsC,YAAtC,MAAwD,QAA5D,EAAsE;AAClE6S,cAAAA,WAAW,GAAGhB,cAAc,CAAC8B,UAAf,CAA0B3T,CAA1B,CAAd;AACAmS,cAAAA,OAAO,GAAGU,WAAW,CAACzP,qBAAZ,EAAV;;AACA,kBAAI,CAAC7C,iBAAiB,CAAC4R,OAAD,CAAtB,EAAiC;AAC7B,oBAAI,EAAED,OAAO,CAACrO,IAAR,GAAesO,OAAO,CAAC0B,KAAvB,IAAgC3B,OAAO,CAAC2B,KAAR,GAAgB1B,OAAO,CAACtO,IAAxD,IACCqO,OAAO,CAACnO,GAAR,GAAcoO,OAAO,CAAC2B,MADvB,IACiC5B,OAAO,CAAC4B,MAAR,GAAiB3B,OAAO,CAACpO,GAD5D,CAAJ,EACsE;AAClEqO,kBAAAA,cAAc,CAACwB,IAAf,CAAoBzB,OAApB;AACAN,kBAAAA,cAAc,CAAC8B,UAAf,CAA0B3T,CAA1B,EAA6B,OAA7B,EAAsC,YAAtC,IAAsD,QAAtD;AACAgT,kBAAAA,eAAe,CAACY,IAAhB,CAAqB5T,CAArB;AACH;AACJ;AACJ;AACJ;;AACDsS,UAAAA,KAAK,GAAGJ,OAAO,CAACrO,IAAR,GAAeqO,OAAO,CAAChR,KAAR,GAAgB,CAAvC;AACAqR,UAAAA,KAAK,GAAGL,OAAO,CAACnO,GAAR,GAAcmO,OAAO,CAAC/Q,MAA9B;;AACA,cAAIiR,cAAc,CAACnF,MAAf,GAAwB,CAA5B,EAA+B;AAC3B;AACA+F,YAAAA,eAAe,GAAGA,eAAe,CAACe,MAAhB,CAAuB,UAAUC,IAAV,EAAgBtG,KAAhB,EAAuBrM,KAAvB,EAA8B;AAAE,qBAAOA,KAAK,CAACG,OAAN,CAAcwS,IAAd,MAAwBtG,KAA/B;AAAuC,aAA9F,CAAlB;AACA,gBAAIuG,SAAS,GAAGtS,IAAI,CAACC,OAAL,CAAawB,qBAAb,EAAhB;AACAkP,YAAAA,KAAK,GAAGA,KAAK,GAAG2B,SAAS,CAAC,MAAD,CAAzB;AACA1B,YAAAA,KAAK,GAAIA,KAAK,IAAK5Q,IAAI,CAACS,aAAL,CAAmBjB,MAAnB,IAA6B8S,SAAS,CAAC,QAAD,CAAvC,GACdA,SAAS,CAAC,KAAD,CADK,GACMA,SAAS,CAAC,QAAD,CAAT,GAAsBA,SAAS,CAAC,KAAD,CADzC,CAAd,CAL2B,CAO3B;;AACA,gBAAIC,SAAS,GAAIvS,IAAI,CAACgE,SAAN,GAAmB,IAAI/F,MAAJ,EAAnB,GAAkCuU,YAAY,CAACxS,IAAD,EAAOiQ,YAAP,EAAqB,KAArB,CAA9D;AACA,gBAAIwC,UAAU,GAAIzS,IAAI,CAACgE,SAAN,GAAmB;AAAEb,cAAAA,CAAC,EAAE,CAAL;AAAQC,cAAAA,CAAC,EAAE;AAAX,aAAnB,GAAqCpD,IAAI,CAAC0S,cAAL,CAAoBvP,CAApB,KAA0B,CAA3B,GACjDnD,IAAI,CAAC0S,cAD4C,GAC3BH,SAAS,CAAC,UAAD,CADnC;AAEA,gBAAII,SAAS,GAAG7S,QAAQ,CAACoQ,cAAc,CAAC8B,UAAf,CAA0BD,CAA1B,EAA6B,IAA7B,EAAmCvE,KAAnC,CAAyC,aAAzC,EAAwD,CAAxD,EAA2DA,KAA3D,CAAiE,GAAjE,EAAsE,CAAtE,CAAD,EAA2E,EAA3E,CAAxB;AACA,gBAAIoF,WAAW,GAAG9S,QAAQ,CAACoQ,cAAc,CAAC8B,UAAf,CAA0BD,CAA1B,EAA6B,IAA7B,EAAmCvE,KAAnC,CAAyC,eAAzC,EAA0D,CAA1D,EAA6DA,KAA7D,CAAmE,GAAnE,EAAwE,CAAxE,CAAD,EAA6E,EAA7E,CAA1B;AACA,gBAAIqF,aAAa,GAAG5C,YAAY,CAAC6C,cAAb,CAA4BF,WAA5B,CAApB,CAb2B,CAc3B;;AACA,gBAAIG,UAAU,GAAGF,aAAa,CAACG,UAAd,CAAyBL,SAAzB,CAAjB;AACA,gBAAI7P,MAAM,GAAG,KAAK,CAAlB;AACA,gBAAImQ,UAAU,GAAG,KAAK,CAAtB;AACA,gBAAIpQ,SAAS,GAAI,CAACjE,iBAAiB,CAACiU,aAAa,CAACK,kBAAf,CAAnB,GACZjG,MAAM,CAACU,kBAAkB,CAACoF,UAAD,EAAaF,aAAa,CAACK,kBAA3B,CAAnB,CADM,GAEZ,CAACtU,iBAAiB,CAACmU,UAAU,CAAC,WAAD,CAAX,CAAlB,GAA8CnE,UAAU,CAACmE,UAAU,CAAC,WAAD,CAAX,CAAxD,GACI,CAACnU,iBAAiB,CAACmU,UAAU,CAAC,UAAD,CAAX,CAAlB,GAA6CnE,UAAU,CAACmE,UAAU,CAAC,UAAD,CAAX,CAAvD,GAAkF,CAH1F;AAIA,gBAAInQ,QAAQ,GAAI,CAAChE,iBAAiB,CAACiU,aAAa,CAACM,iBAAf,CAAnB,GACXlG,MAAM,CAACU,kBAAkB,CAACoF,UAAD,EAAaF,aAAa,CAACM,iBAA3B,CAAnB,CADK,GAEX,CAACvU,iBAAiB,CAACmU,UAAU,CAAC,UAAD,CAAX,CAAlB,GAA6CnE,UAAU,CAACmE,UAAU,CAAC,UAAD,CAAX,CAAvD,GACI,CAACnU,iBAAiB,CAACmU,UAAU,CAAC,UAAD,CAAX,CAAlB,GAA6CnE,UAAU,CAACmE,UAAU,CAAC,UAAD,CAAX,CAAvD,GAAkF,CAH1F;;AAIA,gBAAI,CAAC/S,IAAI,CAACgE,SAAV,EAAqB;AACjBlB,cAAAA,MAAM,GAAG9C,IAAI,CAACoT,aAAL,CAAmBC,eAAnB,CAAmCpD,YAAnC,CAAT;AACAgD,cAAAA,UAAU,GAAGtQ,iBAAiB,CAACC,QAAD,EAAWC,SAAX,EAAsBC,MAAtB,EAA8BmN,YAA9B,EAA4CjQ,IAA5C,CAA9B;AACH,aAHD,MAIK,IAAIA,IAAI,CAACgE,SAAL,IAAkB,CAAChE,IAAI,CAACsT,YAAL,CAAkBC,MAAzC,EAAiD;AAClDN,cAAAA,UAAU,GAAG3N,yBAAyB,CAAC,IAAIhB,KAAJ,CAAUzB,SAAV,EAAqBD,QAArB,CAAD,EAAiC5C,IAAI,CAACwT,aAAtC,EAAqDxT,IAAI,CAACyF,kBAA1D,EAA8E,IAA9E,CAAtC;AACH;;AACDyK,YAAAA,cAAc,CAAC8B,UAAf,CAA0BD,CAA1B,EAA6B,OAA7B,EAAsC,YAAtC,IAAsD,QAAtD;AACA,gBAAI0B,UAAU,GAAGxD,YAAY,CAACY,qBAA9B;;AACA,gBAAIY,QAAQ,CAACC,MAAb,EAAqB;AACjBnD,cAAAA,WAAW,GAAG;AACVxK,gBAAAA,IAAI,EAAE,IAAIzE,IAAJ,CAASmU,UAAU,CAAClU,KAApB,EAA2BkU,UAAU,CAACjU,MAAtC,CADI;AAEVoJ,gBAAAA,IAAI,EAAE6K,UAAU,CAAC7K,IAFP;AAEa8F,gBAAAA,WAAW,EAAE+E,UAAU,CAAClK,MAAX,CAAkBV,KAF5C;AAGV8F,gBAAAA,WAAW,EAAE8E,UAAU,CAAClK,MAAX,CAAkBhK,KAHrB;AAG4BsK,gBAAAA,OAAO,EAAE4J,UAAU,CAAC5J,OAHhD;AAIVb,gBAAAA,SAAS,EAAEyK,UAAU,CAACzK;AAJZ,eAAd;AAMAuF,cAAAA,WAAW,CAAC,MAAD,CAAX,GAAsBkF,UAAU,CAAC7K,IAAjC;AACA2F,cAAAA,WAAW,CAAC,MAAD,CAAX,CAAoB,OAApB,IAA+BkF,UAAU,CAAClU,KAA1C;AACAgP,cAAAA,WAAW,CAAC,MAAD,CAAX,CAAoB,QAApB,IAAgCkF,UAAU,CAACjU,MAA3C;AACA+O,cAAAA,WAAW,CAAC,UAAD,CAAX,GAA0BkF,UAAU,CAACrF,QAArC;AACAG,cAAAA,WAAW,CAAC,OAAD,CAAX,GAAuBkF,UAAU,CAACtF,KAAlC;AACAI,cAAAA,WAAW,CAAC,aAAD,CAAX,GAA6BkF,UAAU,CAAClK,MAAX,CAAkBV,KAA/C;AACA0F,cAAAA,WAAW,CAAC,aAAD,CAAX,GAA6BkF,UAAU,CAAClK,MAAX,CAAkBhK,KAA/C;AACAgP,cAAAA,WAAW,CAAC,eAAD,CAAX,GAA+B3P,iBAAiB,CAAC6U,UAAU,CAAClK,MAAX,CAAkBM,OAAnB,CAAjB,GAA+C4J,UAAU,CAAC5J,OAA1D,GAAoE4J,UAAU,CAAClK,MAAX,CAAkBM,OAArH;AACH,aAfD,MAgBK;AACD0E,cAAAA,WAAW,GAAG;AACVxK,gBAAAA,IAAI,EAAE,IAAIzE,IAAJ,CAASmU,UAAU,CAAClU,KAApB,EAA2BkU,UAAU,CAACjU,MAAtC,CADI;AAEVoJ,gBAAAA,IAAI,EAAE6K,UAAU,CAAC7K,IAFP;AAEa8F,gBAAAA,WAAW,EAAE+E,UAAU,CAAClK,MAAX,CAAkBV,KAF5C;AAGV8F,gBAAAA,WAAW,EAAE8E,UAAU,CAAClK,MAAX,CAAkBhK,KAHrB;AAG4BsK,gBAAAA,OAAO,EAAE4J,UAAU,CAAC5J,OAHhD;AAIVb,gBAAAA,SAAS,EAAEyK,UAAU,CAACzK;AAJZ,eAAd;AAMAuF,cAAAA,WAAW,CAAC,MAAD,CAAX,GAAsBkD,QAAQ,CAAC7I,IAA/B;AACA2F,cAAAA,WAAW,CAAC,MAAD,CAAX,CAAoB,OAApB,IAA+BkD,QAAQ,CAAClS,KAAxC;AACAgP,cAAAA,WAAW,CAAC,MAAD,CAAX,CAAoB,QAApB,IAAgCkD,QAAQ,CAACjS,MAAzC;AACA+O,cAAAA,WAAW,CAAC,UAAD,CAAX,GAA0BkD,QAAQ,CAACrD,QAAnC;AACAG,cAAAA,WAAW,CAAC,OAAD,CAAX,GAAuBkD,QAAQ,CAACtD,KAAhC;AACAI,cAAAA,WAAW,CAAC,aAAD,CAAX,GAA6BkD,QAAQ,CAAClI,MAAT,CAAgBV,KAA7C;AACA0F,cAAAA,WAAW,CAAC,aAAD,CAAX,GAA6BkD,QAAQ,CAAClI,MAAT,CAAgBhK,KAA7C;AACAgP,cAAAA,WAAW,CAAC,eAAD,CAAX,GAA+B3P,iBAAiB,CAAC6S,QAAQ,CAAClI,MAAT,CAAgBM,OAAjB,CAAjB,GAA6C4J,UAAU,CAAC5J,OAAxD,GAAkE4H,QAAQ,CAAClI,MAAT,CAAgBM,OAAjH;AACH;;AACD8G,YAAAA,KAAK,GAAI3Q,IAAI,CAACgE,SAAN,GAAmB2M,KAAnB,GAA4BT,cAAc,CAAChP,EAAf,CAAkBrB,OAAlB,CAA0B,gBAA1B,IAA8C,CAAC,CAAhD,GAAqD8Q,KAArD,GAA8D,CAACsC,UAAU,CAAC9P,CAAX,GAAesP,UAAU,CAACtP,CAA1B,GAA8BsO,QAAQ,CAAClS,KAAxC,IAAiDS,IAAI,CAAC0T,aAAvJ;AACA9C,YAAAA,KAAK,GAAI5Q,IAAI,CAACgE,SAAN,GAAmB4M,KAAnB,GAA4BV,cAAc,CAAChP,EAAf,CAAkBrB,OAAlB,CAA0B,gBAA1B,IAA8C,CAAC,CAAhD,GAAqD+Q,KAArD,GAA8D,CAACqC,UAAU,CAAC7P,CAAX,GAAeqP,UAAU,CAACrP,CAA1B,GAA+BqO,QAAQ,CAACjS,MAAT,GAAkB,CAAlD,IAAwDQ,IAAI,CAAC0T,aAA9J;;AACA,gBAAI1T,IAAI,CAACgE,SAAL,IAAkB,CAAChE,IAAI,CAACsT,YAAL,CAAkBC,MAAzC,EAAiD;AAC7C5C,cAAAA,KAAK,GAAGsC,UAAU,CAAC9P,CAAnB;AACAyN,cAAAA,KAAK,GAAGqC,UAAU,CAAC7P,CAAnB;AACH;;AACD,gBAAIuQ,SAAS,GAAG3T,IAAI,CAACC,OAAL,CAAaiB,EAAb,GAAkB,cAAlB,GAAmCiP,UAAnC,GAAgD,eAAhD,GAAkEyC,WAAlE,GAAgF,aAAhF,GAAgGD,SAAhG,GAA4G,WAA5G,GAA2HvB,CAA3I;AACA,gBAAIwC,OAAO,GAAG5T,IAAI,CAACC,OAAL,CAAaiB,EAAb,GAAkB,cAAlB,GAAmCiP,UAAnC,GAAgD,eAAhD,GAAkEyC,WAAlE,GAAgF,aAAhF,GAAgGD,SAAhG,GAA4G,WAA5G,GAA2HvB,CAA3H,GAAgI,aAAhI,GAAgJA,CAA9J;AACAA,YAAAA,CAAC;AACD,gBAAIyC,WAAW,GAAGtF,WAAW,CAAC,OAAD,CAAX,KAAyB,OAAzB,GAAmCA,WAAW,CAAC,MAAD,CAAX,CAAoB,QAApB,IAAgC,CAAnE,GAAuE,CAAzF;AACA,gBAAIuF,GAAG,GAAG5F,WAAW,CAACK,WAAW,CAAC,OAAD,CAAZ,EAAuBA,WAAW,CAAC,UAAD,CAAlC,EAAgD;AAAEpL,cAAAA,CAAC,EAAE,CAAL;AAAQC,cAAAA,CAAC,EAAEyQ;AAAX,aAAhD,EAA0EF,SAA1E,EAAqFpF,WAArF,EAAkGC,gBAAlG,EAAoHxO,IAApH,CAArB;AACA8T,YAAAA,GAAG,CAAC1S,YAAJ,CAAiB,WAAjB,EAA8B,gBAAgBuP,KAAhB,GAAwB,GAAxB,GAA8BC,KAA9B,GAAsC,IAApE;;AACA,gBAAIa,QAAQ,CAACtD,KAAT,KAAmB,SAAvB,EAAkC;AAC9B2F,cAAAA,GAAG,CAACC,QAAJ,CAAa,CAAb,EAAgBjM,SAAhB,GAA4BuJ,eAAe,CAACzE,QAAhB,EAA5B;AACH,aAFD,MAGK;AACDkH,cAAAA,GAAG,CAAChM,SAAJ,GAAgBuJ,eAAe,CAACzE,QAAhB,EAAhB;AACH;;AACDmE,YAAAA,OAAO,GAAG,IAAIxI,UAAJ,CAAeqL,OAAf,EAAyB,CAAzB,EAA6BzC,QAA7B,EAAuC,QAAvC,EAAiD,CAACV,cAAc,CAACnF,MAAf,GAAwB,CAAzB,EAA4BsB,QAA5B,EAAjD,EAAyF,EAAzF,EAA6F,EAA7F,CAAV;AACAoE,YAAAA,WAAW,GAAG/F,iBAAiB,CAAC8F,OAAD,EAAU7Q,KAAV,EAAiBA,KAAK,CAAC2I,KAAvB,EAA8B2F,gBAA9B,CAA/B;AACAwC,YAAAA,WAAW,CAAC5P,YAAZ,CAAyB,WAAzB,EAAsC,gBAAgBuP,KAAhB,GAAwB,GAAxB,GAA8BC,KAA9B,GAAsC,IAA5E;AACAW,YAAAA,YAAY,CAAC1J,WAAb,CAAyBmJ,WAAzB;AACAO,YAAAA,YAAY,CAAC1J,WAAb,CAAyBiM,GAAzB;AACH;AACJ;;AACDrD,QAAAA,cAAc,GAAG,EAAjB;AACH;AACJ;;AACDL,IAAAA,YAAY,CAACvI,WAAb,CAAyB0J,YAAzB;AACAvR,IAAAA,IAAI,CAACmB,SAAL,CAAe0G,WAAf,CAA2BuI,YAA3B;AACApQ,IAAAA,IAAI,CAACC,OAAL,CAAa4H,WAAb,CAAyB7H,IAAI,CAACmB,SAA9B;;AACA,SAAK,IAAI4Q,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGR,YAAY,CAACvD,iBAAjC,EAAoD+D,CAAC,EAArD,EAAyD;AACrD,UAAIR,YAAY,CAACS,UAAb,CAAwBD,CAAxB,EAA2B,OAA3B,EAAoC,YAApC,MAAsD,QAA1D,EAAoE;AAChEb,QAAAA,WAAW,GAAGK,YAAY,CAACS,UAAb,CAAwBD,CAAxB,CAAd;AACAxB,QAAAA,OAAO,GAAGW,WAAW,CAACzP,qBAAZ,EAAV;;AACA,YAAI,CAAC7C,iBAAiB,CAAC2R,OAAD,CAAlB,IAA+B,EAAEW,WAAW,CAAChQ,EAAZ,CAAerB,OAAf,CAAuB,aAAvB,IAAwC,CAAC,CAA3C,CAAnC,EAAkF;AAC9E,eAAK,IAAIxB,CAAC,GAAG0T,CAAC,GAAG,CAAjB,EAAoB1T,CAAC,GAAGkT,YAAY,CAACvD,iBAArC,EAAwD3P,CAAC,EAAzD,EAA6D;AACzD,gBAAIkT,YAAY,CAACS,UAAb,CAAwB3T,CAAxB,EAA2B,OAA3B,EAAoC,YAApC,MAAsD,QAA1D,EAAoE;AAChE4S,cAAAA,YAAY,GAAGM,YAAY,CAACS,UAAb,CAAwB3T,CAAxB,CAAf;AACAmS,cAAAA,OAAO,GAAGS,YAAY,CAACxP,qBAAb,EAAV;;AACA,kBAAI,CAAC7C,iBAAiB,CAAC4R,OAAD,CAAlB,IAA+B,EAAES,YAAY,CAAC/P,EAAb,CAAgBrB,OAAhB,CAAwB,aAAxB,IAAyC,CAAC,CAA5C,CAAnC,EAAmF;AAC/E,oBAAI,EAAE0Q,OAAO,CAACrO,IAAR,GAAesO,OAAO,CAAC0B,KAAvB,IAAgC3B,OAAO,CAAC2B,KAAR,GAAgB1B,OAAO,CAACtO,IAAxD,IACCqO,OAAO,CAACnO,GAAR,GAAcoO,OAAO,CAAC2B,MADvB,IACiC5B,OAAO,CAAC4B,MAAR,GAAiB3B,OAAO,CAACpO,GAD5D,CAAJ,EACsE;AAClEsO,kBAAAA,qBAAqB,CAACuB,IAAtB,CAA2BhB,YAA3B;AACAP,kBAAAA,qBAAqB,CAACuB,IAAtB,CAA2BV,YAAY,CAACS,UAAb,CAAwB3T,CAAC,GAAG,CAA5B,CAA3B;AACAkT,kBAAAA,YAAY,CAACS,UAAb,CAAwB3T,CAAxB,EAA2B,OAA3B,EAAoC,YAApC,IAAoD,QAApD;AACAkT,kBAAAA,YAAY,CAACS,UAAb,CAAwB3T,CAAC,GAAG,CAA5B,EAA+B,OAA/B,EAAwC,YAAxC,IAAwD,QAAxD;AACAgT,kBAAAA,eAAe,CAACY,IAAhB,CAAqB5T,CAArB;AACH;AACJ;AACJ;AACJ;;AACD,cAAIqS,qBAAqB,CAACpF,MAAtB,GAA+B,CAAnC,EAAsC;AAClC4F,YAAAA,WAAW,GAAGK,YAAY,CAACS,UAAb,CAAwBD,CAAxB,CAAd;;AACA,iBAAK,IAAI7M,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGwL,qBAAqB,CAACpF,MAA1C,EAAkDpG,CAAC,EAAnD,EAAuD;AACnD,kBAAIgM,WAAW,CAAC8C,OAAZ,KAAwB,GAA5B,EAAiC;AAC7B9C,gBAAAA,WAAW,CAACc,UAAZ,CAAuB,CAAvB,EAA0BiC,WAA1B,GAAwC/C,WAAW,CAACc,UAAZ,CAAuB,CAAvB,EAA0BiC,WAA1B,GAAwC,GAAxC,GACpCvD,qBAAqB,CAACxL,CAAD,CAArB,CAAyB+O,WAD7B;AAEH,eAHD,MAIK;AACD/C,gBAAAA,WAAW,CAAC+C,WAAZ,GAA0B/C,WAAW,CAAC+C,WAAZ,GAA0B,GAA1B,GAAgCvD,qBAAqB,CAACxL,CAAD,CAArB,CAAyB+O,WAAnF;AACH;;AACD1C,cAAAA,YAAY,CAACS,UAAb,CAAwBD,CAAC,GAAG,CAA5B,EAA+BkC,WAA/B,GAA6C,CAAE,CAAE1C,YAAY,CAACS,UAAb,CAAwBD,CAAC,GAAG,CAA5B,EAA+BkC,WAAlC,GAAmD,CAAEvD,qBAAqB,CAACxL,CAAC,GAAG,CAAL,CAArB,CAA6B+O,WAAnF,EAAkGrH,QAAlG,EAA7C;AACA1H,cAAAA,CAAC;AACJ;AACJ;;AACDwL,UAAAA,qBAAqB,GAAG,EAAxB;AACH;AACJ;AACJ;;AACD,WAAO,IAAIa,YAAY,CAACS,UAAb,CAAwB1G,MAAnC,EAA2C;AACvCkD,MAAAA,gBAAgB,CAAC0F,YAAjB,CAA8B3C,YAAY,CAACS,UAAb,CAAwB,CAAxB,CAA9B,EAA0DxD,gBAAgB,CAAC2F,UAA3E;AACH;;AACD,QAAI9D,KAAJ,EAAW;AACPD,MAAAA,YAAY,CAACvI,WAAb,CAAyB2G,gBAAzB;AACH,KAFD,MAGK;AACD4F,MAAAA,cAAc,CAACpU,IAAI,CAACC,OAAL,CAAaiB,EAAb,GAAkB,oBAAnB,CAAd,CAAuD2G,WAAvD,CAAmE2G,gBAAnE;AACA4B,MAAAA,YAAY,CAACvI,WAAb,CAAyB2G,gBAAzB;AACH;;AACD,QAAI6F,aAAa,GAAG3M,QAAQ,CAACC,cAAT,CAAwB3H,IAAI,CAACC,OAAL,CAAaiB,EAAb,GAAkB,6BAA1C,CAApB;;AACA,QAAI,CAACtC,iBAAiB,CAACyV,aAAD,CAAtB,EAAuC;AACnCA,MAAAA,aAAa,CAACxV,MAAd;AACH;;AACD,QAAIyR,SAAJ,EAAe;AACX5I,MAAAA,QAAQ,CAACC,cAAT,CAAwB3H,IAAI,CAACC,OAAL,CAAaiB,EAAb,GAAkB,oBAA1C,EAAgE2G,WAAhE,CAA4EuI,YAA5E;AACH;AACJ,GAlLD;AAmLH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASkE,oBAAT,CAA8BC,cAA9B,EAA8CvU,IAA9C,EAAoDwU,aAApD,EAAmE;AACtE,MAAIrE,UAAU,GAAGoE,cAAc,CAAC,CAAD,CAAd,CAAkBpE,UAAnC;AACA,MAAIsE,YAAY,GAAGF,cAAc,CAAC,CAAD,CAAd,CAAkBG,kBAArC;AACA,MAAI9B,WAAW,GAAG2B,cAAc,CAAC,CAAD,CAAd,CAAkB3B,WAApC;AACA,MAAID,SAAS,GAAG4B,cAAc,CAAC,CAAD,CAAd,CAAkB5B,SAAlC;AACA,MAAI9G,QAAQ,GAAG7L,IAAI,CAACC,OAAL,CAAaiB,EAAb,GAAkB,cAAlB,GAAmCiP,UAAnC,GAAgD,eAAhD,GAAkEyC,WAAjF;AACA,MAAI+B,SAAS,GAAG9I,QAAQ,GAAG,aAAX,GAA2B8G,SAA3B,GAAuC,WAAvC,GAAqD8B,YAArE;AACA,MAAIG,UAAU,GAAGC,UAAU,CAACF,SAAD,CAA3B;AACA,MAAIG,eAAe,GAAGD,UAAU,CAACF,SAAS,GAAG,aAAZ,GAA4BF,YAA7B,CAAhC;AACAG,EAAAA,UAAU,CAACxT,YAAX,CAAwB,YAAxB,EAAsC,SAAtC;AACA0T,EAAAA,eAAe,CAAC1T,YAAhB,CAA6B,YAA7B,EAA2C,SAA3C;AACA,MAAIqN,SAAJ;AACA,MAAIsG,gBAAgB,GAAGR,cAAc,CAAC,CAAD,CAAd,CAAkBzI,IAAlB,CAAuBR,MAA9C;;AACA,OAAK,IAAIpG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG6P,gBAApB,EAAsC7P,CAAC,EAAvC,EAA2C;AACvCuJ,IAAAA,SAAS,GAAGoG,UAAU,CAAChJ,QAAQ,GAAG,aAAX,GAA2B0I,cAAc,CAAC,CAAD,CAAd,CAAkBzI,IAAlB,CAAuB5G,CAAvB,EAA0B,OAA1B,CAA5B,CAAtB;AACAuJ,IAAAA,SAAS,CAAC,OAAD,CAAT,CAAmB,YAAnB,IAAmC,QAAnC;AACH;;AACDuG,EAAAA,aAAa,CAAChV,IAAI,CAACC,OAAL,CAAaiB,EAAb,GAAkB,cAAlB,GAAmCiP,UAAnC,GAAgD,eAAhD,GAAkEyC,WAAlE,GAAgF,6BAAjF,CAAb;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASqC,eAAT,CAAyBV,cAAzB,EAAyCvU,IAAzC,EAA+CwU,aAA/C,EAA8DU,KAA9D,EAAqE;AACxE,MAAI/E,UAAU,GAAGoE,cAAc,CAAC,CAAD,CAAd,CAAkBpE,UAAnC;AACA,MAAIyC,WAAW,GAAG2B,cAAc,CAAC,CAAD,CAAd,CAAkB3B,WAApC;AACA,MAAI6B,YAAY,GAAGF,cAAc,CAAC,CAAD,CAAd,CAAkBG,kBAArC;AACA,MAAI/B,SAAS,GAAG4B,cAAc,CAAC,CAAD,CAAd,CAAkB5B,SAAlC,CAJwE,CAKxE;;AACA,MAAIwC,kBAAkB,GAAGD,KAAK,GAAGL,UAAH,GAAgBL,aAAa,CAACY,aAAd,CAA4BC,IAA5B,CAAiCb,aAAjC,CAA9C;AACA,MAAIc,eAAe,GAAGJ,KAAK,GAAG,EAAH,GAAQ,GAAnC;AACA,MAAIrJ,QAAQ,GAAG7L,IAAI,CAACC,OAAL,CAAaiB,EAAb,GAAkB,cAAlB,GAAmCiP,UAAnC,GAAgD,eAAhD,GAAkEyC,WAAjF;AACA,MAAI+B,SAAS,GAAG9I,QAAQ,GAAG,aAAX,GAA2B8G,SAA3B,GAAuC,WAAvC,GAAqD8B,YAArE;AACA,MAAIG,UAAU,GAAGO,kBAAkB,CAACG,eAAe,GAAG,EAAlB,GAAuBX,SAAxB,CAAnC;AACA,MAAIG,eAAe,GAAGK,kBAAkB,CAACG,eAAe,GAAG,EAAlB,GAAuBX,SAAvB,GAAmC,aAAnC,GAAmDF,YAApD,CAAxC;AACAG,EAAAA,UAAU,CAACxT,YAAX,CAAwB,YAAxB,EAAsC,QAAtC;AACA0T,EAAAA,eAAe,CAAC1T,YAAhB,CAA6B,YAA7B,EAA2C,QAA3C;AACA,MAAImU,MAAM,GAAGvV,IAAI,CAACwV,MAAL,CAAYrF,UAAZ,EAAwB2C,cAAxB,CAAuCF,WAAvC,CAAb;AACA,MAAInE,SAAS,GAAG0G,kBAAkB,CAACG,eAAe,GAAG,EAAlB,GAAuBzJ,QAAvB,GAAkC,aAAlC,GAAkD8G,SAAnD,CAAlC;AACA,MAAInT,MAAM,GAAGiP,SAAS,CAACgH,aAAV,CAAwBvU,EAAxB,CAA2BrB,OAA3B,CAAmC,gBAAnC,IAAuD,CAAC,CAAxD,GAA4D4O,SAAS,CAAChN,qBAAV,GAAkCjC,MAA9F,GAAuG+V,MAAM,CAAC/V,MAA3H;AACA,MAAID,KAAK,GAAGkP,SAAS,CAACgH,aAAV,CAAwBvU,EAAxB,CAA2BrB,OAA3B,CAAmC,gBAAnC,IAAuD,CAAC,CAAxD,GAA4D4O,SAAS,CAAChN,qBAAV,GAAkClC,KAA9F,GAAsGgW,MAAM,CAAChW,KAAzH;AACA,MAAImW,OAAO,GAAG,CAACd,UAAU,CAACe,YAAX,CAAwB,WAAxB,EAAqCnI,KAArC,CAA2C,YAA3C,EAAyD,CAAzD,EAA4DoI,IAA5D,GAAmEpI,KAAnE,CAAyE,GAAzE,EAA8E,CAA9E,CAAf;AACA,MAAIqI,OAAO,GAAG,CAACjB,UAAU,CAACe,YAAX,CAAwB,WAAxB,EAAqCnI,KAArC,CAA2C,YAA3C,EAAyD,CAAzD,EAA4DoI,IAA5D,GAAmEpI,KAAnE,CAAyE,GAAzE,EAA8E,CAA9E,EAAiFA,KAAjF,CAAuF,GAAvF,EAA4F,CAA5F,EAA+FoI,IAA/F,EAAf;AACA,MAAI3G,MAAM,GAAG1P,KAAK,GAAG,CAArB;AACA,MAAIuW,IAAI,GAAG,IAAI,IAAJ,GAAW7G,MAAtB;AACA,MAAI8G,WAAW,GAAG,CAAlB;AACA,MAAIC,cAAc,GAAGrV,IAAI,CAACuF,KAAL,CAAW4P,IAAI,GAAGvW,KAAlB,CAArB;AACAwW,EAAAA,WAAW,IAAIC,cAAf;AACA,MAAIjB,gBAAgB,GAAGR,cAAc,CAAC,CAAD,CAAd,CAAkBzI,IAAlB,CAAuBR,MAA9C;AACA,MAAI2K,OAAO,GAAGtV,IAAI,CAACuF,KAAL,CAAY1G,MAAM,GAAGsW,IAAV,GAAkB,GAA7B,CAAd;AACAG,EAAAA,OAAO,GAAGlB,gBAAgB,GAAGiB,cAAnB,GAAoC,MAAMjB,gBAA1C,GAA6DkB,OAAvE,CA3BwE,CA4BxE;;AACA,MAAIC,KAAK,GAAID,OAAO,GAAG,GAAX,GAAkB,GAA9B;AACA,MAAIE,QAAQ,GAAGpB,gBAAgB,GAAGiB,cAAnB,GAAoC,EAApC,GAAyC,CAAxD;AACA,MAAII,KAAK,GAAG,CAAZ;AACA,MAAIC,KAAK,GAAG,OAAOX,OAAP,GAAiB,GAAjB,GAAuBG,OAAvB,GAAiC,GAA7C;AACA,MAAIS,IAAI,GAAG,EAAX;;AACA,OAAK,IAAIpR,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG6P,gBAApB,EAAsC7P,CAAC,EAAvC,EAA2C;AACvC,QAAI6Q,WAAW,KAAK7Q,CAAhB,IAAqBvE,IAAI,CAACuF,KAAL,CAAWiQ,QAAX,KAAwB,GAAjD,EAAsD;AAClDC,MAAAA,KAAK;AACLnH,MAAAA,MAAM,GAAG,CAAC1P,KAAK,GAAG,CAAT,IAAc6W,KAAvB;AACAD,MAAAA,QAAQ,GAAG,CAAX;AACAL,MAAAA,IAAI,GAAG,IAAI,IAAJ,GAAW7G,MAAlB;AACA+G,MAAAA,cAAc,GAAGrV,IAAI,CAACuF,KAAL,CAAW4P,IAAI,GAAGtW,MAAlB,CAAjB;AACAyW,MAAAA,OAAO,GAAGtV,IAAI,CAACuF,KAAL,CAAY1G,MAAM,GAAGsW,IAAV,GAAkB,GAA7B,CAAV;;AACA,aAAOG,OAAO,GAAGD,cAAV,GAA2B,GAAlC,EAAuC;AACnCA,QAAAA,cAAc;AACjB;;AACDE,MAAAA,KAAK,GAAKD,OAAO,GAAG,GAAX,GAAkB,GAA3B;AACAF,MAAAA,WAAW,IAAIC,cAAf;AACH;;AACD,QAAI1L,EAAE,GAAGoL,OAAO,GAAGzG,MAAM,GAAGtO,IAAI,CAAC8D,GAAL,CAAU9D,IAAI,CAAC6B,EAAL,GAAU,CAAV,GAAc2T,QAAf,GAA2B,GAApC,CAA5B;AACA,QAAI5L,EAAE,GAAGsL,OAAO,GAAG5G,MAAM,GAAGtO,IAAI,CAACmE,GAAL,CAAUnE,IAAI,CAAC6B,EAAL,GAAU,CAAV,GAAc2T,QAAf,GAA2B,GAApC,CAA5B;AACAG,IAAAA,IAAI,IAAID,KAAK,GAAG,IAAR,GAAgB/L,EAAhB,GAAsB,GAAtB,GAA4BC,EAA5B,GAAiC,GAAzC;AACAkE,IAAAA,SAAS,GAAG0G,kBAAkB,CAACG,eAAe,GAAG,EAAlB,GAAuBzJ,QAAvB,GAAkC,aAAlC,GAAkD0I,cAAc,CAAC,CAAD,CAAd,CAAkBzI,IAAlB,CAAuB5G,CAAvB,EAA0B,OAA1B,CAAnD,CAA9B;;AACA,QAAIuJ,SAAS,CAACgH,aAAV,CAAwBvU,EAAxB,CAA2BrB,OAA3B,CAAmC,gBAAnC,IAAuD,CAAC,CAA5D,EAA+D;AAC3D4O,MAAAA,SAAS,CAAC,OAAD,CAAT,CAAmB,WAAnB,IAAkC,EAAlC;AACAA,MAAAA,SAAS,CAAC,OAAD,CAAT,CAAmB,MAAnB,IAA6BzO,IAAI,CAACgE,SAAL,GAAiBsG,EAAE,GAAI/K,KAAK,GAAG,CAAd,GAAmB,IAApC,GAA4C+K,EAAE,GAAI/K,KAAK,GAAG,CAAd,GAAmB,EAApB,GAA0B,IAAlG;AACAkP,MAAAA,SAAS,CAAC,OAAD,CAAT,CAAmB,KAAnB,IAA4BzO,IAAI,CAACgE,SAAL,GAAiBuG,EAAE,GAAI/K,MAAM,GAAG,CAAf,GAAoB,IAArC,GAA6C+K,EAAE,GAAI/K,MAAM,GAAG,CAAf,GAAoB,EAArB,GAA2B,IAAnG;AACAiP,MAAAA,SAAS,CAACrN,YAAV,CAAuB,WAAvB,EAAoC,gBAAgBkJ,EAAhB,GAAqB,GAArB,GAA2BC,EAA3B,GAAgC,GAApE;AACH,KALD,MAMK;AACDkE,MAAAA,SAAS,CAACrN,YAAV,CAAuB,WAAvB,EAAoC,gBAAgBkJ,EAAhB,GAAqB,GAArB,GAA2BC,EAA3B,GAAgC,GAApE;AACH;;AACDkE,IAAAA,SAAS,CAAC,OAAD,CAAT,CAAmB,YAAnB,IAAmC,SAAnC;AACA0H,IAAAA,QAAQ,IAAID,KAAZ;AACH;;AACD,MAAIK,aAAa,GAAGvW,IAAI,CAACwV,MAAL,CAAYrF,UAAZ,EAAwBU,qBAAxB,CAA8C2F,qBAAlE;AACA,MAAIzF,OAAO,GAAG;AACVhT,IAAAA,CAAC,EAAEuY,IADO;AACDpV,IAAAA,EAAE,EAAElB,IAAI,CAACC,OAAL,CAAaiB,EAAb,GAAkB,cAAlB,GAAmCiP,UAAnC,GAAgD,eAAhD,GAAkEyC,WAAlE,GAAgF,aAAhF,GAAgGD,SAAhG,GAA4G,6BAD/G;AAC8I1J,IAAAA,MAAM,EAAEsN,aAAa,CAAC1N,KADpK;AAEV,oBAAgB0N,aAAa,CAAC1M,OAFpB;AAE6B,sBAAkB0M,aAAa,CAAC1M,OAF7D;AAEsE,oBAAgB0M,aAAa,CAAChX;AAFpG,GAAd;AAIAiV,EAAAA,aAAa,GAAGU,KAAK,GAAGC,kBAAkB,CAACnV,IAAI,CAACC,OAAL,CAAaiB,EAAb,GAAkB,gBAAnB,CAArB,GAA4DsT,aAAjF;AACA,MAAIiC,QAAQ,GAAGzW,IAAI,CAACiB,QAAL,CAAcuQ,WAAd,CAA0B;AAAEtQ,IAAAA,EAAE,EAAElB,IAAI,CAACC,OAAL,CAAaiB,EAAb,GAAkB,cAAlB,GAAmCiP,UAAnC,GAAgD,eAAhD,GAAkEyC,WAAlE,GAAgF;AAAtF,GAA1B,CAAf;AACA6D,EAAAA,QAAQ,CAAC5O,WAAT,CAAqB7H,IAAI,CAACiB,QAAL,CAAcyV,QAAd,CAAuB3F,OAAvB,CAArB;AACAyD,EAAAA,aAAa,CAACN,YAAd,CAA2BuC,QAA3B,EAAqCjC,aAAa,CAACY,aAAd,CAA4B,MAAMvJ,QAAN,GAAiB,cAA7C,CAArC;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAAS0J,MAAT,CAAgB9F,SAAhB,EAA2BqD,cAA3B,EAA2CC,UAA3C,EAAuDJ,SAAvD,EAAkEtE,QAAlE,EAA4EoE,UAA5E,EAAwFnE,QAAxF,EAAkGqI,MAAlG,EAA0GC,KAA1G,EAAiH5W,IAAjH,EAAuHwO,gBAAvH,EAAyI;AAC5I;AACA,MAAID,WAAW,GAAG;AACdxK,IAAAA,IAAI,EAAE,IAAIzE,IAAJ,CAASmQ,SAAS,CAAClQ,KAAnB,EAA0BkQ,SAAS,CAACjQ,MAApC,CADQ;AAEdoJ,IAAAA,IAAI,EAAE6G,SAAS,CAAC7G,IAFF;AAEQ8F,IAAAA,WAAW,EAAEe,SAAS,CAAClG,MAAV,CAAiBV,KAFtC;AAGd8F,IAAAA,WAAW,EAAEc,SAAS,CAAClG,MAAV,CAAiBhK,KAHhB;AAGuBsK,IAAAA,OAAO,EAAEiJ,cAAc,CAACjJ,OAH/C;AAIdb,IAAAA,SAAS,EAAE8J,cAAc,CAAC9J,SAJZ;AAIuB6F,IAAAA,aAAa,EAAEjQ,iBAAiB,CAAC6Q,SAAS,CAAClG,MAAV,CAAiBM,OAAlB,CAAjB,GAA8CiJ,cAAc,CAACjJ,OAA7D,GAChD4F,SAAS,CAAClG,MAAV,CAAiBM;AALP,GAAlB;AAOA,MAAIiK,GAAG,GAAG5F,WAAW,CAACuB,SAAS,CAACtB,KAAX,EAAkBsB,SAAS,CAACrB,QAA5B,EAAsC;AAAEjL,IAAAA,CAAC,EAAE,CAAL;AAAQC,IAAAA,CAAC,EAAE;AAAX,GAAtC,EAAsDkL,QAAtD,EAAgEC,WAAhE,EAA6EC,gBAA7E,EAA+FxO,IAA/F,CAArB;AACA,MAAImD,CAAC,GAAG,CAACnD,IAAI,CAACgE,SAAL,GAAiBqK,QAAQ,CAAClL,CAA1B,GAA8B,CAACkL,QAAQ,CAAClL,CAAT,GAAasP,UAAU,CAACtP,CAAzB,IAA8ByT,KAA7D,IAAsED,MAAM,CAACxT,CAArF;AACA,MAAIC,CAAC,GAAG,CAACpD,IAAI,CAACgE,SAAL,GAAiBqK,QAAQ,CAACjL,CAA1B,GAA8B,CAACiL,QAAQ,CAACjL,CAAT,GAAaqP,UAAU,CAACrP,CAAzB,IAA8BwT,KAA7D,IAAsED,MAAM,CAACvT,CAArF;AACA0Q,EAAAA,GAAG,CAAC1S,YAAJ,CAAiB,WAAjB,EAA8B,gBAAgB+B,CAAhB,GAAoB,GAApB,GAA0BC,CAA1B,GAA8B,IAA5D;AACAyT,EAAAA,iBAAiB,CAAC7W,IAAI,CAAC8W,uBAAN,EAA+B9W,IAAI,CAAC+W,oBAApC,EAA0DjD,GAA1D,EAA+D,yBAA/D,CAAjB;AACAtF,EAAAA,gBAAgB,CAAC3G,WAAjB,CAA6BiM,GAA7B;AACA,MAAI7T,OAAO,GAAI8S,UAAU,CAACzH,MAAX,GAAoB,CAArB,KAA4BqH,SAA5B,GAAwC,QAAxC,GAAmD,IAAjE;AACA,MAAIqE,WAAW,GAAG,IAAI1S,KAAJ,CAAUnB,CAAV,EAAaC,CAAb,CAAlB;;AACA,MAAI0P,cAAc,CAACmE,iBAAf,GAAmC,CAAvC,EAA0C;AACtCC,IAAAA,cAAc,CAACpD,GAAD,EAAMhB,cAAc,CAACqE,cAArB,EAAqCrE,cAAc,CAACmE,iBAApD,EAAuED,WAAvE,EAAoFhX,IAApF,EAA0FC,OAA1F,CAAd;AACH;;AACD,SAAOuO,gBAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAAS0B,cAAT,CAAwBT,SAAxB,EAAmC2H,UAAnC,EAA+C9I,QAA/C,EAAyDxC,IAAzD,EAA+D8G,WAA/D,EAA4E1C,cAA5E,EAA4F7B,QAA5F,EAAsGoE,UAAtG,EAAkHmE,KAAlH,EAAyHD,MAAzH,EAAiI3W,IAAjI,EAAuI;AAC1IoX,EAAAA,UAAU,GAAGC,mBAAmB,CAAC5H,SAAS,CAAC6H,QAAX,CAAhC;;AACA,MAAIF,UAAU,IAAKA,UAAU,CAACtL,IAAD,EAAO9L,IAAP,EAAayP,SAAS,CAAC6H,QAAvB,EAAiCtX,IAAI,CAACC,OAAL,CAAaiB,EAAb,GAAkB,iBAAlB,GAAsC0R,WAAvE,EAAoF,KAApF,CAAV,CAAqGtH,MAAxH,EAAiI;AAC7H,QAAIiM,eAAe,GAAGH,UAAU,CAACtL,IAAD,EAAO9L,IAAP,EAAayP,SAAS,CAAC6H,QAAvB,EAAiCtX,IAAI,CAACC,OAAL,CAAaiB,EAAb,GAAkB,iBAAlB,GAAsC0R,WAAvE,EAAoF,KAApF,CAAhC;AACA,QAAI4B,aAAa,GAAG5I,cAAc,CAAC2L,eAAD,EAAkBjJ,QAAlB,EAA4BxC,IAA5B,EAAkC8G,WAAlC,EAA+C5S,IAA/C,CAAlC;;AACA,SAAK,IAAIkF,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGsP,aAAa,CAACT,QAAd,CAAuBzI,MAA3C,EAAmDpG,CAAC,EAApD,EAAwD;AACpDsP,MAAAA,aAAa,CAACT,QAAd,CAAuB7O,CAAvB,EAA0BhF,KAA1B,CAAgCsX,aAAhC,GAAgD,MAAhD;AACH;;AACDhD,IAAAA,aAAa,CAACtU,KAAd,CAAoBgC,IAApB,GAA2B,CAAClC,IAAI,CAACgE,SAAL,GAAiBqK,QAAQ,CAAClL,CAA1B,GAA8B,CAACkL,QAAQ,CAAClL,CAAT,GAAasP,UAAU,CAACtP,CAAzB,IAA8ByT,KAA7D,IAAsED,MAAM,CAACxT,CAA7E,GAAiFnD,IAAI,CAACkD,WAAL,CAAiBC,CAAlG,GAAsG,IAAjI;AACAqR,IAAAA,aAAa,CAACtU,KAAd,CAAoBkC,GAApB,GAA0B,CAACpC,IAAI,CAACgE,SAAL,GAAiBqK,QAAQ,CAACjL,CAA1B,GAA8B,CAACiL,QAAQ,CAACjL,CAAT,GAAaqP,UAAU,CAACrP,CAAzB,IAA8BwT,KAA7D,IAAsED,MAAM,CAACvT,CAA7E,GAAiFpD,IAAI,CAACkD,WAAL,CAAiBE,CAAlG,GAAsG,IAAhI;AACA8M,IAAAA,cAAc,CAACrI,WAAf,CAA2B2M,aAA3B;;AACA,QAAIxU,IAAI,CAACwV,MAAL,CAAYxV,IAAI,CAACyX,cAAjB,EAAiCC,SAAjC,KAA+C,iBAAnD,EAAsE;AAClE,UAAIC,eAAe,GAAGvD,cAAc,CAACpU,IAAI,CAACC,OAAL,CAAaiB,EAAb,GAAkB,kBAAnB,CAAd,CAAqDO,qBAArD,EAAtB;AACA,UAAImW,mBAAmB,GAAGpD,aAAa,CAAC/S,qBAAd,EAA1B;AACA,UAAIoW,oBAAoB,GAAG,GAA3B;;AACA,UAAI,CAACF,eAAe,CAAC,GAAD,CAAf,GAAuBC,mBAAmB,CAAC,GAAD,CAA1C,IAAmDD,eAAe,CAAC,GAAD,CAAf,GAAuBE,oBAAvB,GAA8CD,mBAAmB,CAAC,GAAD,CAAnB,GAA2BA,mBAAmB,CAAC,OAAD,CAAhJ,MACID,eAAe,CAAC,GAAD,CAAf,GAAuBC,mBAAmB,CAAC,GAAD,CAA1C,IAAmDD,eAAe,CAAC,GAAD,CAAf,GAAuBA,eAAe,CAAC,QAAD,CAAtC,GAAmDC,mBAAmB,CAAC,GAAD,CAAnB,GAA2BA,mBAAmB,CAAC,QAAD,CADxJ,CAAJ,EACyK;AACrKpD,QAAAA,aAAa,CAACtU,KAAd,CAAoB4X,OAApB,GAA8B,MAA9B;AACH;AACJ;AACJ;;AACD,SAAO5H,cAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAAS2G,iBAAT,CAA2BkB,SAA3B,EAAsCC,YAAtC,EAAoD/X,OAApD,EAA6DgY,SAA7D,EAAwE;AAC3E,MAAIF,SAAJ,EAAe;AACX,SAAK,IAAIhM,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAGgM,SAAS,CAACzM,MAAtC,EAA8CS,KAAK,EAAnD,EAAuD;AACnD,UAAI9L,OAAO,CAAC0V,YAAR,CAAqB,IAArB,MAA+BoC,SAAS,CAAChM,KAAD,CAA5C,EAAqD;AACjD,YAAInN,iBAAiB,CAACiW,UAAU,CAACmD,YAAY,CAAC9W,EAAd,CAAX,CAAjB,IAAkD6K,KAAK,KAAK,CAAhE,EAAmE;AAC/DrE,UAAAA,QAAQ,CAACE,IAAT,CAAcC,WAAd,CAA0BmQ,YAA1B;;AACA,cAAI/X,OAAO,CAACiB,EAAR,CAAWrB,OAAX,CAAmB,eAAnB,IAAsC,CAAC,CAAvC,IAA4CI,OAAO,CAAC+N,iBAAR,GAA4B,CAA5E,EAA+E;AAC3E/N,YAAAA,OAAO,CAAC8T,QAAR,CAAiB,CAAjB,EAAoB3S,YAApB,CAAiC,OAAjC,EAA0C6W,SAA1C;AACH;AACJ;;AACDhY,QAAAA,OAAO,CAACmB,YAAR,CAAqB,OAArB,EAA8B6W,SAA9B;AACH;AACJ;AACJ;AACJ;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,kBAAT,CAA4BhX,EAA5B,EAAgCiX,OAAhC,EAAyCvP,IAAzC,EAA+CiB,OAA/C,EAAwD6E,WAAxD,EAAqEC,WAArE,EAAkF3O,IAAlF,EAAwF;AAC3F,MAAI,CAAC6U,UAAU,CAAC3T,EAAD,CAAf,EAAqB;AACjB,QAAIkX,UAAU,GAAGzZ,aAAa,CAAC,OAAD,EAAU;AACpCuC,MAAAA,EAAE,EAAEA,EADgC;AAC5B4G,MAAAA,SAAS,EAAE,MAAMqQ,OAAN,GAAgB,QAAhB,GACbvP,IADa,GACN,GADM,GACA,UADA,GACaiB,OADb,GACuB,GADvB,GAEf,eAFe,GAEG8E,WAFH,GAEiB,GAFjB,GAGf,SAHe,GAGHD,WAHG,GAGW,GAHX,GAGiB;AAJA,KAAV,CAA9B;AAMA1O,IAAAA,IAAI,CAACqY,mBAAL,GAA2BD,UAA3B;AACA1Q,IAAAA,QAAQ,CAACE,IAAT,CAAcC,WAAd,CAA0BuQ,UAA1B;AACH;AACJ;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASE,WAAT,CAAqBnK,KAArB,EAA4BlO,OAA5B,EAAqC;AACxC,MAAIA,OAAJ,EAAa;AACTA,IAAAA,OAAO,CAAC4H,WAAR,CAAoBsG,KAApB;AACH;;AACD,SAAOA,KAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASgB,UAAT,CAAoBnP,IAApB,EAA0B+Q,OAA1B,EAAmC9Q,OAAnC,EAA4C;AAC/C,SAAOqY,WAAW,CAACtY,IAAI,CAACiB,QAAL,CAAckO,UAAd,CAAyB4B,OAAzB,CAAD,EAAoC9Q,OAApC,CAAlB;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASmP,aAAT,CAAuBpP,IAAvB,EAA6B+Q,OAA7B,EAAsC9Q,OAAtC,EAA+C;AAClD,SAAOqY,WAAW,CAACtY,IAAI,CAACiB,QAAL,CAAcmO,aAAd,CAA4B2B,OAA5B,CAAD,EAAuC9Q,OAAvC,CAAlB;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASyW,QAAT,CAAkB1W,IAAlB,EAAwB+Q,OAAxB,EAAiC9Q,OAAjC,EAA0C;AAC7C,SAAOqY,WAAW,CAACtY,IAAI,CAACiB,QAAL,CAAcyV,QAAd,CAAuB3F,OAAvB,CAAD,EAAkC9Q,OAAlC,CAAlB;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASsY,WAAT,CAAqBvY,IAArB,EAA2B+Q,OAA3B,EAAoC9Q,OAApC,EAA6C;AAChD,SAAOqY,WAAW,CAACtY,IAAI,CAACiB,QAAL,CAAcsX,WAAd,CAA0BxH,OAA1B,CAAD,EAAqC9Q,OAArC,CAAlB;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASuY,YAAT,CAAsBxY,IAAtB,EAA4B+Q,OAA5B,EAAqC9Q,OAArC,EAA8C;AACjD,SAAOqY,WAAW,CAACtY,IAAI,CAACiB,QAAL,CAAcuX,YAAd,CAA2BzH,OAA3B,CAAD,EAAsC9Q,OAAtC,CAAlB;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASwY,QAAT,CAAkBzY,IAAlB,EAAwB+Q,OAAxB,EAAiC9Q,OAAjC,EAA0C;AAC7C,SAAOqY,WAAW,CAACtY,IAAI,CAACiB,QAAL,CAAcwX,QAAd,CAAuB1H,OAAvB,CAAD,EAAkC9Q,OAAlC,CAAlB;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASqP,eAAT,CAAyBtP,IAAzB,EAA+BmO,KAA/B,EAAsC4C,OAAtC,EAA+ChN,IAA/C,EAAqDsK,QAArD,EAA+DI,SAA/D,EAA0E;AAC7E,MAAIiK,SAAJ;;AACA,UAAQvK,KAAR;AACI,SAAK,SAAL;AACIuK,MAAAA,SAAS,GAAGC,WAAW,CAAC3Y,IAAD,EAAO+Q,OAAP,EAAgBhN,IAAhB,EAAsBsK,QAAtB,EAAgC,QAAhC,EAA0CI,SAA1C,CAAvB;AACA;;AACJ,SAAK,OAAL;AACIsC,MAAAA,OAAO,CAAChT,CAAR,GAAY,OAAOsQ,QAAQ,CAAClL,CAAhB,GAAoB,GAApB,IAA2BkL,QAAQ,CAACjL,CAAT,GAAaW,IAAI,CAACvE,MAAL,GAAc,CAAtD,IAA2D,KAA3D,GAAmE6O,QAAQ,CAAClL,CAA5E,GAAgF,GAAhF,IAAuFkL,QAAQ,CAACjL,CAAT,GAAaW,IAAI,CAACvE,MAAL,GAC1G,CADM,IACD,KADC,IACQ6O,QAAQ,CAAClL,CAAT,GAAaY,IAAI,CAACxE,KAAL,GAAa,CADlC,IACuC,GADvC,GAC6C8O,QAAQ,CAACjL,CADtD,GAC0D,KAD1D,IACmEiL,QAAQ,CAAClL,CAAT,GAAaY,IAAI,CAACxE,KAAL,GAAa,CAD7F,IACkG,GADlG,GACwG8O,QAAQ,CAACjL,CAD7H;AAEA;;AACJ,SAAK,SAAL;AACI2N,MAAAA,OAAO,CAAChT,CAAR,GAAY,OAAOsQ,QAAQ,CAAClL,CAAhB,GAAoB,GAApB,IAA2BkL,QAAQ,CAACjL,CAAT,GAAaW,IAAI,CAACvE,MAAL,GAAc,CAAtD,IAA2D,KAA3D,IAAoE6O,QAAQ,CAAClL,CAAT,GAAaY,IAAI,CAACxE,KAAL,GAAa,CAA9F,IAAmG,GAAnG,GACN8O,QAAQ,CAACjL,CADH,GACO,KADP,GACeiL,QAAQ,CAAClL,CADxB,GAC4B,GAD5B,IACmCkL,QAAQ,CAACjL,CAAT,GAAaW,IAAI,CAACvE,MAAL,GAAc,CAD9D,IACmE,KADnE,IAC4E6O,QAAQ,CAAClL,CAAT,GAAaY,IAAI,CAACxE,KAAL,GAAa,CADtG,IAEN,GAFM,GAEA8O,QAAQ,CAACjL,CAFT,GAEa,IAFzB;AAGA;;AACJ,SAAK,MAAL;AACI2N,MAAAA,OAAO,CAAChT,CAAR,GAAY,QAAQsQ,QAAQ,CAAClL,CAAT,GAAaY,IAAI,CAACxE,KAAL,GAAa,CAAlC,IAAuC,GAAvC,IAA8C8O,QAAQ,CAACjL,CAAT,GAAaW,IAAI,CAACvE,MAAL,GAAc,CAAzE,IAA8E,KAA9E,IAAuF6O,QAAQ,CAAClL,CAAT,GAAaY,IAAI,CAACxE,KAAL,GAAa,CAAjH,IACN,GADM,IACC8O,QAAQ,CAACjL,CAAT,GAAaW,IAAI,CAACvE,MAAL,GAAc,CAD5B,IACiC,KADjC,IAC0C6O,QAAQ,CAAClL,CAAT,GAAaY,IAAI,CAACxE,KAAL,GAAa,CADpE,IACyE,GADzE,IACgF8O,QAAQ,CAACjL,CAAT,GAAaW,IAAI,CAACvE,MAAL,GAAc,CAD3G,IAEN,KAFM,IAEG6O,QAAQ,CAAClL,CAAT,GAAaY,IAAI,CAACxE,KAAL,GAAa,CAF7B,IAEkC,GAFlC,IAEyC8O,QAAQ,CAACjL,CAAT,GAAaW,IAAI,CAACvE,MAAL,GAAc,CAFpE,IAEyE,KAFzE,GAEiF6O,QAAQ,CAAClL,CAF1F,GAE8F,GAF9F,IAGPkL,QAAQ,CAACjL,CAAT,GAAaW,IAAI,CAACvE,MAAL,GAAc,CAHpB,IAGyB,KAHzB,IAGkC6O,QAAQ,CAAClL,CAAT,GAAaY,IAAI,CAACxE,KAAL,GAAa,CAH5D,IAGiE,GAHjE,IAGwE8O,QAAQ,CAACjL,CAAT,GAAaW,IAAI,CAACvE,MAAL,GAAc,CAHnG,IAGwG,IAHpH;AAIA;;AACJ,SAAK,UAAL;AACIuR,MAAAA,OAAO,CAAChT,CAAR,GAAY,OAAOsQ,QAAQ,CAAClL,CAAhB,GAAoB,GAApB,IAA2BkL,QAAQ,CAACjL,CAAT,GAAaW,IAAI,CAACvE,MAAL,GAAc,CAAtD,IAA2D,KAA3D,IAAoE6O,QAAQ,CAAClL,CAAT,GAAaY,IAAI,CAACxE,KAAL,GAAa,CAA9F,IAAmG,GAAnG,IACP8O,QAAQ,CAACjL,CAAT,GAAaW,IAAI,CAACvE,MAAL,GAAc,CADpB,IACyB,KADzB,IACkC6O,QAAQ,CAAClL,CAAT,GAAaY,IAAI,CAACxE,KAAL,GAAa,CAD5D,IACiE,GADjE,IACwE8O,QAAQ,CAACjL,CAAT,GAAaW,IAAI,CAACvE,MAAL,GAAc,CADnG,IACwG,IADpH;AAEA;;AACJ,SAAK,gBAAL;AACIuR,MAAAA,OAAO,CAAChT,CAAR,GAAY,SAASsQ,QAAQ,CAAClL,CAAT,GAAaY,IAAI,CAACxE,KAAL,GAAa,CAAnC,IAAwC,GAAxC,GAA8C8O,QAAQ,CAACjL,CAAvD,GAA2D,KAA3D,IAAoEiL,QAAQ,CAAClL,CAAT,GAAaY,IAAI,CAACxE,KAAL,GAAa,CAA9F,IAAmG,GAAnG,GACN8O,QAAQ,CAACjL,CADf;AAEA;;AACJ,SAAK,cAAL;AACI2N,MAAAA,OAAO,CAAChT,CAAR,GAAY,OAAOsQ,QAAQ,CAAClL,CAAhB,GAAoB,GAApB,IAA2BkL,QAAQ,CAACjL,CAAT,GAAaW,IAAI,CAACvE,MAAL,GAAc,CAAtD,IAA2D,KAA3D,GAAmE6O,QAAQ,CAAClL,CAA5E,GAAgF,GAAhF,IACPkL,QAAQ,CAACjL,CAAT,GAAaW,IAAI,CAACvE,MAAL,GAAc,CADpB,CAAZ;AAEA;;AACJ,SAAK,kBAAL;AACIuR,MAAAA,OAAO,CAAChT,CAAR,GAAY,QAAQsQ,QAAQ,CAAClL,CAAT,GAAaY,IAAI,CAACxE,KAAL,GAAa,CAAlC,IAAuC,GAAvC,IAA8C8O,QAAQ,CAACjL,CAAT,GAAaW,IAAI,CAACvE,MAAL,GAAc,CAAzE,IAA8E,KAA9E,IAAuF6O,QAAQ,CAAClL,CAAT,GAAaY,IAAI,CAACxE,KAAL,GAAa,CAAjH,IAAsH,GAAtH,IACP8O,QAAQ,CAACjL,CAAT,GAAaW,IAAI,CAACvE,MAAL,GAAc,CADpB,IACyB,KADzB,GACkC6O,QAAQ,CAAClL,CAD3C,GACgD,GADhD,IACuDkL,QAAQ,CAACjL,CAAT,GAAaW,IAAI,CAACvE,MAAL,GAAc,CADlF,IACuF,IADnG;AAEA;;AACJ,SAAK,UAAL;AACI;AACA,UAAIoZ,EAAE,GAAG,EAAT;AACA,UAAIC,MAAM,GAAG,KAAK,CAAlB;AACA,UAAIC,MAAM,GAAG,KAAK,CAAlB;;AACA,WAAK,IAAI5T,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB,EAA4B;AACxB2T,QAAAA,MAAM,GAAI9U,IAAI,CAACxE,KAAL,GAAa,CAAd,GAAmBoB,IAAI,CAACmE,GAAL,CAAUnE,IAAI,CAAC6B,EAAL,GAAU,GAAX,IAAmB0C,CAAC,GAAG0T,EAAvB,CAAT,CAA5B;AACAE,QAAAA,MAAM,GAAI/U,IAAI,CAACvE,MAAL,GAAc,CAAf,GAAoBmB,IAAI,CAAC8D,GAAL,CAAU9D,IAAI,CAAC6B,EAAL,GAAU,GAAX,IAAmB0C,CAAC,GAAG0T,EAAvB,CAAT,CAA7B;AACA7H,QAAAA,OAAO,CAAChT,CAAR,IAAa,CAACmH,CAAC,KAAK,CAAN,GAAU,IAAV,GAAiB,IAAlB,KAA2BmJ,QAAQ,CAAClL,CAAT,GAAa0V,MAAxC,IAAkD,GAAlD,IAAyDxK,QAAQ,CAACjL,CAAT,GAAa0V,MAAtE,CAAb;AACH;;AACD/H,MAAAA,OAAO,CAAChT,CAAR,IAAa,IAAb;AACA;AA9CR;;AAgDA,MAAIoQ,KAAK,KAAK,OAAV,IAAqBA,KAAK,KAAK,gBAA/B,IAAmDA,KAAK,KAAK,cAAjE,EAAiF;AAC7E4C,IAAAA,OAAO,CAAC,QAAD,CAAP,GAAqBA,OAAO,CAAC,QAAD,CAAP,KAAsB,aAAvB,GAAwCA,OAAO,CAAC,MAAD,CAA/C,GAA0DA,OAAO,CAAC,QAAD,CAArF;AACH;;AACD,SAAO5C,KAAK,KAAK,SAAV,GAAsBuK,SAAtB,GAAkC1Y,IAAI,CAACiB,QAAL,CAAcyV,QAAd,CAAuB3F,OAAvB,CAAzC;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASgI,WAAT,CAAqB/Y,IAArB,EAA2B+Q,OAA3B,EAAoChN,IAApC,EAA0CsK,QAA1C,EAAoDpO,OAApD,EAA6D;AAChE8Q,EAAAA,OAAO,CAAChT,CAAR,GAAY,OAAOsQ,QAAQ,CAAClL,CAAhB,GAAoB,GAApB,IAA2BkL,QAAQ,CAACjL,CAAT,GAAaW,IAAI,CAACvE,MAAL,GAAc,CAAtD,IAA2D,KAA3D,IAAoE6O,QAAQ,CAAClL,CAAT,GAAaY,IAAI,CAACxE,KAAL,GAAa,CAA9F,IAAmG,GAAnG,GAAyG8O,QAAQ,CAACjL,CAAlH,GACR,KADQ,GACAiL,QAAQ,CAAClL,CADT,GACa,GADb,IACoBkL,QAAQ,CAACjL,CAAT,GAAaW,IAAI,CAACvE,MAAL,GAAc,CAD/C,IACoD,KADpD,IAC6D6O,QAAQ,CAAClL,CAAT,GAAaY,IAAI,CAACxE,KAAL,GAAa,CADvF,IAC4F,GAD5F,GACkG8O,QAAQ,CAACjL,CAD3G,GAC+G,IAD3H;AAEA,SAAOkV,WAAW,CAACtY,IAAI,CAACiB,QAAL,CAAcyV,QAAd,CAAuB3F,OAAvB,CAAD,EAAkC9Q,OAAlC,CAAlB;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAAS+Y,YAAT,CAAsBhZ,IAAtB,EAA4B+Q,OAA5B,EAAqChN,IAArC,EAA2CsK,QAA3C,EAAqDpO,OAArD,EAA8D;AACjE8Q,EAAAA,OAAO,CAAChT,CAAR,GAAY,OAAOsQ,QAAQ,CAAClL,CAAhB,GAAoB,GAApB,IAA2BkL,QAAQ,CAACjL,CAAT,GAAaW,IAAI,CAACvE,MAAL,GAAc,CAAtD,IAA2D,KAA3D,IAAoE6O,QAAQ,CAAClL,CAAT,GAAaY,IAAI,CAACxE,KAAL,GAAa,CAA9F,IAAmG,GAAnG,IACP8O,QAAQ,CAACjL,CAAT,GAAaW,IAAI,CAACvE,MAAL,GAAc,CADpB,IACyB,KADzB,IACkC6O,QAAQ,CAAClL,CAAT,GAAaY,IAAI,CAACxE,KAAL,GAAa,CAD5D,IACiE,GADjE,IACwE8O,QAAQ,CAACjL,CAAT,GAAaW,IAAI,CAACvE,MAAL,GAAc,CADnG,IACwG,IADpH;AAEA,SAAO8Y,WAAW,CAACtY,IAAI,CAACiB,QAAL,CAAcyV,QAAd,CAAuB3F,OAAvB,CAAD,EAAkC9Q,OAAlC,CAAlB;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASgZ,SAAT,CAAmBjZ,IAAnB,EAAyB+Q,OAAzB,EAAkChN,IAAlC,EAAwCsK,QAAxC,EAAkDpO,OAAlD,EAA2D;AAC9D8Q,EAAAA,OAAO,CAAChT,CAAR,GAAY,OAAOsQ,QAAQ,CAAClL,CAAhB,GAAoB,GAApB,IAA2BkL,QAAQ,CAACjL,CAAT,GAAaW,IAAI,CAACvE,MAAL,GAAc,CAAtD,IAA2D,KAA3D,GAAmE6O,QAAQ,CAAClL,CAA5E,GAAgF,GAAhF,IAAuFkL,QAAQ,CAACjL,CAAT,GAAaW,IAAI,CAACvE,MAAL,GAAc,CAAlH,IACR,KADQ,IACC6O,QAAQ,CAAClL,CAAT,GAAaY,IAAI,CAACxE,KAAL,GAAa,CAD3B,IACgC,GADhC,GACsC8O,QAAQ,CAACjL,CAD/C,GACmD,KADnD,IAC4DiL,QAAQ,CAAClL,CAAT,GAAaY,IAAI,CAACxE,KAAL,GAAa,CADtF,IAC2F,GAD3F,GACiG8O,QAAQ,CAACjL,CADtH;AAEA,SAAOkV,WAAW,CAACtY,IAAI,CAACiB,QAAL,CAAcyV,QAAd,CAAuB3F,OAAvB,CAAD,EAAkC9Q,OAAlC,CAAlB;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASiZ,kBAAT,CAA4BlZ,IAA5B,EAAkC+Q,OAAlC,EAA2ChN,IAA3C,EAAiDsK,QAAjD,EAA2DpO,OAA3D,EAAoE;AACvE8Q,EAAAA,OAAO,CAAChT,CAAR,GAAY,SAASsQ,QAAQ,CAAClL,CAAT,GAAaY,IAAI,CAACxE,KAAL,GAAa,CAAnC,IAAwC,GAAxC,GAA8C8O,QAAQ,CAACjL,CAAvD,GAA2D,KAA3D,IAAoEiL,QAAQ,CAAClL,CAAT,GAAaY,IAAI,CAACxE,KAAL,GAAa,CAA9F,IAAmG,GAAnG,GAAyG8O,QAAQ,CAACjL,CAA9H;AACA,SAAOkV,WAAW,CAACtY,IAAI,CAACiB,QAAL,CAAcyV,QAAd,CAAuB3F,OAAvB,CAAD,EAAkC9Q,OAAlC,CAAlB;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASkZ,gBAAT,CAA0BnZ,IAA1B,EAAgC+Q,OAAhC,EAAyChN,IAAzC,EAA+CsK,QAA/C,EAAyDpO,OAAzD,EAAkE;AACrE8Q,EAAAA,OAAO,CAAChT,CAAR,GAAY,OAAOsQ,QAAQ,CAAClL,CAAhB,GAAoB,GAApB,IAA2BkL,QAAQ,CAACjL,CAAT,GAAaW,IAAI,CAACvE,MAAL,GAAc,CAAtD,IAA2D,KAA3D,GAAmE6O,QAAQ,CAAClL,CAA5E,GAAgF,GAAhF,IAAuFkL,QAAQ,CAACjL,CAAT,GAAaW,IAAI,CAACvE,MAAL,GAAc,CAAlH,CAAZ;AACA,SAAO8Y,WAAW,CAACtY,IAAI,CAACiB,QAAL,CAAcyV,QAAd,CAAuB3F,OAAvB,CAAD,EAAkC9Q,OAAlC,CAAlB;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASmZ,QAAT,CAAkBpZ,IAAlB,EAAwB+Q,OAAxB,EAAiChN,IAAjC,EAAuCsK,QAAvC,EAAiDpO,OAAjD,EAA0D;AAC7D8Q,EAAAA,OAAO,CAAChT,CAAR,GAAY,QAAQsQ,QAAQ,CAAClL,CAAT,GAAaY,IAAI,CAACxE,KAAL,GAAa,CAAlC,IAAuC,GAAvC,IAA8C8O,QAAQ,CAACjL,CAAT,GAAaW,IAAI,CAACvE,MAAL,GAAc,CAAzE,IAA8E,KAA9E,IAAuF6O,QAAQ,CAAClL,CAAT,GAAaY,IAAI,CAACxE,KAAL,GAAa,CAAjH,IACN,GADM,IACC8O,QAAQ,CAACjL,CAAT,GAAaW,IAAI,CAACvE,MAAL,GAAc,CAD5B,IACiC,KADjC,IAC0C6O,QAAQ,CAAClL,CAAT,GAAaY,IAAI,CAACxE,KAAL,GAAa,CADpE,IACyE,GADzE,IACgF8O,QAAQ,CAACjL,CAAT,GAAaW,IAAI,CAACvE,MAAL,GAAc,CAD3G,IACgH,KADhH,IAEL6O,QAAQ,CAAClL,CAAT,GAAaY,IAAI,CAACxE,KAAL,GAAa,CAFrB,IAE0B,GAF1B,IAEiC8O,QAAQ,CAACjL,CAAT,GAAaW,IAAI,CAACvE,MAAL,GAAc,CAF5D,IAEiE,KAFjE,GAEyE6O,QAAQ,CAAClL,CAFlF,GAEsF,GAFtF,IAE6FkL,QAAQ,CAACjL,CAAT,GAAaW,IAAI,CAACvE,MAAL,GAAc,CAFxH,IAGN,KAHM,IAGG6O,QAAQ,CAAClL,CAAT,GAAaY,IAAI,CAACxE,KAAL,GAAa,CAH7B,IAGkC,GAHlC,IAGyC8O,QAAQ,CAACjL,CAAT,GAAaW,IAAI,CAACvE,MAAL,GAAc,CAHpE,IAGyE,IAHrF;AAIA,SAAO8Y,WAAW,CAACtY,IAAI,CAACiB,QAAL,CAAcyV,QAAd,CAAuB3F,OAAvB,CAAD,EAAkC9Q,OAAlC,CAAlB;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAAS0Y,WAAT,CAAqB3Y,IAArB,EAA2B+Q,OAA3B,EAAoChN,IAApC,EAA0CsK,QAA1C,EAAoDxK,IAApD,EAA0D5D,OAA1D,EAAmE;AACtE,MAAIV,KAAK,GAAGwE,IAAI,CAACxE,KAAjB;AACA,MAAIC,MAAM,GAAGuE,IAAI,CAACvE,MAAlB;AACA,MAAI6Z,WAAJ;AACAhL,EAAAA,QAAQ,CAAClL,CAAT,IAAc5D,KAAK,GAAG,CAAtB;AACA8O,EAAAA,QAAQ,CAACjL,CAAT,IAAc5D,MAAd;AACAuR,EAAAA,OAAO,CAAChT,CAAR,GAAY,8GACR,sDADJ;AAEA,MAAIub,OAAO,GAAGtZ,IAAI,CAACiB,QAAL,CAAcyV,QAAd,CAAuB3F,OAAvB,CAAd;AACA,MAAI5N,CAAC,GAAGY,IAAI,CAACxE,KAAL,GAAa,EAArB;AACA,MAAI6D,CAAC,GAAGW,IAAI,CAACvE,MAAL,GAAc,EAAtB;AACA8Z,EAAAA,OAAO,CAAClY,YAAR,CAAqB,WAArB,EAAkC,eAAeiN,QAAQ,CAAClL,CAAxB,GAA4B,IAA5B,GAAmCkL,QAAQ,CAACjL,CAA5C,GAAgD,UAAhD,GAA6DD,CAA7D,GAAiE,IAAjE,GAAwEC,CAAxE,GAA4E,GAA9G;;AACA,MAAIS,IAAI,KAAK,QAAb,EAAuB;AACnB,QAAIuF,CAAC,GAAGpJ,IAAI,CAACiB,QAAL,CAAcuQ,WAAd,CAA0B;AAAEtQ,MAAAA,EAAE,EAAE6P,OAAO,CAAC7P;AAAd,KAA1B,CAAR;AACAoX,IAAAA,WAAW,CAACgB,OAAD,EAAUlQ,CAAV,CAAX;AACAiQ,IAAAA,WAAW,GAAGf,WAAW,CAAClP,CAAD,EAAInJ,OAAJ,CAAzB;AACH,GAJD,MAKK;AACDoZ,IAAAA,WAAW,GAAGC,OAAd;AACH;;AACD,SAAOD,WAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASE,WAAT,CAAqBvZ,IAArB,EAA2B+Q,OAA3B,EAAoCyI,QAApC,EAA8CvZ,OAA9C,EAAuD;AAC1D,MAAIwZ,OAAO,GAAGzZ,IAAI,CAACiB,QAAL,CAAcyY,aAAd,CAA4B3I,OAA5B,EAAqC,SAArC,CAAd;;AACA,OAAK,IAAI4I,EAAE,GAAG,CAAT,EAAYC,UAAU,GAAGJ,QAA9B,EAAwCG,EAAE,GAAGC,UAAU,CAACtO,MAAxD,EAAgEqO,EAAE,EAAlE,EAAsE;AAClE,QAAI7F,GAAG,GAAG8F,UAAU,CAACD,EAAD,CAApB;AACArB,IAAAA,WAAW,CAACxE,GAAD,EAAM2F,OAAN,CAAX;AACH;;AACD,SAAOnB,WAAW,CAACmB,OAAD,EAAUxZ,OAAV,CAAlB;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAAS4Z,YAAT,CAAsB7G,UAAtB,EAAkC8G,MAAlC,EAA0C;AAC7C;AACA,MAAIC,OAAO,GAAG,EAAd,CAF6C,CAG7C;;AACA,MAAIjO,IAAJ;;AACA,OAAK,IAAI6N,EAAE,GAAG,CAAT,EAAYK,YAAY,GAAGhH,UAAhC,EAA4C2G,EAAE,GAAGK,YAAY,CAAC1O,MAA9D,EAAsEqO,EAAE,EAAxE,EAA4E;AACxE,QAAIpW,IAAI,GAAGyW,YAAY,CAACL,EAAD,CAAvB;AACA7N,IAAAA,IAAI,GAAG,EAAP;;AACA,SAAK,IAAImO,EAAE,GAAG,CAAT,EAAYC,QAAQ,GAAGJ,MAA5B,EAAoCG,EAAE,GAAGC,QAAQ,CAAC5O,MAAlD,EAA0D2O,EAAE,EAA5D,EAAgE;AAC5D,UAAIE,KAAK,GAAGD,QAAQ,CAACD,EAAD,CAApB,CAD4D,CAE5D;;AACA,UAAI1W,IAAI,CAAC4W,KAAD,CAAR,EAAiB;AACb;AACArO,QAAAA,IAAI,CAACqO,KAAD,CAAJ,GAAc5W,IAAI,CAAC4W,KAAD,CAAlB;AACH;AACJ;;AACDJ,IAAAA,OAAO,CAAC9H,IAAR,CAAanG,IAAb;AACH;;AACD,SAAOiO,OAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASK,oBAAT,CAA8BpH,UAA9B,EAA0C1G,UAA1C,EAAsD+N,QAAtD,EAAgEC,YAAhE,EAA8EvX,KAA9E,EAAqF;AACxF,MAAI,CAAEnE,iBAAiB,CAAC0N,UAAD,CAAvB,EAAsC;AAClC,SAAK,IAAIpH,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG8N,UAAU,CAAC1H,MAA/B,EAAuCpG,CAAC,EAAxC,EAA4C;AACxC,UAAIqV,aAAa,GAAKF,QAAQ,CAACxa,OAAT,CAAiB,GAAjB,IAAwB,CAAC,CAA1B,GAA+B8N,kBAAkB,CAACqF,UAAU,CAAC9N,CAAD,CAAX,EAAgBmV,QAAhB,CAAjD,GACjBrH,UAAU,CAAC9N,CAAD,CAAV,CAAcmV,QAAd,CADJ;AAEA,UAAIG,SAAS,GAAGC,iBAAiB,CAACF,aAAD,EAAgBD,YAAhB,EAA8BhO,UAA9B,CAAjC;AACA,UAAIoO,kBAAkB,GAAG,CAAC9b,iBAAiB,CAAC2b,aAAD,CAAlB,IAAqCvN,KAAK,CAACV,UAAU,CAACkO,SAAD,CAAX,CAA1C,GACnBD,aAAa,CAAC9N,WAAd,EADmB,GACW8N,aADpC;AAEA,UAAII,wBAAwB,GAAG,CAAC/b,iBAAiB,CAAC0N,UAAU,CAACkO,SAAD,CAAX,CAAlB,IAA6CxN,KAAK,CAACV,UAAU,CAACkO,SAAD,CAAX,CAAlD,GACzBlO,UAAU,CAACkO,SAAD,CAAV,CAAsB/N,WAAtB,EADyB,GACaH,UAAU,CAACkO,SAAD,CADtD;;AAEA,UAAIE,kBAAkB,KAAKC,wBAA3B,EAAqD;AACjD,eAAOzV,CAAP;AACH;AACJ;AACJ;;AACD,SAAO,IAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASuV,iBAAT,CAA2BG,SAA3B,EAAsCC,iBAAtC,EAAyD1M,KAAzD,EAAgE;AACnE,MAAI,CAACvP,iBAAiB,CAACgc,SAAD,CAAlB,IAAiC,CAAChc,iBAAiB,CAACuP,KAAD,CAAvD,EAAgE;AAC5D,QAAI,CAACvP,iBAAiB,CAACic,iBAAD,CAAtB,EAA2C;AACvC,UAAIC,QAAJ;AACA,UAAIxO,UAAU,GAAIrO,MAAM,CAACQ,SAAP,CAAiBmO,QAAjB,CAA0BhD,IAA1B,CAA+BiR,iBAA/B,MAAsD,gBAAtD,GACdA,iBADc,GACM,CAACA,iBAAD,CADxB;;AAEA,WAAK,IAAI3V,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGoH,UAAU,CAAChB,MAA/B,EAAuCpG,CAAC,EAAxC,EAA4C;AACxC,YAAI6V,cAAc,GAAG,CAACnc,iBAAiB,CAACgc,SAAD,CAAlB,GAAgCA,SAAS,CAACnO,WAAV,EAAhC,GAA0DmO,SAA/E;AACA,YAAII,oBAAoB,GAAG,CAACpc,iBAAiB,CAACuP,KAAK,CAAC7B,UAAU,CAACpH,CAAD,CAAX,CAAN,CAAlB,IACpB8H,KAAK,CAACmB,KAAK,CAAC7B,UAAU,CAACpH,CAAD,CAAX,CAAN,CADe,GAErBiJ,KAAK,CAAC7B,UAAU,CAACpH,CAAD,CAAX,CAAL,CAAqBuH,WAArB,EAFqB,GAEgB0B,KAAK,CAAC7B,UAAU,CAACpH,CAAD,CAAX,CAFhD;;AAGA,YAAI6V,cAAc,KAAKC,oBAAvB,EAA6C;AACzC,iBAAO1O,UAAU,CAACpH,CAAD,CAAjB;AACH;AACJ;AACJ;AACJ;;AACD,SAAO,IAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASkN,MAAT,CAAgBlI,MAAhB,EAAwBmM,KAAxB,EAA+B4E,GAA/B,EAAoC;AACvC,MAAIC,WAAW,GAAG,EAAlB;;AACA,OAAK,IAAIhW,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGgF,MAAM,CAACoB,MAA3B,EAAmCpG,CAAC,EAApC,EAAwC;AACpC,QAAIiW,KAAK,GAAGjR,MAAM,CAAChF,CAAD,CAAlB;;AACA,QAAImR,KAAK,IAAI8E,KAAK,CAAC/X,CAAf,IAAoB6X,GAAG,IAAIE,KAAK,CAAC/X,CAArC,EAAwC;AACpC8X,MAAAA,WAAW,CAACjJ,IAAZ,CAAiBkJ,KAAjB;AACH;AACJ;;AACD,SAAOD,WAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASE,gBAAT,CAA0Bxa,GAA1B,EAA+BwD,GAA/B,EAAoC1E,KAApC,EAA2C2b,QAA3C,EAAqDC,QAArD,EAA+D;AAClE,MAAIrF,OAAO,GAAI,OAAOqF,QAAQ,GAAGD,QAAlB,CAAD,IAAiC3b,KAAK,GAAG2b,QAAzC,CAAd;AACA,MAAIE,YAAY,GAAK,CAACnX,GAAG,GAAGxD,GAAP,IAAc,GAAf,GAAsBqV,OAAvB,GAAkCrV,GAArD;;AACA,MAAI0a,QAAQ,KAAKD,QAAjB,EAA2B;AACvBE,IAAAA,YAAY,GAAK,CAACnX,GAAG,GAAGxD,GAAP,IAAc,GAAhB,GAAwBA,GAAvC;AACH;;AACD,SAAO2a,YAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,qBAAT,CAA+BtR,MAA/B,EAAuCrG,IAAvC,EAA6CK,YAA7C,EAA2D;AAC9D,MAAI,CAACgG,MAAM,CAACoB,MAAZ,EAAoB;AAChB,WAAO,IAAP;AACH;;AACD,MAAI1K,GAAG,GAAG,CAAV;AACA,MAAIwD,GAAG,GAAG8F,MAAM,CAACoB,MAAjB;AACA,MAAImQ,MAAJ;AACA,MAAIC,MAAJ;AACA,MAAIC,OAAJ;AACA,MAAIC,OAAJ;AACA,MAAIC,GAAG,GAAG,CAAV;AACA,MAAIC,IAAI,GAAG,CAAX;AACA,MAAIC,IAAI,GAAG,CAAX;;AACA,OAAK,IAAI7W,CAAC,GAAGtE,GAAb,EAAkBsE,CAAC,IAAId,GAAG,GAAG,CAA7B,EAAgCc,CAAC,EAAjC,EAAqC;AACjCuW,IAAAA,MAAM,GAAGvR,MAAM,CAAChF,CAAD,CAAN,CAAU/B,CAAnB;AACAuY,IAAAA,MAAM,GAAG7X,IAAI,KAAK,UAAT,IAAuBK,YAAY,KAAK,QAAxC,GAAmDgG,MAAM,CAAChF,CAAD,CAAN,CAAU9B,CAA7D,GAAiE,CAAE8G,MAAM,CAAChF,CAAD,CAAN,CAAU9B,CAAtF;;AACA,QAAI8B,CAAC,KAAKd,GAAG,GAAG,CAAhB,EAAmB;AACfuX,MAAAA,OAAO,GAAGzR,MAAM,CAAC,CAAD,CAAN,CAAU/G,CAApB;AACAyY,MAAAA,OAAO,GAAG/X,IAAI,KAAK,UAAT,IAAuBK,YAAY,KAAK,QAAxC,GAAmDgG,MAAM,CAAC,CAAD,CAAN,CAAU9G,CAA7D,GAAiE,CAAE8G,MAAM,CAAC,CAAD,CAAN,CAAU9G,CAAvF;AACH,KAHD,MAIK;AACDuY,MAAAA,OAAO,GAAGzR,MAAM,CAAChF,CAAC,GAAG,CAAL,CAAN,CAAc/B,CAAxB;AACAyY,MAAAA,OAAO,GAAG/X,IAAI,KAAK,UAAT,IAAuBK,YAAY,KAAK,QAAxC,GAAmDgG,MAAM,CAAChF,CAAC,GAAG,CAAL,CAAN,CAAc9B,CAAjE,GAAqE,CAAE8G,MAAM,CAAChF,CAAC,GAAG,CAAL,CAAN,CAAc9B,CAA/F;AACH;;AACDyY,IAAAA,GAAG,GAAGA,GAAG,GAAGlb,IAAI,CAACwD,GAAL,CAAWsX,MAAM,GAAGG,OAAX,GAAwBD,OAAO,GAAGD,MAA3C,CAAZ;AACAI,IAAAA,IAAI,GAAGA,IAAI,GAAGnb,IAAI,CAACwD,GAAL,CAAU,CAACsX,MAAM,GAAGE,OAAV,KAAwBF,MAAM,GAAGG,OAAV,GAAsBD,OAAO,GAAGD,MAAvD,CAAV,CAAd;AACAK,IAAAA,IAAI,GAAGA,IAAI,GAAGpb,IAAI,CAACwD,GAAL,CAAU,CAACuX,MAAM,GAAGE,OAAV,KAAwBH,MAAM,GAAGG,OAAV,GAAsBD,OAAO,GAAGD,MAAvD,CAAV,CAAd;AACH;;AACDG,EAAAA,GAAG,GAAG,MAAMA,GAAZ;AACAC,EAAAA,IAAI,GAAI,KAAK,IAAID,GAAT,CAAD,GAAkBC,IAAzB;AACAC,EAAAA,IAAI,GAAI,KAAK,IAAIF,GAAT,CAAD,GAAkBE,IAAzB;AACA;;AACA,MAAIC,aAAa,GAAG;AAAE7Y,IAAAA,CAAC,EAAE,CAAL;AAAQC,IAAAA,CAAC,EAAE;AAAX,GAApB;AACA,MAAI6Y,aAAa,GAAG;AAAE9Y,IAAAA,CAAC,EAAE,CAAL;AAAQC,IAAAA,CAAC,EAAE;AAAX,GAApB;AACA,MAAI8Y,YAAY,GAAG;AAAE/Y,IAAAA,CAAC,EAAE,CAAL;AAAQC,IAAAA,CAAC,EAAE;AAAX,GAAnB;AACA,MAAI+Y,YAAY,GAAG;AAAEhZ,IAAAA,CAAC,EAAE,CAAL;AAAQC,IAAAA,CAAC,EAAE;AAAX,GAAnB;AACA,MAAIgZ,cAAc,GAAG;AAAEjZ,IAAAA,CAAC,EAAE,CAAL;AAAQC,IAAAA,CAAC,EAAE;AAAX,GAArB;AACA,MAAIiZ,cAAc,GAAG;AAAElZ,IAAAA,CAAC,EAAE,CAAL;AAAQC,IAAAA,CAAC,EAAE;AAAX,GAArB;AACA,MAAIkZ,WAAW,GAAG;AAAEnZ,IAAAA,CAAC,EAAE,CAAL;AAAQC,IAAAA,CAAC,EAAE;AAAX,GAAlB;AACA,MAAImZ,WAAW,GAAG;AAAEpZ,IAAAA,CAAC,EAAE,CAAL;AAAQC,IAAAA,CAAC,EAAE;AAAX,GAAlB;AACA,MAAI5D,MAAM,GAAG,CAAb;;AACA,OAAK,IAAI0F,CAAC,GAAGtE,GAAb,EAAkBsE,CAAC,IAAId,GAAG,GAAG,CAA7B,EAAgCc,CAAC,EAAjC,EAAqC;AACjC,QAAIiW,KAAK,GAAGjR,MAAM,CAAChF,CAAD,CAAlB;AACAiW,IAAAA,KAAK,CAAC/X,CAAN,GAAUS,IAAI,KAAK,UAAT,IAAuBK,YAAY,KAAK,QAAxC,GAAmDiX,KAAK,CAAC/X,CAAzD,GAA6D,CAAE+X,KAAK,CAAC/X,CAA/E;;AACA,QAAI+X,KAAK,CAAC/X,CAAN,GAAU2Y,IAAd,EAAoB;AAChB,UAAIZ,KAAK,CAAChY,CAAN,GAAU2Y,IAAV,IAAkBA,IAAI,GAAGX,KAAK,CAAChY,CAAb,GAAiB2Y,IAAI,GAAGM,cAAc,CAACjZ,CAA7D,EAAgE;AAC5DiZ,QAAAA,cAAc,GAAG;AAAEjZ,UAAAA,CAAC,EAAEgY,KAAK,CAAChY,CAAX;AAAcC,UAAAA,CAAC,EAAE+X,KAAK,CAAC/X;AAAvB,SAAjB;AACH,OAFD,MAGK,IAAI+X,KAAK,CAAChY,CAAN,GAAU2Y,IAAV,KAAmBO,cAAc,CAAClZ,CAAf,KAAqB,CAArB,IAA0BgY,KAAK,CAAChY,CAAN,GAAU2Y,IAAV,GAAiBO,cAAc,CAAClZ,CAAf,GAAmB2Y,IAAjF,CAAJ,EAA4F;AAC7FO,QAAAA,cAAc,GAAG;AAAElZ,UAAAA,CAAC,EAAEgY,KAAK,CAAChY,CAAX;AAAcC,UAAAA,CAAC,EAAE+X,KAAK,CAAC/X;AAAvB,SAAjB;AACH;AACJ,KAPD,MAQK;AACD,UAAI+X,KAAK,CAAChY,CAAN,GAAU2Y,IAAV,IAAkBA,IAAI,GAAGX,KAAK,CAAChY,CAAb,GAAiB2Y,IAAI,GAAGQ,WAAW,CAACnZ,CAA1D,EAA6D;AACzDmZ,QAAAA,WAAW,GAAG;AAAEnZ,UAAAA,CAAC,EAAEgY,KAAK,CAAChY,CAAX;AAAcC,UAAAA,CAAC,EAAE+X,KAAK,CAAC/X;AAAvB,SAAd;AACH,OAFD,MAGK,IAAI+X,KAAK,CAAChY,CAAN,GAAU2Y,IAAV,KAAmBS,WAAW,CAACpZ,CAAZ,KAAkB,CAAlB,IAAuBgY,KAAK,CAAChY,CAAN,GAAU2Y,IAAV,GAAiBS,WAAW,CAACpZ,CAAZ,GAAgB2Y,IAA3E,CAAJ,EAAsF;AACvFS,QAAAA,WAAW,GAAG;AAAEpZ,UAAAA,CAAC,EAAEgY,KAAK,CAAChY,CAAX;AAAcC,UAAAA,CAAC,EAAE+X,KAAK,CAAC/X;AAAvB,SAAd;AACH;AACJ;;AACD5D,IAAAA,MAAM,GAAI6c,cAAc,CAACjZ,CAAf,GAAmBmZ,WAAW,CAACnZ,CAAhC,GAAsC,CAACiZ,cAAc,CAACjZ,CAAf,GAAmBmZ,WAAW,CAACnZ,CAAhC,IAAqC,CAApF;;AACA,QAAI+X,KAAK,CAAChY,CAAN,GAAU2Y,IAAd,EAAoB;AAChB,UAAIX,KAAK,CAAC/X,CAAN,GAAU2Y,IAAV,IAAkBA,IAAI,GAAGZ,KAAK,CAAC/X,CAAb,GAAiB2Y,IAAI,GAAGC,aAAa,CAAC5Y,CAA5D,EAA+D;AAC3D4Y,QAAAA,aAAa,GAAG;AAAE7Y,UAAAA,CAAC,EAAEgY,KAAK,CAAChY,CAAX;AAAcC,UAAAA,CAAC,EAAE+X,KAAK,CAAC/X;AAAvB,SAAhB;AACH,OAFD,MAGK,IAAI+X,KAAK,CAAC/X,CAAN,GAAU2Y,IAAV,KAAmBE,aAAa,CAAC7Y,CAAd,KAAoB,CAApB,IAAyB+X,KAAK,CAAC/X,CAAN,GAAU2Y,IAAV,GAAiBE,aAAa,CAAC7Y,CAAd,GAAkB2Y,IAA/E,CAAJ,EAA0F;AAC3FE,QAAAA,aAAa,GAAG;AAAE9Y,UAAAA,CAAC,EAAEgY,KAAK,CAAChY,CAAX;AAAcC,UAAAA,CAAC,EAAE+X,KAAK,CAAC/X;AAAvB,SAAhB;AACH;AACJ,KAPD,MAQK;AACD,UAAI+X,KAAK,CAAC/X,CAAN,GAAU2Y,IAAV,IAAkBA,IAAI,GAAGZ,KAAK,CAAC/X,CAAb,GAAiB2Y,IAAI,GAAGG,YAAY,CAAC9Y,CAA3D,EAA8D;AAC1D8Y,QAAAA,YAAY,GAAG;AAAE/Y,UAAAA,CAAC,EAAEgY,KAAK,CAAChY,CAAX;AAAcC,UAAAA,CAAC,EAAE+X,KAAK,CAAC/X;AAAvB,SAAf;AACH,OAFD,MAGK,IAAI+X,KAAK,CAAC/X,CAAN,GAAU2Y,IAAV,KAAmBI,YAAY,CAAC/Y,CAAb,KAAmB,CAAnB,IAAwB+X,KAAK,CAAC/X,CAAN,GAAU2Y,IAAV,GAAiBI,YAAY,CAAC/Y,CAAb,GAAiB2Y,IAA7E,CAAJ,EAAwF;AACzFI,QAAAA,YAAY,GAAG;AAAEhZ,UAAAA,CAAC,EAAEgY,KAAK,CAAChY,CAAX;AAAcC,UAAAA,CAAC,EAAE+X,KAAK,CAAC/X;AAAvB,SAAf;AACH;AACJ;AACJ;;AACD,SAAO;AACHD,IAAAA,CAAC,EAAE2Y,IADA;AACM1Y,IAAAA,CAAC,EAAE2Y,IADT;AACeS,IAAAA,QAAQ,EAAER,aADzB;AACwCS,IAAAA,QAAQ,EAAER,aADlD;AAEHS,IAAAA,OAAO,EAAER,YAFN;AAEoBS,IAAAA,OAAO,EAAER,YAF7B;AAE2CjS,IAAAA,MAAM,EAAEA,MAFnD;AAE2D0S,IAAAA,MAAM,EAAEL,WAFnE;AAEgFM,IAAAA,MAAM,EAAEP,WAFxF;AAGHQ,IAAAA,SAAS,EAAET,cAHR;AAGwBU,IAAAA,SAAS,EAAEX,cAHnC;AAGmD5c,IAAAA,MAAM,EAAEA;AAH3D,GAAP;AAKH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASwd,YAAT,CAAsBC,SAAtB,EAAiC;AACpC,MAAIC,UAAU,GAAG,KAAjB;;AACA,MAAIjf,MAAM,CAACQ,SAAP,CAAiBmO,QAAjB,CAA0BhD,IAA1B,CAA+BqT,SAA/B,MAA8C,gBAAlD,EAAoE;AAChE7e,IAAAA,KAAK,CAACK,SAAN,CAAgB0e,OAAhB,CAAwBvT,IAAxB,CAA6BqT,SAA7B,EAAwC,UAAUla,KAAV,EAAiBgJ,KAAjB,EAAwB;AAC5D,UAAI,CAACnN,iBAAiB,CAACmE,KAAK,CAAC,UAAD,CAAN,CAAlB,IAAyCA,KAAK,CAAC,UAAD,CAAL,CAAkB,MAAlB,MAA8B,MAA3E,EAAmF;AAC/Ema,QAAAA,UAAU,GAAG,IAAb;AACH;AACJ,KAJD;AAKH;;AACD,SAAOA,UAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASE,QAAT,CAAkBC,QAAlB,EAA4B9V,IAA5B,EAAkCC,IAAlC,EAAwC;AAC3C,MAAI8V,KAAK,GAAG/V,IAAZ;AACA,MAAIxD,IAAI,GAAGuD,WAAW,CAACC,IAAD,EAAOC,IAAP,CAAX,CAAwBjI,KAAnC;;AACA,MAAIwE,IAAI,GAAGsZ,QAAX,EAAqB;AACjB,QAAIE,UAAU,GAAGhW,IAAI,CAAC+D,MAAtB;;AACA,SAAK,IAAIpG,CAAC,GAAGqY,UAAU,GAAG,CAA1B,EAA6BrY,CAAC,IAAI,CAAlC,EAAqC,EAAEA,CAAvC,EAA0C;AACtCoY,MAAAA,KAAK,GAAG/V,IAAI,CAACiW,SAAL,CAAe,CAAf,EAAkBtY,CAAlB,IAAuB,KAA/B;AACAnB,MAAAA,IAAI,GAAGuD,WAAW,CAACgW,KAAD,EAAQ9V,IAAR,CAAX,CAAyBjI,KAAhC;;AACA,UAAIwE,IAAI,IAAIsZ,QAAR,IAAoBC,KAAK,CAAChS,MAAN,GAAe,CAAvC,EAA0C;AACtC,YAAIgS,KAAK,CAAChS,MAAN,GAAe,CAAnB,EAAsB;AAClBgS,UAAAA,KAAK,GAAG,GAAR;AACH;;AACD,eAAOA,KAAP;AACH;AACJ;AACJ;;AACD,SAAOA,KAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASG,YAAT,CAAsBpP,QAAtB,EAAgCqP,SAAhC,EAA2CC,QAA3C,EAAqD9Z,IAArD,EAA2D;AAC9D,MAAIV,CAAJ;;AACA,UAAQua,SAAR;AACI,SAAK,MAAL;AACIva,MAAAA,CAAC,GAAGkL,QAAQ,CAAClL,CAAb;AACA;;AACJ,SAAK,QAAL;AACIA,MAAAA,CAAC,GAAIU,IAAI,KAAK,OAAV,GAAsBwK,QAAQ,CAAC9O,KAAT,GAAiB,CAAjB,GAAqBoe,QAAQ,CAACpe,KAAT,GAAiB,CAA5D,GACE8O,QAAQ,CAAClL,CAAT,GAAckL,QAAQ,CAAC9O,KAAT,GAAiB,CAAhC,GAAsCoe,QAAQ,CAACpe,KAAT,GAAiB,CAD5D;AAEA;;AACJ,SAAK,KAAL;AACI4D,MAAAA,CAAC,GAAIU,IAAI,KAAK,OAAV,GAAsBwK,QAAQ,CAAC9O,KAAT,GAAiB8O,QAAQ,CAACjL,CAA1B,GAA8Bua,QAAQ,CAACpe,KAA7D,GACE8O,QAAQ,CAAClL,CAAT,GAAakL,QAAQ,CAAC9O,KAAvB,GAAgCoe,QAAQ,CAACpe,KAD9C;AAEA;AAXR;;AAaA,MAAI6D,CAAC,GAAIS,IAAI,KAAK,OAAV,GAAqBwK,QAAQ,CAACjL,CAAT,GAAcua,QAAQ,CAACne,MAAT,GAAkB,CAArD,GAA4D6O,QAAQ,CAACjL,CAAT,GAAaiL,QAAQ,CAAC7O,MAAT,GAAkB,CAAhC,GAAqCme,QAAQ,CAACne,MAAT,GAAkB,CAA1H;AACA,SAAO,IAAI8E,KAAJ,CAAUnB,CAAV,EAAaC,CAAb,CAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAAS4R,aAAT,CAAuB9T,EAAvB,EAA2B;AAC9B,MAAIjB,OAAO,GAAGyH,QAAQ,CAACC,cAAT,CAAwBzG,EAAxB,CAAd;AACA,SAAOjB,OAAO,GAAGpB,MAAM,CAACoB,OAAD,CAAT,GAAqB,IAAnC;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAAS2d,wBAAT,CAAkC9X,SAAlC,EAA6C/C,KAA7C,EAAoD;AACvD,MAAI8a,MAAM,GAAGlb,iBAAiB,CAACmD,SAAS,CAACgY,qBAAX,EAAkChY,SAAS,CAACiY,sBAA5C,EAAoEjY,SAAS,CAACsN,aAAV,CAAwBC,eAAxB,CAAwCtQ,KAAxC,CAApE,EAAoHA,KAApH,EAA2H+C,SAA3H,CAA9B;AACA,MAAIkY,MAAM,GAAGrb,iBAAiB,CAACmD,SAAS,CAACmY,qBAAX,EAAkCnY,SAAS,CAACoY,sBAA5C,EAAoEpY,SAAS,CAACsN,aAAV,CAAwBC,eAAxB,CAAwCtQ,KAAxC,CAApE,EAAoHA,KAApH,EAA2H+C,SAA3H,CAA9B;AACA,MAAI3C,CAAC,GAAG,CAAC0a,MAAM,CAAC1a,CAAP,GAAW6a,MAAM,CAAC7a,CAAnB,IAAwB,CAAhC;AACA,MAAIC,CAAC,GAAG,CAACya,MAAM,CAACza,CAAP,GAAW4a,MAAM,CAAC5a,CAAnB,IAAwB,CAAhC;AACA,SAAO,IAAIkB,KAAJ,CAAUnB,CAAV,EAAaC,CAAb,CAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASoP,YAAT,CAAsB1M,SAAtB,EAAiC/C,KAAjC,EAAwCob,OAAxC,EAAiD;AACpD,MAAIC,eAAe,GAAGtY,SAAS,CAACwN,YAAV,CAAuB+K,UAA7C;AACA,MAAIC,WAAJ;AACA,MAAI/Y,MAAM,GAAGO,SAAS,CAACyY,cAAvB;AACA,MAAIC,cAAc,GAAGjZ,MAAM,CAAC3C,QAA5B;AACA,MAAI6b,eAAe,GAAGlZ,MAAM,CAAC1C,SAA7B;AACA,MAAI6b,gBAAgB,GAAG,CAAC9f,iBAAiB,CAACkH,SAAS,CAAC6Y,wBAAX,CAAlB,IACnB,CAAC/f,iBAAiB,CAACkH,SAAS,CAAC8Y,yBAAX,CADC,IACwC9Y,SAAS,CAAC+Y,cADzE;;AAEA,MAAIjgB,iBAAiB,CAACkH,SAAS,CAAC4N,aAAX,CAArB,EAAgD;AAC5C5N,IAAAA,SAAS,CAAC4N,aAAV,GAA0B0K,eAA1B;AACH;;AACD,MAAItY,SAAS,CAACwN,YAAV,CAAuBwL,mBAAvB,IAA8ChZ,SAAS,CAACwN,YAAV,CAAuBC,MAAzE,EAAiF;AAC7EzN,IAAAA,SAAS,CAAC4N,aAAV,GAA0B4K,WAAW,GAAGF,eAAe,GAAI,CAACtY,SAAS,CAACwN,YAAV,CAAuBwL,mBAAvB,IAA8ChZ,SAAS,CAACiZ,iBAAzD,KAA+EjZ,SAAS,CAAC8Q,KAAV,KAAoB,CAApG,GACpD9Q,SAAS,CAAC8Q,KAD0C,GACjChY,iBAAiB,CAACkH,SAAS,CAACkZ,gBAAX,CAAlB,GAAkD,CAAlD,GAAsDlZ,SAAS,CAACkZ,gBADxF;;AAEA,QAAIlZ,SAAS,CAAC4N,aAAV,KAA4B5N,SAAS,CAACkZ,gBAAtC,IAA0D,CAAClZ,SAAS,CAACiZ,iBAAzE,EAA4F;AACxFjZ,MAAAA,SAAS,CAAC4N,aAAV,GAA0B0K,eAAe,GAAGtY,SAAS,CAACkZ,gBAAtD;AACH;;AACD,QAAI,CAACpgB,iBAAiB,CAACkH,SAAS,CAACmZ,oBAAX,CAAlB,IAAsD,CAACrgB,iBAAiB,CAACkH,SAAS,CAACoZ,qBAAX,CAA5E,EAA+G;AAC3GV,MAAAA,cAAc,GAAG1Y,SAAS,CAACmZ,oBAA3B;AACAR,MAAAA,eAAe,GAAG3Y,SAAS,CAACoZ,qBAA5B;AACH;AACJ;;AACD,MAAIR,gBAAJ,EAAsB;AAClB5Y,IAAAA,SAAS,CAAC4N,aAAV,GAA0B4K,WAAW,GAAGF,eAAe,GAAGtY,SAAS,CAACqZ,oBAApE;AACH,GAxBmD,CAyBpD;;;AACA,MAAIve,GAAG,GAAG,CAAChC,iBAAiB,CAACkH,SAAS,CAACsZ,iBAAX,CAAlB,GAAkDtZ,SAAS,CAACsZ,iBAAV,CAA4B,KAA5B,CAAlD,GAAuF,IAAjG,CA1BoD,CA2BpD;;AACA,MAAIhb,GAAG,GAAG,CAACxF,iBAAiB,CAACkH,SAAS,CAACsZ,iBAAX,CAAlB,GAAkDtZ,SAAS,CAACsZ,iBAAV,CAA4B,KAA5B,CAAlD,GAAuF,IAAjG;AACA,MAAIf,UAAU,GAAGF,OAAO,GAAG,CAAH,GAAOrY,SAAS,CAAC4N,aAAzC;;AACA,MAAI9U,iBAAiB,CAACkH,SAAS,CAACuZ,sBAAX,CAArB,EAAyD;AACrDvZ,IAAAA,SAAS,CAACuZ,sBAAV,GAAmC,CAACzgB,iBAAiB,CAACmE,KAAK,CAAC6X,SAAN,CAAgB,UAAhB,CAAD,CAAlB,GAC7B7X,KAAK,CAAC6X,SAAN,CAAgB,UAAhB,EAA4BtP,MADC,GACQvI,KAAK,CAAC6X,SAAN,CAAgB,YAAhB,EAA8BtP,MADzE;AAEH;;AACD,MAAIvH,IAAI,GAAI+B,SAAS,CAACwZ,SAAV,IAAuBxZ,SAAS,CAACyZ,cAAV,CAAyBC,OAAjD,GAA4D1Z,SAAS,CAACwZ,SAAtE,GAAkFxZ,SAAS,CAAC5C,WAAvG;AACA,MAAIuc,SAAS,GAAG3Z,SAAS,CAACrF,aAA1B;AACA,MAAI0C,CAAJ;AACA,MAAIC,CAAJ;;AACA,MAAI,CAACxE,iBAAiB,CAACgC,GAAD,CAAlB,IAA2B,CAAChC,iBAAiB,CAACwF,GAAD,CAAjD,EAAwD;AACpD,QAAIsb,QAAQ,GAAG/e,IAAI,CAACwD,GAAL,CAASC,GAAG,CAAC,GAAD,CAAH,GAAWxD,GAAG,CAAC,GAAD,CAAvB,CAAf;AACA,QAAI+e,SAAS,GAAGhf,IAAI,CAACwD,GAAL,CAASvD,GAAG,CAAC,GAAD,CAAH,GAAWwD,GAAG,CAAC,GAAD,CAAvB,CAAhB;AACA,QAAItB,MAAM,GAAGqb,OAAO,GAAG,CAAH,GAAOrY,SAAS,CAACkZ,gBAAV,KAA+B,CAA/B,GAAmClZ,SAAS,CAAC4N,aAA7C,GAA6D0K,eAAxF;AACA7Y,IAAAA,MAAM,GAAGO,SAAS,CAACwN,YAAV,CAAuBwL,mBAAvB,IACFhZ,SAAS,CAAC8Z,iBADR,IAC6B,CAAC9Z,SAAS,CAAC+Z,eADxC,GAC0D/Z,SAAS,CAACga,qBADpE,GAELha,SAAS,CAACyY,cAFd;;AAGA,QAAK,CAAC3f,iBAAiB,CAAC6f,eAAD,CAAlB,IAAuC,CAAC7f,iBAAiB,CAAC4f,cAAD,CAA1D,IAA+EE,gBAAnF,EAAqG;AACjG,UAAIqB,YAAY,GAAG,CAAE,CAACL,QAAQ,GAAG/e,IAAI,CAACwD,GAAL,CAAS2B,SAAS,CAAC5C,WAAV,CAAsB3D,KAAtB,GAA8BmgB,QAAvC,CAAZ,IAAgE,CAAjE,GAAsE5Z,SAAS,CAAC5C,WAAV,CAAsBC,CAA7F,IAAkGL,MAArH;AACA,UAAIkd,WAAW,GAAG,CAAE,CAACL,SAAS,GAAGhf,IAAI,CAACwD,GAAL,CAAS2B,SAAS,CAAC5C,WAAV,CAAsB1D,MAAtB,GAA+BmgB,SAAxC,CAAb,IAAmE,CAApE,GAAyE7Z,SAAS,CAAC5C,WAAV,CAAsBE,CAAhG,IAAqGN,MAAvH;AACA,UAAIqY,KAAK,GAAGuD,gBAAgB,GAAGd,wBAAwB,CAAC9X,SAAD,EAAY/C,KAAZ,CAA3B,GACxBJ,iBAAiB,CAAC6b,cAAD,EAAiBC,eAAjB,EAAkC3Y,SAAS,CAACsN,aAAV,CAAwBC,eAAxB,CAAwCtQ,KAAxC,CAAlC,EAAkFA,KAAlF,EAAyF+C,SAAzF,CADrB;;AAEA,UAAIlH,iBAAiB,CAACkH,SAAS,CAACma,kBAAX,CAAjB,IAAmDna,SAAS,CAACma,kBAAV,KAAiCna,SAAS,CAAChC,cAAlG,EAAkH;AAC9GX,QAAAA,CAAC,GAAG,CAACgY,KAAK,CAAChY,CAAP,GAAW4c,YAAf;AACA3c,QAAAA,CAAC,GAAG,CAAC+X,KAAK,CAAC/X,CAAP,GAAW4c,WAAf;AACA1B,QAAAA,WAAW,GAAGD,UAAd;AACH,OAJD,MAKK;AACD,YAAI1d,IAAI,CAACuf,KAAL,CAAWpa,SAAS,CAAC8Q,KAArB,MAAgC,CAAhC,IAAqC9Q,SAAS,CAACwN,YAAV,CAAuBwL,mBAA5D,IAAoFhZ,SAAS,CAAC+Y,cAAlG,EAAmH;AAC/G1b,UAAAA,CAAC,GAAG,CAACgY,KAAK,CAAChY,CAAP,GAAW4c,YAAf;AACA3c,UAAAA,CAAC,GAAG,CAAC+X,KAAK,CAAC/X,CAAP,GAAW4c,WAAf;AACH,SAHD,MAIK;AACD,cAAIla,SAAS,CAACwN,YAAV,CAAuBwL,mBAAvB,IAA8ChZ,SAAS,CAAC+Y,cAA5D,EAA4E;AACxE1b,YAAAA,CAAC,GAAG,CAACgY,KAAK,CAAChY,CAAP,GAAW4c,YAAf;AACA3c,YAAAA,CAAC,GAAG,CAAC+X,KAAK,CAAC/X,CAAP,GAAW4c,WAAf;AACA1B,YAAAA,WAAW,GAAGD,UAAd;AACH,WAJD,MAKK;AACDlb,YAAAA,CAAC,GAAG2C,SAAS,CAACqa,kBAAV,CAA6Bhd,CAAjC;AACAC,YAAAA,CAAC,GAAG0C,SAAS,CAACqa,kBAAV,CAA6B/c,CAAjC;AACH;AACJ;;AACDkb,QAAAA,WAAW,GAAGxY,SAAS,CAAC4N,aAAxB;AACH;AACJ,KA5BD,MA6BK;AACD,UAAI9U,iBAAiB,CAACkH,SAAS,CAACma,kBAAX,CAAjB,IAAmDna,SAAS,CAACma,kBAAV,KAAiCna,SAAS,CAAChC,cAAlG,EAAkH;AAC9Gwa,QAAAA,WAAW,GAAG1P,UAAU,CAACjO,IAAI,CAACC,GAAL,CAASmD,IAAI,CAACxE,KAAL,GAAamgB,QAAtB,EAAgC3b,IAAI,CAACvE,MAAL,GAAcmgB,SAA9C,EAAyDS,OAAzD,CAAiE,CAAjE,CAAD,CAAxB;AACAV,QAAAA,QAAQ,IAAIpB,WAAZ;AACAqB,QAAAA,SAAS,IAAIrB,WAAb;AACA,YAAI+B,SAAS,GAAGzf,GAAG,CAAC,GAAD,CAAH,KAAa,CAAb,IAAkBkF,SAAS,CAACwa,aAAV,KAA4B,QAA9C,GAAyDb,SAAS,CAAClgB,KAAV,GAAkBwE,IAAI,CAACxE,KAAhF,GAAwF,CAAxG;AACA4D,QAAAA,CAAC,GAAGY,IAAI,CAACZ,CAAL,IAAW,CAAEvC,GAAG,CAAC,GAAD,CAAN,IAAkBmD,IAAI,CAACxE,KAAL,GAAa,CAAd,GAAoBmgB,QAAQ,GAAG,CAAhD,CAAV,IAAiEW,SAArE;AACAjd,QAAAA,CAAC,GAAGW,IAAI,CAACX,CAAL,IAAW,CAAExC,GAAG,CAAC,GAAD,CAAN,IAAkBmD,IAAI,CAACvE,MAAL,GAAc,CAAf,GAAqBmgB,SAAS,GAAG,CAAlD,CAAV,CAAJ;AACA7Z,QAAAA,SAAS,CAACya,iBAAV,GAA8B,IAAIjc,KAAJ,CAAUnB,CAAV,EAAaC,CAAb,CAA9B;AACH,OARD,MASK;AACD,YAAI,CAAC0C,SAAS,CAACwN,YAAV,CAAuBwL,mBAAxB,IAA+ChZ,SAAS,CAACkZ,gBAAV,KAA+B,CAA9E,IAAmFlZ,SAAS,CAAC4N,aAAV,KAA4B,CAAnH,EAAsH;AAClH4K,UAAAA,WAAW,GAAG1P,UAAU,CAACjO,IAAI,CAACC,GAAL,CAASmD,IAAI,CAACxE,KAAL,GAAamgB,QAAtB,EAAgC3b,IAAI,CAACvE,MAAL,GAAcmgB,SAA9C,EAAyDS,OAAzD,CAAiE,CAAjE,CAAD,CAAxB;AACAT,UAAAA,SAAS,IAAIrB,WAAb;AACAoB,UAAAA,QAAQ,IAAIpB,WAAZ;AACAlb,UAAAA,CAAC,GAAGW,IAAI,CAACX,CAAL,IAAW,CAAExC,GAAG,CAAC,GAAD,CAAN,IAAkBmD,IAAI,CAACvE,MAAL,GAAc,CAAf,GAAqBmgB,SAAS,GAAG,CAAlD,CAAV,CAAJ;AACAxc,UAAAA,CAAC,GAAGY,IAAI,CAACZ,CAAL,IAAW,CAAEvC,GAAG,CAAC,GAAD,CAAN,IAAkBmD,IAAI,CAACxE,KAAL,GAAa,CAAd,GAAoBmgB,QAAQ,GAAG,CAAhD,CAAV,CAAJ;AACH,SAND,MAOK;AACDpB,UAAAA,WAAW,GAAGxY,SAAS,CAAC4N,aAAV,GAA0B,CAA1B,GAA8B5N,SAAS,CAAC4N,aAAV,GAA0B,CAAxD,GAA4D5N,SAAS,CAAC4N,aAApF;AACA5N,UAAAA,SAAS,CAAC4N,aAAV,GAA0B5N,SAAS,CAACwN,YAAV,CAAuBC,MAAvB,IAAiCzN,SAAS,CAAC4N,aAAV,KAA4B,CAA7D,GAAiE5N,SAAS,CAAC4N,aAA3E,GAA2F,CAArH;;AACA,cAAK5N,SAAS,CAACuZ,sBAAV,MAAsC,CAACzgB,iBAAiB,CAACmE,KAAK,CAAC6X,SAAN,CAAgB,UAAhB,CAAD,CAAlB,GACrC7X,KAAK,CAAC6X,SAAN,CAAgB,UAAhB,EAA4BtP,MADS,GACAvI,KAAK,CAAC6X,SAAN,CAAgB,YAAhB,EAA8BtP,MADpE,CAAD,IACiFvI,KAAK,CAACc,IAAN,KAAe,UADpG,EACgH;AAC5G,gBAAI+S,KAAK,GAAGhI,UAAU,CAACjO,IAAI,CAACC,GAAL,CAASmD,IAAI,CAACvE,MAAL,GAAcmgB,SAAvB,EAAkC5b,IAAI,CAACxE,KAAL,GAAamgB,QAA/C,EAAyDU,OAAzD,CAAiE,CAAjE,CAAD,CAAtB;AACAT,YAAAA,SAAS,IAAI/I,KAAb;AACA8I,YAAAA,QAAQ,IAAI9I,KAAZ;AACAxT,YAAAA,CAAC,GAAGW,IAAI,CAACX,CAAL,IAAW,CAAExC,GAAG,CAAC,GAAD,CAAN,IAAkBmD,IAAI,CAACvE,MAAL,GAAc,CAAf,GACxBmgB,SAAS,GAAG,CADL,CAAV,CAAJ;AAEArB,YAAAA,WAAW,GAAG1H,KAAd;AACAzT,YAAAA,CAAC,GAAGY,IAAI,CAACZ,CAAL,IAAW,CAAEvC,GAAG,CAAC,GAAD,CAAN,IACNmD,IAAI,CAACxE,KAAL,GAAa,CAAd,GAAoBmgB,QAAQ,GAAG,CADxB,CAAV,CAAJ;AAEH,WAVD,MAWK,IAAI5Z,SAAS,CAACrF,aAAV,CAAwBjB,MAAxB,KAAmCsG,SAAS,CAAC0a,mBAA7C,IAAoE1a,SAAS,CAAC2a,kBAAV,KAAiC3a,SAAS,CAACrF,aAAV,CAAwBlB,KAAjI,EAAwI;AACzI,gBAAImhB,YAAY,GAAG9R,UAAU,CAACjO,IAAI,CAACC,GAAL,CAASmD,IAAI,CAACxE,KAAL,GAAamgB,QAAtB,EAAgC3b,IAAI,CAACvE,MAAL,GAAcmgB,SAA9C,EAAyDS,OAAzD,CAAiE,CAAjE,CAAD,CAA7B;AACA,gBAAIO,SAAS,GAAGjB,QAAhB;AACAiB,YAAAA,SAAS,IAAID,YAAb;AACA,gBAAIE,UAAU,GAAGjB,SAAjB;AACAiB,YAAAA,UAAU,IAAIF,YAAd;AACA,gBAAIpW,EAAE,GAAGvG,IAAI,CAACZ,CAAL,IAAW,CAAEvC,GAAG,CAAC,GAAD,CAAN,IAAkBmD,IAAI,CAACxE,KAAL,GAAa,CAAd,GAAoBohB,SAAS,GAAG,CAAjD,CAAV,CAAT;AACA,gBAAIpW,EAAE,GAAGxG,IAAI,CAACX,CAAL,IAAW,CAAExC,GAAG,CAAC,GAAD,CAAN,IAAkBmD,IAAI,CAACvE,MAAL,GAAc,CAAf,GAAqBohB,UAAU,GAAG,CAAnD,CAAV,CAAT;AACA,gBAAIC,KAAK,GAAG,CAAC/a,SAAS,CAAC4M,cAAV,CAAyBvP,CAAzB,GAA6B2C,SAAS,CAACya,iBAAV,CAA4Bpd,CAA1D,IAAgE2C,SAAS,CAAC2a,kBAAtF;AACA,gBAAIK,KAAK,GAAG,CAAChb,SAAS,CAAC4M,cAAV,CAAyBtP,CAAzB,GAA6B0C,SAAS,CAACya,iBAAV,CAA4Bnd,CAA1D,IAAgE0C,SAAS,CAAC0a,mBAAtF;AACA,gBAAIO,QAAQ,GAAGF,KAAK,GAAI/a,SAAS,CAACrF,aAAV,CAAwBlB,KAAhD;AACA,gBAAIyhB,QAAQ,GAAGF,KAAK,GAAIhb,SAAS,CAACrF,aAAV,CAAwBjB,MAAhD;AACA2D,YAAAA,CAAC,GAAGmH,EAAE,GAAGyW,QAAT;AACA3d,YAAAA,CAAC,GAAGmH,EAAE,GAAGyW,QAAT;AACAlb,YAAAA,SAAS,CAACya,iBAAV,GAA8B,IAAIjc,KAAJ,CAAUgG,EAAV,EAAcC,EAAd,CAA9B;AACAzE,YAAAA,SAAS,CAACqa,kBAAV,CAA6Bhd,CAA7B,GAAiCA,CAAjC;AACA2C,YAAAA,SAAS,CAACqa,kBAAV,CAA6B/c,CAA7B,GAAiCA,CAAjC;AACH,WAjBI,MAkBA;AACD,gBAAI,CAACxE,iBAAiB,CAACkH,SAAS,CAACma,kBAAX,CAAlB,IAAoDna,SAAS,CAAC4N,aAAV,KAA4B,CAAhF,IAAqF,CAAC5N,SAAS,CAACmb,UAAV,CAAqBC,UAA/G,EAA2H;AACvH5C,cAAAA,WAAW,GAAG1P,UAAU,CAACjO,IAAI,CAACC,GAAL,CAASmD,IAAI,CAACxE,KAAL,GAAamgB,QAAtB,EAAgC3b,IAAI,CAACvE,MAAL,GAAcmgB,SAA9C,EAAyDS,OAAzD,CAAiE,CAAjE,CAAD,CAAxB;AACAV,cAAAA,QAAQ,IAAIpB,WAAZ;AACAnb,cAAAA,CAAC,GAAGY,IAAI,CAACZ,CAAL,IAAW,CAAEvC,GAAG,CAAC,GAAD,CAAN,IAAkBmD,IAAI,CAACxE,KAAL,GAAa,CAAd,GAAoBmgB,QAAQ,GAAG,CAAhD,CAAV,CAAJ;AACAC,cAAAA,SAAS,IAAIrB,WAAb;AACAlb,cAAAA,CAAC,GAAGW,IAAI,CAACX,CAAL,IAAW,CAAExC,GAAG,CAAC,GAAD,CAAN,IAAkBmD,IAAI,CAACvE,MAAL,GAAc,CAAf,GAAqBmgB,SAAS,GAAG,CAAlD,CAAV,CAAJ;AACH,aAND,MAOK;AACDxc,cAAAA,CAAC,GAAG2C,SAAS,CAACqa,kBAAV,CAA6Bhd,CAAjC;AACAC,cAAAA,CAAC,GAAG0C,SAAS,CAACqa,kBAAV,CAA6B/c,CAAjC;AACAkb,cAAAA,WAAW,GAAGxY,SAAS,CAAC8Q,KAAxB;AACH;AACJ;AACJ;AACJ;AACJ;;AACD,QAAI,CAAChY,iBAAiB,CAACkH,SAAS,CAAC4M,cAAX,CAAtB,EAAkD;AAC9CvP,MAAAA,CAAC,GAAI2C,SAAS,CAACiZ,iBAAV,IAA+BjZ,SAAS,CAAC4M,cAAV,CAAyBvP,CAAzB,KAA+B,CAA9D,IAAmE,CAAC2C,SAAS,CAAC+Y,cAA/E,GAAiG/Y,SAAS,CAAC4M,cAAV,CAAyBvP,CAA1H,GAA8HA,CAAlI;AACAC,MAAAA,CAAC,GAAI0C,SAAS,CAACiZ,iBAAV,IAA+BjZ,SAAS,CAAC4M,cAAV,CAAyBtP,CAAzB,KAA+B,CAA9D,IAAmE,CAAC0C,SAAS,CAAC+Y,cAA/E,GAAiG/Y,SAAS,CAAC4M,cAAV,CAAyBtP,CAA1H,GAA8HA,CAAlI;AACH;AACJ;;AACDkb,EAAAA,WAAW,GAAIxY,SAAS,CAACiZ,iBAAX,GAAkCjZ,SAAS,CAAC4N,aAAV,IAA2B,CAA5B,GAAiC5N,SAAS,CAAC4N,aAA3C,GAA2D,CAA5F,GAAiG4K,WAA/G;AACAxY,EAAAA,SAAS,CAAC2a,kBAAV,GAA+B3a,SAAS,CAACrF,aAAV,CAAwBlB,KAAvD;AACAuG,EAAAA,SAAS,CAAC0a,mBAAV,GAAgC1a,SAAS,CAACrF,aAAV,CAAwBjB,MAAxD;AACA,SAAO;AAAEoX,IAAAA,KAAK,EAAE0H,WAAT;AAAsBjQ,IAAAA,QAAQ,EAAE,IAAI/J,KAAJ,CAAUnB,CAAV,EAAaC,CAAb;AAAhC,GAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAAS+d,gBAAT,CAA0Brb,SAA1B,EAAqC/C,KAArC,EAA4Cob,OAA5C,EAAqD;AACxD,MAAIC,eAAe,GAAGtY,SAAS,CAACwN,YAAV,CAAuB+K,UAA7C;AACA,MAAIC,WAAJ;AACA,MAAI/Y,MAAM,GAAGO,SAAS,CAACyY,cAAvB;AACA,MAAI3b,QAAQ,GAAG2C,MAAM,CAAC3C,QAAtB;AACA,MAAIC,SAAS,GAAG0C,MAAM,CAAC1C,SAAvB;AACA,MAAIue,eAAe,GAAG,CAACxiB,iBAAiB,CAACkH,SAAS,CAAC8Y,yBAAX,CAAlB,IAClB,CAAChgB,iBAAiB,CAACkH,SAAS,CAAC6Y,wBAAX,CADA,IACwC7Y,SAAS,CAAC+Y,cADxE;;AAEA,MAAIjgB,iBAAiB,CAACkH,SAAS,CAACub,sBAAX,CAAjB,IACAziB,iBAAiB,CAACkH,SAAS,CAACwb,uBAAX,CADrB,EAC0D;AACtDxb,IAAAA,SAAS,CAACub,sBAAV,GAAmCvb,SAAS,CAACyY,cAAV,CAAyB3b,QAA5D;AACAkD,IAAAA,SAAS,CAACwb,uBAAV,GAAoCxb,SAAS,CAACyY,cAAV,CAAyB1b,SAA7D;AACH,GAJD,MAKK,IAAIiD,SAAS,CAACub,sBAAV,KACLvb,SAAS,CAACyY,cAAV,CAAyB3b,QADpB,IACgCkD,SAAS,CAACwb,uBAAV,KACrCxb,SAAS,CAACyY,cAAV,CAAyB1b,SAFxB,EAEmC;AACpCiD,IAAAA,SAAS,CAACyb,qBAAV,GAAkC,IAAlC;AACAzb,IAAAA,SAAS,CAACub,sBAAV,GAAmCvb,SAAS,CAACyY,cAAV,CAAyB3b,QAA5D;AACAkD,IAAAA,SAAS,CAACwb,uBAAV,GAAoCxb,SAAS,CAACyY,cAAV,CAAyB1b,SAA7D;AACH,GANI,MAOA;AACDiD,IAAAA,SAAS,CAACyb,qBAAV,GAAkC,KAAlC;AACH;;AACD,MAAI3iB,iBAAiB,CAACkH,SAAS,CAAC4N,aAAX,CAAjB,IAA+C0K,eAAe,GAAGtY,SAAS,CAAC4N,aAA/E,EAA+F;AAC3F,QAAI5N,SAAS,CAAC0b,OAAV,IAAqB1b,SAAS,CAAC4N,aAAV,KAA4B,CAArD,EAAwD;AACpD;AACA5N,MAAAA,SAAS,CAAC4N,aAAV,GAA0B5N,SAAS,CAAC4N,aAApC;AACH,KAHD,MAIK;AACD5N,MAAAA,SAAS,CAAC4N,aAAV,GAA0B0K,eAA1B;AACH;AACJ;;AACDtY,EAAAA,SAAS,CAAC4N,aAAV,GAA0B5N,SAAS,CAACwN,YAAV,CAAuB+K,UAAvB,KAAsC,CAAtC,IACtBvY,SAAS,CAACwN,YAAV,CAAuB+K,UAAvB,KACIvY,SAAS,CAAC4N,aAFQ,GAEQ5N,SAAS,CAACwN,YAAV,CAAuB+K,UAF/B,GAGtBvY,SAAS,CAACwN,YAAV,CAAuB+K,UAAvB,KAAsCvY,SAAS,CAAC4N,aAAhD,IAAiE,CAAC5N,SAAS,CAACyb,qBAA5E,GAAoGzb,SAAS,CAAC4N,aAA9G,GAA8H5N,SAAS,CAACwN,YAAV,CAAuB+K,UAHzJ;;AAIA,MAAIvY,SAAS,CAACwN,YAAV,CAAuBwL,mBAA3B,EAAgD;AAC5ChZ,IAAAA,SAAS,CAAC4N,aAAV,GAA0B0K,eAAe,GAAGE,WAAW,GAAI,CAACxY,SAAS,CAACiZ,iBAAV,IAA+BjZ,SAAS,CAACwN,YAAV,CAAuBwL,mBAAvD,KAA+EhZ,SAAS,CAAC8Q,KAAV,KAAoB,CAApG,GACpD9Q,SAAS,CAAC8Q,KAD0C,GACjChY,iBAAiB,CAACkH,SAAS,CAACkZ,gBAAX,CAAlB,GAAkDlZ,SAAS,CAAC4N,aAA5D,GAA4E5N,SAAS,CAACkZ,gBAD9G;AAEAZ,IAAAA,eAAe,GAAGtY,SAAS,CAAC4N,aAA5B;;AACA,QAAI,CAAC9U,iBAAiB,CAACkH,SAAS,CAACmZ,oBAAX,CAAlB,IAAsD,CAACrgB,iBAAiB,CAACkH,SAAS,CAACoZ,qBAAX,CAA5E,EAA+G;AAC3Gtc,MAAAA,QAAQ,GAAGkD,SAAS,CAACmZ,oBAArB;AACApc,MAAAA,SAAS,GAAGiD,SAAS,CAACoZ,qBAAtB;AACH;AACJ;;AACD,MAAIkC,eAAJ,EAAqB;AACjBtb,IAAAA,SAAS,CAAC4N,aAAV,GAA0B4K,WAAW,GAAGF,eAAe,GAAGtY,SAAS,CAACqZ,oBAApE;AACH;;AACD,MAAId,UAAU,GAAGF,OAAO,GAAG,CAAH,GAAOrY,SAAS,CAAC4N,aAAzC;AACA,MAAI3P,IAAI,GAAG+B,SAAS,CAAC5C,WAArB;AACA,MAAIC,CAAJ;AACA,MAAIC,CAAJ,CAnDwD,CAoDxD;;AACA,MAAIxC,GAAG,GAAGkF,SAAS,CAACsZ,iBAAV,CAA4B,KAA5B,CAAV,CArDwD,CAsDxD;;AACA,MAAIhb,GAAG,GAAG0B,SAAS,CAACsZ,iBAAV,CAA4B,KAA5B,CAAV;AACA,MAAItc,MAAM,GAAGqb,OAAO,GAAG,CAAH,GAAOrY,SAAS,CAAC4N,aAArC;AACA,MAAIgM,QAAQ,GAAG/e,IAAI,CAACwD,GAAL,CAASC,GAAG,CAAC,GAAD,CAAH,GAAWxD,GAAG,CAAC,GAAD,CAAvB,CAAf;AACA,MAAI+e,SAAS,GAAGhf,IAAI,CAACwD,GAAL,CAASvD,GAAG,CAAC,GAAD,CAAH,GAAWwD,GAAG,CAAC,GAAD,CAAvB,CAAhB;;AACA,MAAK,CAACxF,iBAAiB,CAACiE,SAAD,CAAlB,IAAiC,CAACjE,iBAAiB,CAACgE,QAAD,CAApD,IAAmEwe,eAAvE,EAAwF;AACpF,QAAIpB,WAAW,GAAI,CAACL,SAAS,GAAGhf,IAAI,CAACwD,GAAL,CAAS2B,SAAS,CAAC5C,WAAV,CAAsB1D,MAAtB,GAA+BmgB,SAAxC,CAAb,IAAmE,CAApE,GAAyE7c,MAA3F;AACA,QAAIid,YAAY,GAAI,CAACL,QAAQ,GAAG/e,IAAI,CAACwD,GAAL,CAAS2B,SAAS,CAAC5C,WAAV,CAAsB3D,KAAtB,GAA8BmgB,QAAvC,CAAZ,IAAgE,CAAjE,GAAsE5c,MAAzF;AACA,QAAIqY,KAAK,GAAGiG,eAAe,GAAGxD,wBAAwB,CAAC9X,SAAD,EAAY/C,KAAZ,CAA3B,GACvBJ,iBAAiB,CAACC,QAAD,EAAWC,SAAX,EAAsBiD,SAAS,CAACsN,aAAV,CAAwBC,eAAxB,CAAwCtQ,KAAxC,CAAtB,EAAsEA,KAAtE,EAA6E+C,SAA7E,CADrB;;AAEA,QAAI,CAAC,CAAClH,iBAAiB,CAACkH,SAAS,CAACqa,kBAAX,CAAlB,IAAoD,CAACvhB,iBAAiB,CAACkH,SAAS,CAACma,kBAAX,CAAvE,KAA0G,CAACna,SAAS,CAAC+Y,cAAzH,EAAyI;AACrI,UAAI/Y,SAAS,CAACma,kBAAV,KAAiCna,SAAS,CAAChC,cAA/C,EAA+D;AAC3DX,QAAAA,CAAC,GAAG,CAACgY,KAAK,CAAChY,CAAP,GAAW4c,YAAf;AACA3c,QAAAA,CAAC,GAAG,CAAC+X,KAAK,CAAC/X,CAAP,GAAW4c,WAAf;AACH,OAHD,MAIK;AACD7c,QAAAA,CAAC,GAAG2C,SAAS,CAACqa,kBAAV,CAA6Bhd,CAAjC;AACAC,QAAAA,CAAC,GAAG0C,SAAS,CAACqa,kBAAV,CAA6B/c,CAAjC;AACAgb,QAAAA,eAAe,GAAGC,UAAlB;AACH;AACJ,KAVD,MAWK;AACDlb,MAAAA,CAAC,GAAG,CAACgY,KAAK,CAAChY,CAAP,GAAW4c,YAAX,GAA0Bja,SAAS,CAAC5C,WAAV,CAAsBC,CAAtB,GAA0Bkb,UAAxD;AACAjb,MAAAA,CAAC,GAAG,CAAC+X,KAAK,CAAC/X,CAAP,GAAW4c,WAAX,GAAyBla,SAAS,CAAC5C,WAAV,CAAsBE,CAAtB,GAA0Bib,UAAvD;AACH;;AACD,QAAI,CAACzf,iBAAiB,CAACkH,SAAS,CAAC4M,cAAX,CAAtB,EAAkD;AAC9CtP,MAAAA,CAAC,GAAI0C,SAAS,CAACiZ,iBAAV,IAA+BjZ,SAAS,CAAC4M,cAAV,CAAyBtP,CAAzB,KAA+B,CAA9D,IAAmE,CAAC0C,SAAS,CAAC+Y,cAA/E,GAAiG/Y,SAAS,CAAC4M,cAAV,CAAyBtP,CAA1H,GAA8HA,CAAlI;AACAD,MAAAA,CAAC,GAAI2C,SAAS,CAACiZ,iBAAV,IAA+BjZ,SAAS,CAAC4M,cAAV,CAAyBvP,CAAzB,KAA+B,CAA9D,IAAmE,CAAC2C,SAAS,CAAC+Y,cAA/E,GAAiG/Y,SAAS,CAAC4M,cAAV,CAAyBvP,CAA1H,GAA8HA,CAAlI;AACH;;AACDmb,IAAAA,WAAW,GAAGF,eAAe,KAAK,CAApB,GAAwBA,eAAxB,GAA0C,CAAxD;AACH,GAzBD,MA0BK;AACD,QAAIqD,QAAQ,GAAG3b,SAAS,CAACwN,YAAV,CAAuB+K,UAAvB,KAAsC,CAAtC,GAA0C,CAA1C,GAA8CvY,SAAS,CAACwN,YAAV,CAAuB+K,UAApF;AACA,QAAIqD,WAAW,GAAG5b,SAAS,CAACwN,YAAV,CAAuBqO,OAAzC;AACAF,IAAAA,QAAQ,GAAGA,QAAQ,GAAGC,WAAX,GAAyBA,WAAzB,GAAuCD,QAAlD;AACAnD,IAAAA,WAAW,GAAGmD,QAAd;AACA,QAAIG,QAAQ,GAAG9b,SAAS,CAAC4N,aAAV,KAA4B,CAA5B,GAAgC,CAAhC,GAAoC5N,SAAS,CAAC4N,aAAV,GAA0BgO,WAA1B,GAC7CA,WAD6C,GAC/B5b,SAAS,CAAC4N,aAD9B;AAEA,QAAIqM,YAAY,GAAIhc,IAAI,CAACZ,CAAL,IAAW,CAAEvC,GAAG,CAAC,GAAD,CAAN,IAAkBmD,IAAI,CAACxE,KAAL,GAAa,CAAd,GAAoBmgB,QAAQ,GAAG,CAAhD,CAAV,CAApB;AACA,QAAIM,WAAW,GAAIjc,IAAI,CAACX,CAAL,IAAW,CAAExC,GAAG,CAAC,GAAD,CAAN,IAAkBmD,IAAI,CAACvE,MAAL,GAAc,CAAf,GAAqBmgB,SAAS,GAAG,CAAlD,CAAV,CAAnB;;AACA,QAAI,CAAC/gB,iBAAiB,CAACkH,SAAS,CAACqa,kBAAX,CAAlB,IAAoD,CAACvhB,iBAAiB,CAACkH,SAAS,CAACma,kBAAX,CAA1E,EAA0G;AACtG,UAAIna,SAAS,CAACma,kBAAV,KAAiCna,SAAS,CAAChC,cAA/C,EAA+D;AAC3D;AACA,YAAI+d,iBAAiB,GAAG,EAAxB,CAF2D,CAG3D;;AACA,YAAIC,cAAc,GAAG;AAAE3e,UAAAA,CAAC,EAAE4c,YAAL;AAAmB3c,UAAAA,CAAC,EAAE4c;AAAtB,SAArB;AACA6B,QAAAA,iBAAiB,CAAC5P,IAAlB,CAAuB6P,cAAvB;;AACA,aAAK,IAAI5c,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGwc,WAApB,EAAiCxc,CAAC,EAAlC,EAAsC;AAClC,cAAI6c,eAAe,GAAGF,iBAAiB,CAAC3c,CAAC,GAAG,CAAL,CAAjB,CAAyB,GAAzB,IAAiC,CAAEnB,IAAI,CAACxE,KAAL,GAAc2F,CAAf,GAAsBnB,IAAI,CAACxE,KAAL,IAAc2F,CAAC,GAAG,CAAlB,CAAvB,IAAgD,CAAvG;AACA,cAAI8c,eAAe,GAAGH,iBAAiB,CAAC3c,CAAC,GAAG,CAAL,CAAjB,CAAyB,GAAzB,IAAiC,CAAEnB,IAAI,CAACvE,MAAL,GAAe0F,CAAhB,GAAuBnB,IAAI,CAACvE,MAAL,IAAe0F,CAAC,GAAG,CAAnB,CAAxB,IAAkD,CAAzG;AACA4c,UAAAA,cAAc,GAAG;AAAE3e,YAAAA,CAAC,EAAE4e,eAAL;AAAsB3e,YAAAA,CAAC,EAAE4e;AAAzB,WAAjB;AACAH,UAAAA,iBAAiB,CAAC5P,IAAlB,CAAuB6P,cAAvB;AACH;;AACD/B,QAAAA,YAAY,GAAG8B,iBAAiB,CAACJ,QAAQ,GAAG,CAAZ,CAAjB,CAAgC,GAAhC,CAAf;AACAzB,QAAAA,WAAW,GAAG6B,iBAAiB,CAACJ,QAAQ,GAAG,CAAZ,CAAjB,CAAgC,GAAhC,CAAd;AACH,OAdD,MAeK;AACD1B,QAAAA,YAAY,GAAGja,SAAS,CAACqa,kBAAV,CAA6Bhd,CAA5C;AACA6c,QAAAA,WAAW,GAAGla,SAAS,CAACqa,kBAAV,CAA6B/c,CAA3C;;AACA,YAAIqe,QAAQ,KAAKG,QAAjB,EAA2B;AACvBtD,UAAAA,WAAW,GAAGsD,QAAd;AACH;AACJ;AACJ;;AACD,QAAI,CAAChjB,iBAAiB,CAACkH,SAAS,CAAC4M,cAAX,CAAtB,EAAkD;AAC9CvP,MAAAA,CAAC,GAAI2C,SAAS,CAACiZ,iBAAV,IAA+BjZ,SAAS,CAAC4M,cAAV,CAAyBvP,CAAzB,KAA+B,CAA9D,IAAmE,CAAC2C,SAAS,CAAC+Y,cAA/E,GAAiG/Y,SAAS,CAAC4M,cAAV,CAAyBvP,CAA1H,GAA8H4c,YAAlI;AACA3c,MAAAA,CAAC,GAAI0C,SAAS,CAACiZ,iBAAV,IAA+BjZ,SAAS,CAAC4M,cAAV,CAAyBtP,CAAzB,KAA+B,CAA9D,IAAmE,CAAC0C,SAAS,CAAC+Y,cAA/E,GAAiG/Y,SAAS,CAAC4M,cAAV,CAAyBtP,CAA1H,GAA8H4c,WAAlI;AACH;AACJ;;AACD1B,EAAAA,WAAW,GAAIxY,SAAS,CAACiZ,iBAAX,GAAiCjZ,SAAS,CAAC4N,aAAV,KAA4B,CAA5B,GAAgC,CAAhC,GAAoC5N,SAAS,CAAC4N,aAA/E,GAAgG4K,WAA9G;AACA,SAAO;AAAE1H,IAAAA,KAAK,EAAEuH,OAAO,GAAG,CAAH,GAAOG,WAAvB;AAAoCjQ,IAAAA,QAAQ,EAAE,IAAI/J,KAAJ,CAAUnB,CAAV,EAAaC,CAAb;AAA9C,GAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAAS6e,sBAAT,CAAgCC,GAAhC,EAAqC;AACxCA,EAAAA,GAAG,CAACC,aAAJ,GAAoBD,GAAG,CAAC1O,aAAJ,GAAoB7S,IAAI,CAACuf,KAAL,CAAWgC,GAAG,CAACzhB,aAAJ,CAAkBjB,MAAlB,GAA2B,GAAtC,IAA6C,CAArF;AACA,MAAIsP,OAAO,GAAGoT,GAAG,CAAC1M,MAAJ,CAAW0M,GAAG,CAACzK,cAAf,EAA+BC,SAA/B,KAA6C,iBAA7C,GACV,EADU,GACL,CADT;AAEA,MAAI1R,SAAS,GAAGrF,IAAI,CAACsD,GAAL,CAAS,CAAT,EAAYie,GAAG,CAAC1O,aAAhB,IAAiC,GAAjD;AACA0O,EAAAA,GAAG,CAACzc,kBAAJ,CAAuBtC,CAAvB,GAA4B+e,GAAG,CAACzhB,aAAJ,CAAkBlB,KAAlB,GAA0B,CAA3B,GAAiCyG,SAAS,GAAG,CAAxE;AACAkc,EAAAA,GAAG,CAACzc,kBAAJ,CAAuBrC,CAAvB,GAA4B8e,GAAG,CAACzhB,aAAJ,CAAkBjB,MAAlB,GAA2B,CAA5B,GAAkCwG,SAAS,GAAG,CAA9C,GAAmD8I,OAA9E;AACAoT,EAAAA,GAAG,CAACE,iBAAJ,GAAwBF,GAAG,CAACzhB,aAAJ,CAAkBlB,KAA1C;AACA2iB,EAAAA,GAAG,CAACG,kBAAJ,GAAyBH,GAAG,CAACzhB,aAAJ,CAAkBjB,MAA3C;AACH;AACD;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAAS4U,cAAT,CAAwBlT,EAAxB,EAA4B;AAC/B,SAAOwG,QAAQ,CAACC,cAAT,CAAwBzG,EAAxB,CAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASohB,WAAT,CAAqBtiB,IAArB,EAA2BN,KAA3B,EAAkC;AACrCM,EAAAA,IAAI,CAAC8M,cAAL,GACI9M,IAAI,CAACkN,IAAL,CAAUC,eAAV,CAA0B;AAAEJ,IAAAA,MAAM,EAAE/M,IAAI,CAAC+M,MAAf;AAAuBK,IAAAA,WAAW,EAAEpN,IAAI,CAACqN;AAAzC,GAA1B,CADJ;AAEA,SAAOrN,IAAI,CAAC8M,cAAL,CAAoBpN,KAApB,CAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAAS2X,mBAAT,CAA6BC,QAA7B,EAAuC;AAC1C;AACA,MAAIF,UAAU,GAAG,IAAjB,CAF0C,CAG1C;;AACA,MAAImL,CAAJ;;AACA,MAAI;AACA,QAAI7a,QAAQ,CAAC8a,gBAAT,CAA0BlL,QAA1B,EAAoChM,MAAxC,EAAgD;AAC5C8L,MAAAA,UAAU,GAAGrY,gBAAgB,CAAC2I,QAAQ,CAAC0N,aAAT,CAAuBkC,QAAvB,EAAiCxP,SAAjC,CAA2C8N,IAA3C,EAAD,CAA7B;AACH;AACJ,GAJD,CAKA,OAAO2M,CAAP,EAAU;AACNnL,IAAAA,UAAU,GAAGrY,gBAAgB,CAACuY,QAAD,CAA7B;AACH;;AACD,SAAOF,UAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASvC,UAAT,CAAoB3T,EAApB,EAAwB;AAC3B,SAAOwG,QAAQ,CAACC,cAAT,CAAwBzG,EAAxB,CAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASuhB,YAAT,CAAsBC,QAAtB,EAAgCR,GAAhC,EAAqC;AACxC,MAAI/R,UAAU,GAAGrQ,QAAQ,CAAC4iB,QAAQ,CAAClV,KAAT,CAAe,cAAf,EAA+B,CAA/B,EAAkCA,KAAlC,CAAwC,GAAxC,EAA6C,CAA7C,CAAD,EAAkD,EAAlD,CAAzB;AACA,MAAImV,UAAU,GAAG7iB,QAAQ,CAAC4iB,QAAQ,CAAClV,KAAT,CAAe,cAAf,EAA+B,CAA/B,EAAkCA,KAAlC,CAAwC,GAAxC,EAA6C,CAA7C,CAAD,EAAkD,EAAlD,CAAzB;AACA,MAAIzK,KAAK,GAAGmf,GAAG,CAACU,gBAAJ,CAAqBzS,UAArB,CAAZ,CAHwC,CAIxC;;AACA,MAAIyK,SAAS,GAAG7X,KAAK,CAACka,SAAN,CAAgB0F,UAAhB,EAA4B,UAA5B,CAAhB,CALwC,CAMxC;;AACA,MAAI7W,IAAJ;;AACA,MAAI/I,KAAK,CAACiQ,UAAV,EAAsB;AAClB;AACAlH,IAAAA,IAAI,GAAG/I,KAAK,CAACiQ,UAAN,CAAiBoH,oBAAoB,CAACrX,KAAK,CAACiQ,UAAP,EAAmB4H,SAAnB,EAA8B7X,KAAK,CAACwX,aAApC,EAAmDxX,KAAK,CAAC8X,iBAAzD,EAA4E9X,KAA5E,CAArC,CAAP;AACH;;AACD,SAAO;AAAE6X,IAAAA,SAAS,EAAEA,SAAb;AAAwB9O,IAAAA,IAAI,EAAEA;AAA9B,GAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAAS+W,iBAAT,CAA2BH,QAA3B,EAAqCI,SAArC,EAAgD9iB,IAAhD,EAAsD+iB,SAAtD,EAAiE;AACpE;AACA,MAAI5U,KAAK,GAAGsU,YAAY,CAACC,QAAD,EAAW1iB,IAAX,CAAxB;AACA,MAAIuJ,MAAM,GAAG;AACTV,IAAAA,KAAK,EAAEia,SAAS,CAACvZ,MAAV,CAAiBV,KADf;AACsBgB,IAAAA,OAAO,EAAEiZ,SAAS,CAACvZ,MAAV,CAAiBM,OADhD;AAETtK,IAAAA,KAAK,EAAEujB,SAAS,CAACvZ,MAAV,CAAiBhK;AAFf,GAAb;AAIA,MAAIkQ,SAAS,GAAIqT,SAAS,CAACE,iBAAX,GAAgC;AAC5CtR,IAAAA,MAAM,EAAE,KADoC;AAE5CC,IAAAA,IAAI,EAAEoR,SAFsC;AAG5Cna,IAAAA,IAAI,EAAEka,SAAS,CAACla,IAH4B;AAI5CiB,IAAAA,OAAO,EAAEiZ,SAAS,CAACjZ,OAJyB;AAK5CN,IAAAA,MAAM,EAAEA,MALoC;AAM5CqR,IAAAA,SAAS,EAAEzM,KAAK,CAACyM,SAN2B;AAO5C9O,IAAAA,IAAI,EAAEqC,KAAK,CAACrC,IAPgC;AAQ5CmX,IAAAA,MAAM,EAAEP,QARoC;AAS5C1iB,IAAAA,IAAI,EAAEA,IATsC;AAU5CkjB,IAAAA,mBAAmB,EAAEljB,IAAI,CAACmjB;AAVkB,GAAhC,GAWZ;AACAzR,IAAAA,MAAM,EAAE,KADR;AAEAC,IAAAA,IAAI,EAAEoR,SAFN;AAGAna,IAAAA,IAAI,EAAEka,SAAS,CAACla,IAHhB;AAIAiB,IAAAA,OAAO,EAAEiZ,SAAS,CAACjZ,OAJnB;AAKAN,IAAAA,MAAM,EAAEA,MALR;AAMAqR,IAAAA,SAAS,EAAEzM,KAAK,CAACyM,SANjB;AAOA9O,IAAAA,IAAI,EAAEqC,KAAK,CAACrC,IAPZ;AAQAmX,IAAAA,MAAM,EAAEP,QARR;AASA1iB,IAAAA,IAAI,EAAEA;AATN,GAXJ;AAsBAA,EAAAA,IAAI,CAAC6R,OAAL,CAAakR,SAAb,EAAwBtT,SAAxB,EAAmC,UAAU2T,YAAV,EAAwB;AACvD3T,IAAAA,SAAS,CAAClG,MAAV,CAAiBM,OAAjB,GAA2BjL,iBAAiB,CAAC6Q,SAAS,CAAClG,MAAV,CAAiBM,OAAlB,CAAjB,GAA8C4F,SAAS,CAAC5F,OAAxD,GAAkE4F,SAAS,CAAClG,MAAV,CAAiBM,OAA9G;AACH,GAFD;AAGA,SAAO4F,SAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAAS4T,sBAAT,CAAgCpL,SAAhC,EAA2C;AAC9C,SAAOvQ,QAAQ,CAAC2b,sBAAT,CAAgCpL,SAAhC,CAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAAS7C,aAAT,CAAuBkO,IAAvB,EAA6BC,eAA7B,EAA8C;AACjD,MAAIC,SAAS,GAAG,IAAhB;;AACA,MAAI9b,QAAQ,CAACC,cAAT,CAAwB4b,eAAxB,CAAJ,EAA8C;AAC1CC,IAAAA,SAAS,GAAG9b,QAAQ,CAACC,cAAT,CAAwB4b,eAAxB,EAAyCnO,aAAzC,CAAuD,MAAMkO,IAA7D,CAAZ;AACH;;AACD,SAAOE,SAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,gBAAT,CAA0BtT,UAA1B,EAAsCwB,IAAtC,EAA4C4B,MAA5C,EAAoD2O,GAApD,EAAyD;AAC5D,MAAIS,UAAJ;AACA,MAAID,QAAJ,CAF4D,CAG5D;;AACA,MAAI9H,SAAS,GAAGsH,GAAG,CAAC1M,MAAJ,CAAWrF,UAAX,EAAuByK,SAAvB,CAAiC,UAAjC,CAAhB;;AACA,OAAK,IAAI1V,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG0V,SAAS,CAACtP,MAA9B,EAAsCpG,CAAC,EAAvC,EAA2C;AACvC,QAAI0V,SAAS,CAAC1V,CAAD,CAAT,CAAa,YAAb,EAA2ByM,IAA3B,KAAoCA,IAAxC,EAA8C;AAC1C+Q,MAAAA,QAAQ,GAAGR,GAAG,CAACjiB,OAAJ,CAAYiB,EAAZ,GAAiB,GAAjB,GAAuB,aAAvB,GAAuCiP,UAAvC,GAAoD,cAApD,GAAqEjL,CAArE,GAAyE,sBAApF;AACA;AACH;AACJ;;AACD,MAAIse,SAAS,GAAG3O,UAAU,CAAC6N,QAAD,CAA1B;AACA,SAAOc,SAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASE,WAAT,CAAqBxiB,EAArB,EAAyB+W,SAAzB,EAAoCxI,SAApC,EAA+C;AAClD,SAAO9Q,aAAa,CAAC,OAAD,EAAU;AAC1BuC,IAAAA,EAAE,EAAEA,EADsB;AAClB4G,IAAAA,SAAS,EAAE,MAAMmQ,SAAN,GAAkB,QAAlB,GACbxI,SAAS,CAAC,MAAD,CADI,GACO,GADP,GACa,eADb,GACgCA,SAAS,CAAC,SAAD,CAAV,CAAuB7C,QAAvB,EAD/B,GACmE,GADnE,GAEf,iBAFe,GAEM6C,SAAS,CAAC,QAAD,CAAT,CAAoB,SAApB,CAAD,CAAiC7C,QAAjC,EAFL,GAEmD,GAFnD,GAGf,eAHe,GAGI6C,SAAS,CAAC,QAAD,CAAT,CAAoB,OAApB,CAAD,CAA+B7C,QAA/B,EAHH,GAG+C,GAH/C,GAIf,SAJe,GAIH6C,SAAS,CAAC,QAAD,CAAT,CAAoB,OAApB,CAJG,GAI4B,GAJ5B,GAIkC;AAL3B,GAAV,CAApB;AAOH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASkU,cAAT,CAAwBziB,EAAxB,EAA4B+W,SAA5B,EAAuCxI,SAAvC,EAAkD;AACrD,MAAImU,QAAQ,GAAG/O,UAAU,CAAC3T,EAAD,CAAzB;;AACA,MAAI,CAACtC,iBAAiB,CAACglB,QAAD,CAAtB,EAAkC;AAC9BA,IAAAA,QAAQ,CAAC9b,SAAT,GAAqB,MAAMmQ,SAAN,GAAkB,QAAlB,GACfxI,SAAS,CAAC,MAAD,CADM,GACK,GADL,GACW,eADX,GAC8BA,SAAS,CAAC,SAAD,CAAV,CAAuB7C,QAAvB,EAD7B,GACiE,GADjE,GAEjB,eAFiB,GAEE6C,SAAS,CAAC,QAAD,CAAT,CAAoB,OAApB,CAAD,CAA+B7C,QAA/B,EAFD,GAE6C,GAF7C,GAGjB,iBAHiB,GAGI6C,SAAS,CAAC,QAAD,CAAT,CAAoB,SAApB,CAAD,CAAiC7C,QAAjC,EAHH,GAGiD,GAHjD,GAIjB,SAJiB,GAIL6C,SAAS,CAAC,QAAD,CAAT,CAAoB,OAApB,CAJK,GAI0B,GAJ/C;AAKH;AACJ;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASoU,yBAAT,CAAmCC,iBAAnC,EAAsD5B,GAAtD,EAA2D6B,aAA3D,EACP;AACAnJ,SAFO,EAEI9O,IAFJ,EAEU;AACb,MAAIvC,MAAM,GAAG;AACTV,IAAAA,KAAK,EAAEib,iBAAiB,CAACva,MAAlB,CAAyBV,KADvB;AAETtJ,IAAAA,KAAK,EAAEukB,iBAAiB,CAACva,MAAlB,CAAyBhK,KAAzB,GAAiC2iB,GAAG,CAACtL,KAFnC;AAGT/M,IAAAA,OAAO,EAAEia,iBAAiB,CAACva,MAAlB,CAAyBM;AAHzB,GAAb;AAKA,MAAI4F,SAAS,GAAG;AACZ5F,IAAAA,OAAO,EAAEia,iBAAiB,CAACja,OADf;AAEZjB,IAAAA,IAAI,EAAEkb,iBAAiB,CAAClb,IAFZ;AAGZW,IAAAA,MAAM,EAAEA,MAHI;AAIZoI,IAAAA,IAAI,EAAExS,aAJM;AAKZ8jB,IAAAA,MAAM,EAAEc,aAAa,CAAC7iB,EALV;AAMZwQ,IAAAA,MAAM,EAAE,KANI;AAOZkJ,IAAAA,SAAS,EAAEA,SAPC;AAQZ9O,IAAAA,IAAI,EAAEA,IARM;AASZ9L,IAAAA,IAAI,EAAEkiB;AATM,GAAhB;AAWAA,EAAAA,GAAG,CAACrQ,OAAJ,CAAY,eAAZ,EAA6BpC,SAA7B,EAAwC,UAAU2T,YAAV,EAAwB;AAC5D3T,IAAAA,SAAS,CAAClG,MAAV,CAAiBM,OAAjB,GAA2BjL,iBAAiB,CAACklB,iBAAiB,CAACva,MAAlB,CAAyBM,OAA1B,CAAjB,GAAsDia,iBAAiB,CAACja,OAAxE,GAAkFia,iBAAiB,CAACva,MAAlB,CAAyBM,OAAtI;AACAqY,IAAAA,GAAG,CAACiB,kBAAJ,CAAuBlR,IAAvB,CAA4BxC,SAAS,CAACmL,SAAtC;;AACA,QAAI,CAAC/F,UAAU,CAAC,mBAAD,CAAf,EAAsC;AAClCnN,MAAAA,QAAQ,CAACE,IAAT,CAAcC,WAAd,CAA0B6b,WAAW,CAAC,mBAAD,EAAsB,wBAAtB,EAAgDjU,SAAhD,CAArC;AACH,KAFD,MAGK;AACDkU,MAAAA,cAAc,CAAC,mBAAD,EAAsB,wBAAtB,EAAgDlU,SAAhD,CAAd;AACH;AACJ,GATD;AAUH;AACD;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASuU,WAAT,CAAqB/jB,OAArB,EAA8B;AACjCA,EAAAA,OAAO,CAACgkB,eAAR,CAAwB,OAAxB;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAAS/M,cAAT,CAAwBjX,OAAxB,EAAiCikB,KAAjC,EAAwCC,QAAxC,EAAkDhJ,KAAlD,EAAyDnb,IAAzD,EAA+D8T,GAA/D,EAAoE7E,MAApE,EAA4E;AAC/E,MAAIA,MAAM,KAAK,KAAK,CAApB,EAAuB;AAAEA,IAAAA,MAAM,GAAG,CAAT;AAAa;;AACtC,MAAIyG,OAAO,GAAGyF,KAAK,CAAChY,CAApB;AACA,MAAI0S,OAAO,GAAGsF,KAAK,CAAC/X,CAApB;AACA,MAAI5D,MAAM,GAAG,CAAb;AACA,MAAIiJ,SAAS,GAAGxI,OAAO,CAAC0V,YAAR,CAAqB,WAArB,KAAqC,EAArD;AACA,MAAI1W,SAAJ,CAAc,EAAd,EAAkBkf,OAAlB,CAA0Ble,OAA1B,EAAmC;AAC/BkkB,IAAAA,QAAQ,EAAEA,QADqB;AAE/BD,IAAAA,KAAK,EAAEA,KAFwB;AAG/BE,IAAAA,QAAQ,EAAE,UAAUd,IAAV,EAAgB;AACtB,UAAIA,IAAI,CAACe,SAAL,GAAiBf,IAAI,CAACY,KAA1B,EAAiC;AAC7B,YAAIlkB,IAAI,CAACgE,SAAL,IAAkBxE,MAAM,KAAK,CAAjC,EAAoC;AAChC,cAAI8kB,iBAAiB,GAAG5c,QAAQ,CAAC0N,aAAT,CAAuB,eAAvB,CAAxB;;AACA,cAAI,CAACxW,iBAAiB,CAAC0lB,iBAAD,CAAtB,EAA2C;AACvCA,YAAAA,iBAAiB,CAACpkB,KAAlB,CAAwB4X,OAAxB,GAAkC,OAAlC;AACH;AACJ;;AACDtY,QAAAA,MAAM,GAAI,CAAC8jB,IAAI,CAACe,SAAL,GAAiBf,IAAI,CAACY,KAAvB,IAAgCZ,IAAI,CAACa,QAA/C;AACAlkB,QAAAA,OAAO,CAACmB,YAAR,CAAqB,WAArB,EAAkC,iBAAiBsU,OAAO,GAAIzG,MAAM,GAAGzP,MAArC,IAAgD,GAAhD,IAAuDqW,OAAO,GAAI5G,MAAM,GAAGzP,MAA3E,IAC9B,WAD8B,GAChBA,MADgB,GACP,GAD3B;AAEH;AACJ,KAf8B;AAgB/Byb,IAAAA,GAAG,EAAE,UAAUsJ,KAAV,EAAiB;AAClBtkB,MAAAA,OAAO,CAACmB,YAAR,CAAqB,WAArB,EAAkCqH,SAAlC;;AACA,UAAI,CAACqL,GAAL,EAAU;AACN;AACH;;AACD,UAAI0Q,KAAK,GAAG;AACR9S,QAAAA,MAAM,EAAE,KADA;AACOC,QAAAA,IAAI,EAAEvS,iBADb;AACgCa,QAAAA,OAAO,EAAE6T,GADzC;AAC8C9T,QAAAA,IAAI,EAAEA;AADpD,OAAZ;AAGAA,MAAAA,IAAI,CAAC6R,OAAL,CAAazS,iBAAb,EAAgColB,KAAhC;AACH;AAzB8B,GAAnC;AA2BH;AACD;AACA;AACA;AACA;;AACA,OAAO,SAASC,OAAT,CAAiBvjB,EAAjB,EAAqB;AACxB8T,EAAAA,aAAa,CAAC9T,EAAD,CAAb;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASwjB,WAAT,CAAqBnd,IAArB,EAA2BxD,IAA3B,EAAiCZ,CAAjC,EAAoCC,CAApC,EAAuCuhB,SAAvC,EAAkDC,UAAlD,EAA8D1jB,EAA9D,EAAkEjB,OAAlE,EAA2E4kB,OAA3E,EAAoF;AACvF,MAAIxW,QAAQ,GAAGhN,gBAAgB,CAAC8B,CAAD,EAAIC,CAAJ,EAAOnD,OAAP,CAA/B;;AACA,MAAI,CAACrB,iBAAiB,CAACyP,QAAD,CAAtB,EAAkC;AAC9BlL,IAAAA,CAAC,GAAGkL,QAAQ,CAAClL,CAAb;AACAC,IAAAA,CAAC,GAAGiL,QAAQ,CAACjL,CAAb;AACH;;AACD,MAAI0hB,OAAO,GAAGpd,QAAQ,CAACC,cAAT,CAAwBzG,EAAxB,CAAd;AACA,MAAI3B,KAAK,GAAG+H,WAAW,CAACC,IAAD,EAAO;AAC1BY,IAAAA,UAAU,EAAE,UADc;AACFpE,IAAAA,IAAI,EAAE,KADJ;AAE1BmE,IAAAA,SAAS,EAAE,QAFe;AAELD,IAAAA,UAAU,EAAE;AAFP,GAAP,CAAX,CAGT1I,KAHH;AAIA,MAAIwlB,GAAG,GAAGxd,IAAI,CAACiG,KAAL,CAAW,GAAX,CAAV;AACA,MAAIwX,IAAI,GAAGD,GAAG,CAAC,CAAD,CAAH,CAAOzZ,MAAlB;;AACA,OAAK,IAAIpG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG6f,GAAG,CAACzZ,MAAxB,EAAgCpG,CAAC,EAAjC,EAAqC;AACjC,QAAI8f,IAAI,GAAGD,GAAG,CAAC7f,CAAD,CAAH,CAAOoG,MAAlB,EAA0B;AACtB0Z,MAAAA,IAAI,GAAGD,GAAG,CAAC7f,CAAD,CAAH,CAAOoG,MAAd;AACH;AACJ;;AACD,MAAI,CAACwZ,OAAL,EAAc;AACVA,IAAAA,OAAO,GAAGnmB,aAAa,CAAC,KAAD,EAAQ;AAC3BuC,MAAAA,EAAE,EAAEA,EADuB;AAE3BgL,MAAAA,MAAM,EAAE,8EACJ,oEADI,GAEJ;AAJuB,KAAR,CAAvB;AAMH;;AACD,MAAI/I,CAAC,GAAIwhB,SAAS,GAAGplB,KAArB,EAA6B;AACzB;AACA4D,IAAAA,CAAC,GAAGA,CAAJ;AACH,GAHD,MAIK,IAAIA,CAAC,GAAIwhB,SAAS,GAAGplB,KAAjB,IAA2B4D,CAAC,GAAGwhB,SAAS,GAAIK,IAAI,GAAG,CAAvD,EAA2D;AAC5DzlB,IAAAA,KAAK,GAAIolB,SAAS,GAAGxhB,CAArB;AACH,GAFI,MAGA,IAAIA,CAAC,IAAIwhB,SAAS,GAAGK,IAAI,GAAG,CAA5B,EAA+B;AAChC,QAAI7hB,CAAC,GAAG5D,KAAR,EAAe;AACX4D,MAAAA,CAAC,GAAGA,CAAC,GAAG5D,KAAR;AACH,KAFD,MAGK;AACDA,MAAAA,KAAK,GAAG4D,CAAR;AACAA,MAAAA,CAAC,GAAG,CAAJ;AACH;AACJ;;AACD,MAAI8hB,KAAK,GAAGlhB,IAAI,CAACyJ,KAAL,CAAW,IAAX,CAAZ;AACA0X,EAAAA,QAAQ,CAACJ,OAAD,EAAUvd,IAAV,EAAgBpE,CAAhB,EAAmBC,CAAnB,EAAsB6hB,KAAtB,EAA6B1lB,KAA7B,EAAoColB,SAApC,EAA+C1kB,OAA/C,CAAR;AACA,MAAIT,MAAM,GAAGslB,OAAO,CAACxkB,YAArB;;AACA,MAAKd,MAAM,GAAGM,QAAQ,CAACmlB,KAAK,CAAC,CAAD,CAAN,EAAW,EAAX,CAAR,GAAyB,CAAnC,GAAwCL,UAA5C,EAAwD;AACpDrlB,IAAAA,KAAK,GAAG4D,CAAR;AACAA,IAAAA,CAAC,GAAG,CAAJ;AACH;;AACD+hB,EAAAA,QAAQ,CAACJ,OAAD,EAAUvd,IAAV,EAAgBpE,CAAhB,EAAmBC,CAAnB,EAAsB6hB,KAAtB,EAA6B1lB,KAA7B,EAAoColB,SAApC,EAA+C1kB,OAA/C,CAAR;;AACA,MAAI4kB,OAAJ,EAAa;AACTM,IAAAA,UAAU,CAACV,OAAD,EAAU,IAAV,EAAgBvjB,EAAhB,CAAV;AACH;AACJ;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASgkB,QAAT,CAAkBJ,OAAlB,EAA2Bvd,IAA3B,EAAiCpE,CAAjC,EAAoCC,CAApC,EAAuC6hB,KAAvC,EAA8C1lB,KAA9C,EAAqDolB,SAArD,EAAgE1kB,OAAhE,EAAyE;AAC5E6kB,EAAAA,OAAO,CAAChd,SAAR,GAAoBP,IAApB;AACAud,EAAAA,OAAO,CAAC5kB,KAAR,CAAckC,GAAd,GAAoB0iB,OAAO,CAAC5jB,EAAR,CAAWrB,OAAX,CAAmB,SAAnB,MAAkC,CAAC,CAAnC,GAChB,CAACC,QAAQ,CAACmlB,KAAK,CAAC,CAAD,CAAN,EAAW,EAAX,CAAR,GAAyB7hB,CAA1B,EAA6BwJ,QAA7B,KAA0C,IAD1B,GACiC,CAAC9M,QAAQ,CAACmlB,KAAK,CAAC,CAAD,CAAN,EAAW,EAAX,CAAR,GAAyB,CAA1B,EAA6BrY,QAA7B,KAA0C,IAD/F;AAEAkY,EAAAA,OAAO,CAAC5kB,KAAR,CAAcgC,IAAd,GAAsBiB,CAAD,CAAIyJ,QAAJ,KAAiB,IAAtC;AACAkY,EAAAA,OAAO,CAAC5kB,KAAR,CAAcX,KAAd,GAAsBA,KAAK,CAACqN,QAAN,KAAmB,IAAzC;AACAkY,EAAAA,OAAO,CAAC5kB,KAAR,CAAcmd,QAAd,GAA0BsH,SAAD,CAAY/X,QAAZ,KAAyB,IAAlD;AACAkY,EAAAA,OAAO,CAAC5kB,KAAR,CAAcglB,QAAd,GAAyB,YAAzB;AACAjlB,EAAAA,OAAO,CAAC4H,WAAR,CAAoBid,OAApB;AACH,C,CACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASM,aAAT,CAAuBlkB,EAAvB,EAA2BqG,IAA3B,EAAiCnF,GAAjC,EAAsCF,IAAtC,EAA4C8F,QAA5C,EAAsD;AACzD,MAAI8c,OAAO,GAAGjQ,UAAU,CAAC3T,EAAD,CAAxB;AACA,MAAIhB,KAAK,GAAG,SAASkC,GAAG,CAACwK,QAAJ,EAAT,GAA0B,KAA1B,GACR,OADQ,GACE1K,IAAI,CAAC0K,QAAL,EADF,GACoB,KADpB,GAER,kBAFQ,GAGR,aAHQ,GAGQ,SAHR,GAGoB,GAHpB,GAIR,uDAJQ,GAIkD5E,QAJlD,GAI6D,qBAJzE;;AAKA,MAAI,CAAC8c,OAAL,EAAc;AACVA,IAAAA,OAAO,GAAGnmB,aAAa,CAAC,KAAD,EAAQ;AAC3BuC,MAAAA,EAAE,EAAEA,EADuB;AACnB4G,MAAAA,SAAS,EAAE,WAAWP,IAAX,GAAkB,QADV;AACoB2E,MAAAA,MAAM,EAAEhM;AAD5B,KAAR,CAAvB;AAGAwH,IAAAA,QAAQ,CAACE,IAAT,CAAcC,WAAd,CAA0Bid,OAA1B;AACH,GALD,MAMK;AACDA,IAAAA,OAAO,CAAC1jB,YAAR,CAAqB,WAArB,EAAkC,WAAWmG,IAAX,GAAkB,QAApD;AACAud,IAAAA,OAAO,CAAC1jB,YAAR,CAAqB,QAArB,EAA+BlB,KAA/B;AACH;AACJ;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASmlB,UAAT,CAAoBhX,QAApB,EAA8BF,KAA9B,EAAqCpK,IAArC,EAA2C4C,GAA3C,EAAgDoK,OAAhD,EAAyD;AAC5D,MAAIuU,YAAY,GAAG,MAAnB;AACA,MAAIrkB,QAAQ,GAAG,IAAI/B,WAAJ,CAAgB,EAAhB,CAAf;AACA,MAAIqE,IAAI,GAAGgiB,iBAAiB,CAAClX,QAAD,EAAWtK,IAAX,EAAiBoK,KAAjB,EAAwB4C,OAAxB,EAAiCpK,GAAjC,CAA5B;AACA,MAAI6E,UAAU,GAAGvK,QAAQ,CAAC,SAASsC,IAAI,CAAC+hB,YAAf,CAAR,CAAqC/hB,IAAI,CAACiiB,YAA1C,CAAjB;AACA,SAAOha,UAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAAS+Z,iBAAT,CAA2BlX,QAA3B,EAAqCtK,IAArC,EAA2CoK,KAA3C,EAAkD4C,OAAlD,EAA2DpK,GAA3D,EAAgE;AACnE,MAAI8e,UAAJ;AACA,MAAIH,YAAY,GAAG,MAAnB;AACA,MAAII,UAAU,GAAG3hB,IAAI,CAACxE,KAAtB;AACA,MAAIomB,WAAW,GAAG5hB,IAAI,CAACvE,MAAvB;AACA,MAAIomB,MAAM,GAAGvX,QAAQ,CAAClL,CAAtB;AACA,MAAI0iB,MAAM,GAAGxX,QAAQ,CAACjL,CAAtB;AACA,MAAID,CAAC,GAAGkL,QAAQ,CAAClL,CAAT,GAAc,CAACuiB,UAAD,GAAc,CAApC;AACA,MAAItiB,CAAC,GAAGiL,QAAQ,CAACjL,CAAT,GAAc,CAACuiB,WAAD,GAAe,CAArC;AACA5U,EAAAA,OAAO,CAAC,QAAD,CAAP,GAAqB5C,KAAK,KAAK,gBAAV,IAA8BA,KAAK,KAAK,cAAxC,IAA0DA,KAAK,KAAK,OAArE,GAAgF4C,OAAO,CAAC,MAAD,CAAvF,GAAkGA,OAAO,CAAC,QAAD,CAA7H;AACAA,EAAAA,OAAO,CAAC,cAAD,CAAP,GAA2BA,OAAO,CAAC,cAAD,CAAP,KAA4B,CAA5B,KAAkC5C,KAAK,KAAK,gBAAV,IAA8BA,KAAK,KAAK,cAAxC,IAA0DA,KAAK,KAAK,OAAtG,CAAD,GAAmH,CAAnH,GAAuH4C,OAAO,CAAC,cAAD,CAAxJ;;AACA,UAAQ5C,KAAR;AACI,SAAK,QAAL;AACA,SAAK,QAAL;AACImX,MAAAA,YAAY,GAAG,SAAf;AACAtmB,MAAAA,KAAK,CAAC+R,OAAD,EAAU;AAAE,cAAM2U,UAAU,GAAG,CAArB;AAAwB,cAAMC,WAAW,GAAG,CAA5C;AAA+C,cAAMC,MAArD;AAA6D,cAAMC;AAAnE,OAAV,CAAL;AACA;;AACJ,SAAK,cAAL;AACIJ,MAAAA,UAAU,GAAG,MAAM,GAAN,GAAYG,MAAZ,GAAqB,GAArB,IAA4BC,MAAM,GAAIF,WAAW,GAAG,CAApD,IAA0D,GAA1D,GAAgE,GAAhE,GAAsE,GAAtE,GAA4EC,MAA5E,GAAqF,GAArF,IACNC,MAAM,GAAI,CAACF,WAAD,GAAe,CADnB,CAAb;AAEA3mB,MAAAA,KAAK,CAAC+R,OAAD,EAAU;AAAE,aAAK0U;AAAP,OAAV,CAAL;AACA;;AACJ,SAAK,gBAAL;AACIA,MAAAA,UAAU,GAAG,MAAM,GAAN,GAAYG,MAAZ,GAAqB,GAArB,GAA2BC,MAA3B,GAAoC,GAApC,GAA0C,GAA1C,GAAgD,GAAhD,IAAuDD,MAAM,GAAIF,UAAU,GAAG,CAA9E,IAAoF,GAApF,GACPG,MADN;AAEA7mB,MAAAA,KAAK,CAAC+R,OAAD,EAAU;AAAE,aAAK0U;AAAP,OAAV,CAAL;AACA;;AACJ,SAAK,SAAL;AACIA,MAAAA,UAAU,GAAG,MAAM,GAAN,GAAYtiB,CAAZ,GAAgB,GAAhB,GAAsB0iB,MAAtB,GAA+B,GAA/B,GACT,GADS,GACH,GADG,GACGD,MADH,GACY,GADZ,IACmBC,MAAM,GAAI,CAACF,WAAD,GAAe,CAD5C,IACkD,GADlD,GAET,GAFS,GAEH,GAFG,IAEIC,MAAM,GAAIF,UAAU,GAAG,CAF3B,IAEiC,GAFjC,GAEuCG,MAFvC,GAEgD,GAFhD,GAGT,GAHS,GAGH,GAHG,GAGGD,MAHH,GAGY,GAHZ,IAGmBC,MAAM,GAAIF,WAAW,GAAG,CAH3C,IAGiD,GAHjD,GAIT,GAJS,GAIH,GAJG,GAIGxiB,CAJH,GAIO,GAJP,GAIa0iB,MAJb,GAIsB,IAJnC;AAKA7mB,MAAAA,KAAK,CAAC+R,OAAD,EAAU;AAAE,aAAK0U;AAAP,OAAV,CAAL;AACA;;AACJ,SAAK,WAAL;AACIA,MAAAA,UAAU,GAAG,MAAM,GAAN,GAAYtiB,CAAZ,GAAgB,GAAhB,IAAuB0iB,MAAM,GAAI,CAACF,WAAD,GAAe,CAAhD,IAAsD,GAAtD,GACT,GADS,GACH,GADG,IACIC,MAAM,GAAIF,UAAU,GAAG,CAD3B,IACiC,GADjC,IACwCG,MAAM,GAAI,CAACF,WAAD,GAAe,CADjE,IACuE,GADvE,GAET,GAFS,GAEH,GAFG,IAEIC,MAAM,GAAIF,UAAU,GAAG,CAF3B,IAEiC,GAFjC,IAEwCG,MAAM,GAAIF,WAAW,GAAG,CAFhE,IAEsE,GAFtE,GAGT,GAHS,GAGH,GAHG,GAGGxiB,CAHH,GAGO,GAHP,IAGc0iB,MAAM,GAAIF,WAAW,GAAG,CAHtC,IAG4C,GAH5C,GAIT,GAJS,GAIH,GAJG,GAIGxiB,CAJH,GAIO,GAJP,IAIc0iB,MAAM,GAAI,CAACF,WAAD,GAAe,CAJvC,IAI6C,IAJ1D;AAKA3mB,MAAAA,KAAK,CAAC+R,OAAD,EAAU;AAAE,aAAK0U;AAAP,OAAV,CAAL;AACA;;AACJ,SAAK,UAAL;AACIA,MAAAA,UAAU,GAAG,MAAM,GAAN,GAAYtiB,CAAZ,GAAgB,GAAhB,IAAuB0iB,MAAM,GAAIF,WAAW,GAAG,CAA/C,IAAqD,GAArD,GACT,GADS,GACH,GADG,GACGC,MADH,GACY,GADZ,IACmBC,MAAM,GAAI,CAACF,WAAD,GAAe,CAD5C,IACkD,GADlD,GAET,GAFS,GAEH,GAFG,IAEIC,MAAM,GAAIF,UAAU,GAAG,CAF3B,IAEiC,GAFjC,IAEwCG,MAAM,GAAIF,WAAW,GAAG,CAFhE,IAEsE,GAFtE,GAGT,GAHS,GAGH,GAHG,GAGGxiB,CAHH,GAGO,GAHP,IAGc0iB,MAAM,GAAIF,WAAW,GAAG,CAHtC,IAG4C,IAHzD;AAIA3mB,MAAAA,KAAK,CAAC+R,OAAD,EAAU;AAAE,aAAK0U;AAAP,OAAV,CAAL;AACA;;AACJ,SAAK,kBAAL;AACIA,MAAAA,UAAU,GAAG,MAAM,GAAN,IAAaG,MAAM,GAAIF,UAAU,GAAG,CAApC,IAA0C,GAA1C,IAAiDG,MAAM,GAAIF,WAAW,GAAG,CAAzE,IAA+E,GAA/E,GACT,GADS,GACH,GADG,GACGC,MADH,GACY,GADZ,IACmBC,MAAM,GAAIF,WAAW,GAAG,CAD3C,IACiD,GADjD,GAET,GAFS,GAEH,GAFG,IAEIC,MAAM,GAAIF,UAAU,GAAG,CAF3B,IAEiC,GAFjC,IAEwCG,MAAM,GAAIF,WAAW,GAAG,CAFhE,IAEsE,GAFtE,GAGT,GAHS,GAGH,GAHG,IAGIC,MAAM,GAAIF,UAAU,GAAG,CAH3B,IAGiC,GAHjC,IAGwCG,MAAM,GAAIF,WAAW,GAAG,CAHhE,IAGsE,IAHnF;AAIA3mB,MAAAA,KAAK,CAAC+R,OAAD,EAAU;AAAE,aAAK0U;AAAP,OAAV,CAAL;AACA;;AACJ,SAAK,UAAL;AACI;AACA,UAAI7M,EAAE,GAAG,EAAT;AACA,UAAIC,MAAM,GAAG,KAAK,CAAlB;AACA,UAAIC,MAAM,GAAG,KAAK,CAAlB;;AACA,WAAK,IAAI5T,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAI,CAArB,EAAwBA,CAAC,EAAzB,EAA6B;AACzB2T,QAAAA,MAAM,GAAI6M,UAAU,GAAG,CAAd,GAAmB/kB,IAAI,CAACmE,GAAL,CAAUnE,IAAI,CAAC6B,EAAL,GAAU,GAAX,IAAmB0C,CAAC,GAAG0T,EAAvB,CAAT,CAA5B;AACAE,QAAAA,MAAM,GAAI4M,UAAU,GAAG,CAAd,GAAmB/kB,IAAI,CAAC8D,GAAL,CAAU9D,IAAI,CAAC6B,EAAL,GAAU,GAAX,IAAmB0C,CAAC,GAAG0T,EAAvB,CAAT,CAA5B;;AACA,YAAI1T,CAAC,KAAK,CAAV,EAAa;AACTugB,UAAAA,UAAU,GAAG,MAAM,GAAN,IAAaG,MAAM,GAAG/M,MAAtB,IAAgC,GAAhC,IAAuCgN,MAAM,GAAG/M,MAAhD,IAA0D,GAAvE;AACH,SAFD,MAGK;AACD2M,UAAAA,UAAU,GAAGA,UAAU,CAACK,MAAX,CAAkB,MAAM,GAAN,IAAaF,MAAM,GAAG/M,MAAtB,IAAgC,GAAhC,IAAuCgN,MAAM,GAAG/M,MAAhD,IAA0D,GAA5E,CAAb;AACH;AACJ;;AACD2M,MAAAA,UAAU,GAAGA,UAAU,CAACK,MAAX,CAAkB,GAAlB,CAAb;AACA9mB,MAAAA,KAAK,CAAC+R,OAAD,EAAU;AAAE,aAAK0U;AAAP,OAAV,CAAL;AACA;;AACJ,SAAK,MAAL;AACIA,MAAAA,UAAU,GAAG,QAAQpX,QAAQ,CAAClL,CAAT,GAAaY,IAAI,CAACxE,KAAL,GAAa,CAAlC,IAAuC,GAAvC,IAA8C8O,QAAQ,CAACjL,CAAT,GAAaW,IAAI,CAACvE,MAAL,GAAc,CAAzE,IAA8E,KAA9E,IAAuF6O,QAAQ,CAAClL,CAAT,GAAaY,IAAI,CAACxE,KAAL,GAAa,CAAjH,IACP,GADO,IACA8O,QAAQ,CAACjL,CAAT,GAAaW,IAAI,CAACvE,MAAL,GAAc,CAD3B,IACgC,KADhC,IACyC6O,QAAQ,CAAClL,CAAT,GAAaY,IAAI,CAACxE,KAAL,GAAa,CADnE,IACwE,GADxE,IAC+E8O,QAAQ,CAACjL,CAAT,GAAaW,IAAI,CAACvE,MAAL,GAAc,CAD1G,IAEP,KAFO,IAEE6O,QAAQ,CAAClL,CAAT,GAAaY,IAAI,CAACxE,KAAL,GAAa,CAF5B,IAEiC,GAFjC,IAEwC8O,QAAQ,CAACjL,CAAT,GAAaW,IAAI,CAACvE,MAAL,GAAc,CAFnE,IAEwE,KAFxE,GAEgF6O,QAAQ,CAAClL,CAFzF,GAE6F,GAF7F,IAGRkL,QAAQ,CAACjL,CAAT,GAAaW,IAAI,CAACvE,MAAL,GAAc,CAHnB,IAGwB,KAHxB,IAGiC6O,QAAQ,CAAClL,CAAT,GAAaY,IAAI,CAACxE,KAAL,GAAa,CAH3D,IAGgE,GAHhE,IAGuE8O,QAAQ,CAACjL,CAAT,GAAaW,IAAI,CAACvE,MAAL,GAAc,CAHlG,IAGuG,IAHpH;AAIAR,MAAAA,KAAK,CAAC+R,OAAD,EAAU;AAAE,aAAK0U;AAAP,OAAV,CAAL;AACA;;AACJ,SAAK,OAAL;AACIA,MAAAA,UAAU,GAAG,MAAM,GAAN,GAAYtiB,CAAZ,GAAgB,GAAhB,GAAsB0iB,MAAtB,GAA+B,GAA/B,GAAqC,GAArC,GAA2C,GAA3C,IAAkDD,MAAM,GAAIF,UAAU,GAAG,CAAzE,IAA+E,GAA/E,GAAqFG,MAArF,GAA8F,GAA9F,GACT,GADS,GACH,GADG,GACGD,MADH,GACY,GADZ,IACmBC,MAAM,GAAIF,WAAW,GAAG,CAD3C,IACiD,GADjD,GACuD,GADvD,GAC6D,GAD7D,GACmEC,MADnE,GAC4E,GAD5E,IAERC,MAAM,GAAI,CAACF,WAAD,GAAe,CAFjB,CAAb;AAGA3mB,MAAAA,KAAK,CAAC+R,OAAD,EAAU;AAAE,aAAK0U;AAAP,OAAV,CAAL;AACA;;AACJ,SAAK,OAAL;AACIH,MAAAA,YAAY,GAAG,OAAf;AACAtmB,MAAAA,KAAK,CAAC+R,OAAD,EAAU;AAAE,gBAAQpK,GAAV;AAAe,kBAAUgf,WAAzB;AAAsC,iBAASD,UAA/C;AAA2DviB,QAAAA,CAAC,EAAEA,CAA9D;AAAiEC,QAAAA,CAAC,EAAEA;AAApE,OAAV,CAAL;AACA;AAhFR;;AAkFA,SAAO;AAAEoiB,IAAAA,YAAY,EAAEzU,OAAhB;AAAyBuU,IAAAA,YAAY,EAAEA;AAAvC,GAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASS,gBAAT,CAA0B9Z,YAA1B,EAAwCwJ,aAAxC,EAAuD;AAC1DA,EAAAA,aAAa,CAAC5N,WAAd,CAA0BoE,YAA1B;AACA,MAAI1M,KAAK,GAAG0M,YAAY,CAAC+Z,WAAzB;AACA,MAAIxmB,MAAM,GAAGyM,YAAY,CAACga,YAA1B;AACAxQ,EAAAA,aAAa,CAACyQ,WAAd,CAA0Bja,YAA1B;AACA,SAAO,IAAI3M,IAAJ,CAASC,KAAT,EAAgBC,MAAhB,CAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAAS2mB,iBAAT,CAA2BlmB,OAA3B,EAAoC8L,KAApC,EAA2C6K,KAA3C,EAAkD5W,IAAlD,EAAwD;AAC3D,MAAIomB,SAAJ;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGpmB,OAAO,CAAC+N,iBAA5B,EAA+CqY,CAAC,EAAhD,EAAoD;AAChDD,IAAAA,SAAS,GAAGnmB,OAAO,CAAC+R,UAAR,CAAmBqU,CAAnB,CAAZ;;AACA,QAAID,SAAS,CAACllB,EAAV,CAAarB,OAAb,CAAqB,kBAArB,IAA2C,CAAC,CAAhD,EAAmD;AAC/CymB,MAAAA,0BAA0B,CAACF,SAAD,EAAYra,KAAZ,EAAmB6K,KAAnB,EAA0B5W,IAA1B,CAA1B;AACH,KAFD,MAGK;AACD,UAAIumB,aAAa,GAAG,KAAK,CAAzB;AACA,UAAI7mB,KAAK,GAAG,CAAZ,CAFC,CAGD;;AACA,UAAI8mB,gBAAgB,GAAGxmB,IAAI,CAAC4iB,gBAAL,CAAsB7W,KAAtB,EAA6B0a,aAA7B,CAA2CC,oBAAlE;AACA,UAAI/X,WAAW,GAAG3O,IAAI,CAAC4iB,gBAAL,CAAsB7W,KAAtB,EAA6B0a,aAA7B,CAA2Cld,MAA3C,CAAkDhK,KAApE;;AACA,UAAIS,IAAI,CAAC4iB,gBAAL,CAAsB7W,KAAtB,EAA6B0a,aAA7B,CAA2CC,oBAA/C,EAAqE;AACjEhnB,QAAAA,KAAK,GAAG0a,oBAAoB,EAC5B;AACApa,QAAAA,IAAI,CAAC4iB,gBAAL,CAAsB7W,KAAtB,EAA6BiH,UAFD,EAEahT,IAAI,CAAC4iB,gBAAL,CAAsB7W,KAAtB,EAA6BkR,SAA7B,CAAuCoJ,CAAvC,EAA0C,UAA1C,CAFb,EAEoErmB,IAAI,CAAC4iB,gBAAL,CAAsB7W,KAAtB,EAA6BwO,aAFjG,EAEgHva,IAAI,CAAC4iB,gBAAL,CAAsB7W,KAAtB,EAA6B8O,iBAF7I,EAEgK7a,IAAI,CAAC4iB,gBAAL,CAAsB7W,KAAtB,CAFhK,CAA5B;;AAGA,YAAIrM,KAAK,KAAK,IAAd,EAAoB;AAChB,cAAIM,IAAI,CAAC4iB,gBAAL,CAAsB7W,KAAtB,EAA6BiH,UAA7B,CAAwCtT,KAAxC,EAA+C8mB,gBAA/C,CAAJ,EAAsE;AAClED,YAAAA,aAAa,GAAGvmB,IAAI,CAAC4iB,gBAAL,CAAsB7W,KAAtB,EAA6BiH,UAA7B,CAAwCtT,KAAxC,EAA+C8mB,gBAA/C,CAAhB;AACH,WAFD,MAGK;AACDD,YAAAA,aAAa,GAAI3nB,iBAAiB,CAAC+P,WAAD,CAAjB,GAAiC,CAAjC,GAAqCA,WAAtD;AACH;AACJ;AACJ,OAZD,MAaK;AACD4X,QAAAA,aAAa,GAAI3nB,iBAAiB,CAAC+P,WAAD,CAAjB,GAAiC,CAAjC,GAAqCA,WAAtD;AACH;;AACDyX,MAAAA,SAAS,CAAChlB,YAAV,CAAuB,cAAvB,EAAuC,CAACmlB,aAAa,GAAG3P,KAAjB,EAAwBhK,QAAxB,EAAvC;;AACA,UAAI3M,OAAO,CAACiB,EAAR,CAAWrB,OAAX,CAAmB,aAAnB,IAAoC,CAAC,CAArC,IAA0CjB,iBAAiB,CAAC2nB,aAAD,CAA/D,EAAgF;AAC5EH,QAAAA,SAAS,CAAChlB,YAAV,CAAuB,cAAvB,EAAuC,CAAC,IAAIwV,KAAL,EAAYhK,QAAZ,EAAvC;AACH;AACJ;AACJ;AACJ;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAAS0Z,0BAAT,CAAoCrmB,OAApC,EAA6C8L,KAA7C,EAAoD6K,KAApD,EAA2D5W,IAA3D,EAAiE;AACpE,MAAI2mB,IAAJ;;AACA,OAAK,IAAIvV,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGnR,OAAO,CAAC+N,iBAA5B,EAA+CoD,CAAC,EAAhD,EAAoD;AAChDuV,IAAAA,IAAI,GAAG1mB,OAAO,CAAC+R,UAAR,CAAmBZ,CAAnB,CAAP;;AACA,QAAIuV,IAAI,CAAC3S,OAAL,KAAiB,MAArB,EAA6B;AACzB,UAAIuS,aAAa,GAAIvmB,IAAI,CAAC4iB,gBAAL,CAAsB7W,KAAtB,EAChB6a,sBADgB,CACOhY,UAAU,CAAC+X,IAAI,CAACzlB,EAAL,CAAQsM,KAAR,CAAc,mBAAd,EAAmC,CAAnC,EAAsCA,KAAtC,CAA4C,GAA5C,EAAiD,CAAjD,CAAD,CADjB,EACwEjO,KAD7F;AAEAonB,MAAAA,IAAI,CAACvlB,YAAL,CAAkB,cAAlB,EAAkC,CAACmlB,aAAa,GAAG3P,KAAjB,EAAwBhK,QAAxB,EAAlC;AACH;AACJ;AACJ,C,CACD;;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASia,aAAT,CAAuBrC,KAAvB,EAA8B;AACjC,MAAIqC,aAAa,GAAG,EAApB;AACA,MAAIC,OAAO,GAAGtC,KAAK,CAACsC,OAApB;;AACA,OAAK,IAAI5hB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG4hB,OAAO,CAACxb,MAA5B,EAAoCpG,CAAC,EAArC,EAAyC;AACrC2hB,IAAAA,aAAa,CAAC5U,IAAd,CAAmB;AAAE3Q,MAAAA,KAAK,EAAEwlB,OAAO,CAAC5hB,CAAD,CAAP,CAAW5D,KAApB;AAA2BC,MAAAA,KAAK,EAAEulB,OAAO,CAAC5hB,CAAD,CAAP,CAAW3D;AAA7C,KAAnB;AACH;;AACD,SAAOslB,aAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASE,cAAT,CAAwBC,YAAxB,EAAsCC,UAAtC,EAAkD;AACrD,MAAIC,aAAa,GAAGC,WAAW,CAACH,YAAY,CAAC,CAAD,CAAb,EAAkBA,YAAY,CAAC,CAAD,CAA9B,CAA/B;AACA,MAAII,WAAW,GAAGD,WAAW,CAACF,UAAU,CAAC,CAAD,CAAX,EAAgBA,UAAU,CAAC,CAAD,CAA1B,CAA7B;AACA,SAAQG,WAAW,GAAGF,aAAtB;AACH;AACD;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,WAAT,CAAqB5gB,CAArB,EAAwBvI,CAAxB,EAA2B;AAC9B,MAAImF,CAAC,GAAGoD,CAAC,CAACjF,KAAF,GAAUtD,CAAC,CAACsD,KAApB;AACA,MAAI8B,CAAC,GAAGmD,CAAC,CAAChF,KAAF,GAAUvD,CAAC,CAACuD,KAApB;AACA,SAAOZ,IAAI,CAACkE,IAAL,CAAU1B,CAAC,GAAGA,CAAJ,GAAQC,CAAC,GAAGA,CAAtB,CAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASikB,UAAT,CAAoBP,OAApB,EAA6B9mB,IAA7B,EAAmC;AACtC,MAAIwJ,IAAI,GAAGxJ,IAAI,CAACC,OAAL,CAAawB,qBAAb,EAAX;AACA,MAAI6lB,MAAM,GAAG9d,IAAI,CAACpH,GAAL,GAAWsF,QAAQ,CAAC9F,WAAT,CAAqBF,WAA7C;AACA,MAAI6lB,OAAO,GAAG/d,IAAI,CAACtH,IAAL,GAAYwF,QAAQ,CAAC9F,WAAT,CAAqBC,WAA/C;AACA,SAAOzD,KAAK,CAACK,SAAN,CAAgB+oB,KAAhB,CAAsB5d,IAAtB,CAA2Bkd,OAA3B,EAAoC5E,GAApC,CAAwC,UAAUuF,KAAV,EAAiB;AAC5D,WAAO;AACHtkB,MAAAA,CAAC,EAAEskB,KAAK,CAACnmB,KAAN,GAAcimB,OADd;AAEHnkB,MAAAA,CAAC,EAAEqkB,KAAK,CAAClmB,KAAN,GAAc+lB;AAFd,KAAP;AAIH,GALM,CAAP;AAMH;AACD;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASI,cAAT,CAAwBZ,OAAxB,EAAiC;AACpC,SAAO;AACH;AACA3jB,IAAAA,CAAC,EAAE2jB,OAAO,CAAC5E,GAAR,CAAY,UAAUK,CAAV,EAAa;AAAE,aAAOA,CAAC,CAAC,GAAD,CAAR;AAAgB,KAA3C,EAA6CoF,MAA7C,CAAoD9L,GAApD,IAA2DiL,OAAO,CAACxb,MAFnE;AAGH;AACAlI,IAAAA,CAAC,EAAE0jB,OAAO,CAAC5E,GAAR,CAAY,UAAUK,CAAV,EAAa;AAAE,aAAOA,CAAC,CAAC,GAAD,CAAR;AAAgB,KAA3C,EAA6CoF,MAA7C,CAAoD9L,GAApD,IAA2DiL,OAAO,CAACxb;AAJnE,GAAP;AAMH;AACD;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASuQ,GAAT,CAAatV,CAAb,EAAgBvI,CAAhB,EAAmB;AACtB,SAAOuI,CAAC,GAAGvI,CAAX;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAAS4pB,WAAT,CAAqB3nB,OAArB,EAA8BikB,KAA9B,EAAqCC,QAArC,EAA+ChJ,KAA/C,EAAsDvE,KAAtD,EAA6D7S,IAA7D,EAAmE/D,IAAnE,EAAyE;AAC5E,MAAIgF,KAAK,GAAG,CAAZ;AACA,MAAI6iB,gBAAgB,GAAG7nB,IAAI,CAAC8nB,aAA5B;AACA,MAAIC,QAAQ,GAAG/nB,IAAI,CAACgoB,aAApB;AACA,MAAIC,SAAS,GAAGrR,KAAK,GAAGmR,QAAxB;AACA,MAAIG,eAAe,GAAG,IAAI7lB,WAAJ,CAAgB,CAAhB,EAAmB,CAAnB,CAAtB;AACA,MAAI8lB,YAAY,GAAG,CAAnB;;AACA,MAAIvR,KAAK,KAAKmR,QAAd,EAAwB;AACpB9nB,IAAAA,OAAO,CAACmB,YAAR,CAAqB,WAArB,EAAkC,YAAawV,KAAb,GAAsB,gBAAtB,GAAyCuE,KAAK,CAAChY,CAA/C,GAAmD,GAAnD,GAAyDgY,KAAK,CAAC/X,CAA/D,GAAmE,IAArG;AACA;AACH,GAV2E,CAW5E;;;AACA,MAAIglB,KAAK,GAAG,UAAUP,gBAAV,EAA4B1M,KAA5B,EAAmC;AAC3C,QAAI0M,gBAAgB,CAAC1kB,CAAjB,KAAuBgY,KAAK,CAAChY,CAAjC,EAAoC;AAChC,aAAO,IAAP;AACH;;AACD,WAAO,CAACgY,KAAK,CAAC/X,CAAN,GAAUykB,gBAAgB,CAACzkB,CAA5B,KAAkC+X,KAAK,CAAChY,CAAN,GAAU0kB,gBAAgB,CAAC1kB,CAA7D,CAAP;AACH,GALD,CAZ4E,CAkB5E;;;AACA,MAAIklB,SAAS,GAAG,UAAUlN,KAAV,EAAiBmN,UAAjB,EAA6B;AACzC,QAAIA,UAAU,KAAK,IAAnB,EAAyB;AACrB,aAAOnN,KAAK,CAAChY,CAAb;AACH;;AACD,WAAOgY,KAAK,CAAC/X,CAAN,GAAUklB,UAAU,GAAGnN,KAAK,CAAChY,CAApC;AACH,GALD;;AAMA,MAAIolB,WAAW,GAAGH,KAAK,CAACP,gBAAD,EAAmB1M,KAAnB,CAAvB;AACA,MAAIqN,iBAAiB,GAAGH,SAAS,CAACR,gBAAD,EAAmBU,WAAnB,CAAjC;AACA,MAAIE,oBAAoB,GAAGtN,KAAK,CAAChY,CAAN,GAAU0kB,gBAAgB,CAAC1kB,CAAtD;AACA,MAAIulB,kBAAkB,GAAGvN,KAAK,CAAC/X,CAAN,GAAUykB,gBAAgB,CAACzkB,CAApD;AACA+a,EAAAA,OAAO,CAACle,OAAD,EAAUikB,KAAV,EAAiBC,QAAjB,EAA2B,UAAUb,IAAV,EAAgB;AAC9C,QAAIA,IAAI,CAACe,SAAL,GAAiBf,IAAI,CAACY,KAA1B,EAAiC;AAC7Blf,MAAAA,KAAK,GAAI,CAACse,IAAI,CAACe,SAAL,GAAiBf,IAAI,CAACY,KAAvB,IAAgCZ,IAAI,CAACa,QAA9C;AACAgE,MAAAA,YAAY,GAAGJ,QAAQ,GAAI/iB,KAAK,GAAGijB,SAAnC;AACAC,MAAAA,eAAe,CAAC/kB,CAAhB,GAAoB0kB,gBAAgB,CAAC1kB,CAAjB,GAAsB6B,KAAK,GAAGyjB,oBAAT,IAAkCN,YAAY,GAAGvR,KAAjD,CAAzC;;AACA,UAAI2R,WAAW,IAAI,IAAnB,EAAyB;AACrBL,QAAAA,eAAe,CAAC9kB,CAAhB,GAAoBykB,gBAAgB,CAACzkB,CAAjB,GAAsB4B,KAAK,GAAG0jB,kBAAlD;AACH,OAFD,MAGK;AACDR,QAAAA,eAAe,CAAC9kB,CAAhB,GAAsBmlB,WAAW,GAAGL,eAAe,CAAC/kB,CAA/B,GAAoCqlB,iBAAzD;AACH;;AACDlF,MAAAA,IAAI,CAACrjB,OAAL,CAAamB,YAAb,CAA0B,WAA1B,EAAuC,YAAY+mB,YAAZ,GAA2B,KAA3B,GACnC,aADmC,GACnBD,eAAe,CAAC/kB,CADG,GACC,GADD,GACO+kB,eAAe,CAAC9kB,CADvB,GAC2B,IADlE;AAEApD,MAAAA,IAAI,CAAC0S,cAAL,GAAsBwV,eAAtB;AACAloB,MAAAA,IAAI,CAAC4W,KAAL,GAAauR,YAAb;AACAnoB,MAAAA,IAAI,CAACihB,UAAL,CAAgB0H,eAAhB,CAAgCxN,KAAK,CAAChY,CAAtC,EAAyCgY,KAAK,CAAC/X,CAA/C,EAAkD+kB,YAAlD,EAAgEnoB,IAAhE;AACH;AACJ,GAjBM,EAiBJ,YAAY;AACXA,IAAAA,IAAI,CAAC0S,cAAL,GAAsByI,KAAtB;AACAnb,IAAAA,IAAI,CAAC4W,KAAL,GAAaA,KAAb;AACA3W,IAAAA,OAAO,CAACmB,YAAR,CAAqB,WAArB,EAAkC,YAAawV,KAAb,GAAsB,gBAAtB,GAAyCuE,KAAK,CAAChY,CAA/C,GAAmD,GAAnD,GAAyDgY,KAAK,CAAC/X,CAA/D,GAAmE,IAArG;AACApD,IAAAA,IAAI,CAACihB,UAAL,CAAgB0H,eAAhB,CAAgCxN,KAAK,CAAChY,CAAtC,EAAyCgY,KAAK,CAAC/X,CAA/C,EAAkDwT,KAAlD,EAAyD5W,IAAzD;AACH,GAtBM,CAAP;AAuBH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASme,OAAT,CAAiBle,OAAjB,EAA0BikB,KAA1B,EAAiCC,QAAjC,EAA2CyE,OAA3C,EAAoD3N,GAApD,EAAyD;AAC5D,MAAItR,KAAK,GAAG,IAAZ;;AACA,MAAI0M,KAAK,GAAG,IAAZ,CAF4D,CAG5D;;AACA,MAAIwS,cAAJ;AACA,MAAIC,WAAW,GAAG,oBAAlB;;AACA,MAAIC,cAAc,GAAG,UAAUC,SAAV,EAAqB;AACtC,QAAI,CAAC3S,KAAL,EAAY;AACRA,MAAAA,KAAK,GAAG2S,SAAR;AACH;;AACD,QAAI5E,QAAQ,GAAG4E,SAAS,GAAG3S,KAA3B;;AACA,QAAI+N,QAAQ,GAAGD,QAAf,EAAyB;AACrByE,MAAAA,OAAO,CAAChf,IAAR,CAAaD,KAAb,EAAoB;AAAE1J,QAAAA,OAAO,EAAEA,OAAX;AAAoBikB,QAAAA,KAAK,EAAE,CAA3B;AAA8BG,QAAAA,SAAS,EAAED,QAAzC;AAAmDD,QAAAA,QAAQ,EAAEA;AAA7D,OAApB;AACAtjB,MAAAA,MAAM,CAACooB,qBAAP,CAA6BF,cAA7B;AACH,KAHD,MAIK;AACDloB,MAAAA,MAAM,CAACqoB,oBAAP,CAA4BL,cAA5B;AACA5N,MAAAA,GAAG,CAACrR,IAAJ,CAASD,KAAT,EAAgB;AAAE1J,QAAAA,OAAO,EAAEA;AAAX,OAAhB;AACAA,MAAAA,OAAO,CAACmB,YAAR,CAAqB,OAArB,EAA8B0nB,WAA9B;AACH;AACJ,GAdD;;AAeAD,EAAAA,cAAc,GAAGhoB,MAAM,CAACooB,qBAAP,CAA6BF,cAA7B,CAAjB;AACH;AACD;AACA;AACA;;AACA,IAAII,OAAO;AAAG;AAAe,YAAY;AACrC;AACA,WAASA,OAAT,CAAiBpY,OAAjB,EAA0BlN,IAA1B,EAAgCulB,KAAhC,EAAuCC,WAAvC,EAAoDC,QAApD,EAA8D;AAC1D,SAAKC,WAAL,GAAmBxY,OAAnB;AACA,SAAKlN,IAAL,GAAYA,IAAI,IAAI,KAApB;AACA,SAAKulB,KAAL,GAAaA,KAAK,IAAI,IAAtB;AACA,SAAKC,WAAL,GAAmBA,WAAnB;AACA,SAAKC,QAAL,GAAgBA,QAAhB;AACH;;AACD,SAAOH,OAAP;AACH,CAV4B,EAA7B;;AAWA,SAASA,OAAT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASK,eAAT,CAAyBvpB,OAAzB,EAAkCikB,KAAlC,EAAyCC,QAAzC,EAAmDhJ,KAAnD,EAA0D;AAC7D,MAAInW,KAAK,GAAG,CAAZ;AACA,MAAIyD,SAAS,GAAGxI,OAAO,CAAC0V,YAAR,CAAqB,WAArB,EAAkCnI,KAAlC,CAAwC,GAAxC,CAAhB;;AACA,MAAI/E,SAAS,CAAC6C,MAAV,KAAqB,CAAzB,EAA4B;AACxB7C,IAAAA,SAAS,CAAC,CAAD,CAAT,GAAeA,SAAS,CAAC,CAAD,CAAT,CAAa+E,KAAb,CAAmB,GAAnB,EAAwB,CAAxB,CAAf;AACA/E,IAAAA,SAAS,CAAC,CAAD,CAAT,GAAeA,SAAS,CAAC,CAAD,CAAT,CAAa+E,KAAb,CAAmB,GAAnB,EAAwB,CAAxB,CAAf;AACH;;AACD,MAAIqa,gBAAgB,GAAG,IAAIxlB,WAAJ,CAAgBvC,QAAQ,CAAC2I,SAAS,CAAC,CAAD,CAAV,EAAe,EAAf,CAAxB,EAA4C3I,QAAQ,CAAC2I,SAAS,CAAC,CAAD,CAAV,EAAe,EAAf,CAApD,CAAvB;AACA,MAAIghB,KAAK,GAAGtO,KAAK,CAAChY,CAAN,GAAU0kB,gBAAgB,CAAC1kB,CAAvC;AACA,MAAIumB,KAAK,GAAGvO,KAAK,CAAC/X,CAAN,GAAUykB,gBAAgB,CAACzkB,CAAvC;AACA,MAAI8kB,eAAe,GAAG,IAAI7lB,WAAJ,CAAgB,CAAhB,EAAmB,CAAnB,CAAtB;AACA8b,EAAAA,OAAO,CAACle,OAAD,EAAUikB,KAAV,EAAiBC,QAAjB,EAA2B,UAAUb,IAAV,EAAgB;AAC9C,QAAIA,IAAI,CAACe,SAAL,GAAiBf,IAAI,CAACY,KAA1B,EAAiC;AAC7Blf,MAAAA,KAAK,GAAI,CAACse,IAAI,CAACe,SAAL,GAAiBf,IAAI,CAACY,KAAvB,IAAgCZ,IAAI,CAACa,QAA9C;AACA+D,MAAAA,eAAe,CAAC/kB,CAAhB,GAAoB0kB,gBAAgB,CAAC1kB,CAAjB,GAAsB6B,KAAK,GAAGykB,KAAlD;AACAvB,MAAAA,eAAe,CAAC9kB,CAAhB,GAAoBykB,gBAAgB,CAACzkB,CAAjB,GAAsB4B,KAAK,GAAG0kB,KAAlD;AACApG,MAAAA,IAAI,CAACrjB,OAAL,CAAamB,YAAb,CAA0B,WAA1B,EAAuC,gBAAgB8mB,eAAe,CAAC/kB,CAAhC,GAAoC,GAApC,GAA0C+kB,eAAe,CAAC9kB,CAA1D,GAA8D,IAArG;AACH;AACJ,GAPM,EAOJ,YAAY;AACXnD,IAAAA,OAAO,CAACmB,YAAR,CAAqB,WAArB,EAAkC,gBAAgB+Z,KAAK,CAAChY,CAAtB,GAA0B,GAA1B,GAAgCgY,KAAK,CAAC/X,CAAtC,GAA0C,IAA5E;AACH,GATM,CAAP;AAUH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASumB,iBAAT,CAA2BrL,WAA3B,EAAwCte,IAAxC,EAA8C;AACjD,MAAI4pB,QAAQ,GAAGhrB,iBAAiB,CAACoB,IAAI,CAAC6pB,wBAAN,CAAjB,GACX,IADW,GACJ7pB,IAAI,CAAC6pB,wBADhB;AAEA,MAAIC,OAAO,GAAGlrB,iBAAiB,CAACoB,IAAI,CAAC+pB,uBAAN,CAAjB,GACV,IADU,GACH/pB,IAAI,CAAC+pB,uBADhB;;AAEA,MAAI,CAACnrB,iBAAiB,CAACkrB,OAAD,CAAtB,EAAiC;AAC7B9pB,IAAAA,IAAI,CAAC+pB,uBAAL,GAA+B,IAA/B;AACA/pB,IAAAA,IAAI,CAAC6pB,wBAAL,GAAgC,IAAhC;AACH,GAHD,MAIK,IAAI,CAACjrB,iBAAiB,CAACgrB,QAAD,CAAlB,IACFhrB,iBAAiB,CAACkrB,OAAD,CADf,IAEF9pB,IAAI,CAAC6pB,wBAAL,KAAkCvL,WAFpC,EAEiD;AAClDte,IAAAA,IAAI,CAAC+pB,uBAAL,GAA+BzL,WAA/B;AACH,GAJI,MAKA;AACDte,IAAAA,IAAI,CAAC6pB,wBAAL,GAAgCvL,WAAhC;AACH;AACJ;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAAS0L,kBAAT,CAA4BC,MAA5B,EAAoCC,MAApC,EAA4CC,OAA5C,EAAqDC,OAArD,EAA8D1K,QAA9D,EAAwEC,SAAxE,EAAmF3f,IAAnF,EAAyF;AAC5F,MAAIse,WAAJ;AACA,MAAIoD,WAAW,GAAG1hB,IAAI,CAACsT,YAAL,CAAkBqO,OAApC;AACA,MAAI0I,gBAAJ;AACA,MAAIC,SAAS,GAAG3pB,IAAI,CAAC8D,GAAL,CAASylB,MAAM,GAAGvpB,IAAI,CAAC6B,EAAd,GAAmB,GAA5B,CAAhB;AACA,MAAI+nB,SAAS,GAAG5pB,IAAI,CAAC+D,GAAL,CAAS,CAAC,IAAI4lB,SAAL,KAAmB,IAAIA,SAAvB,CAAT,IAA8C,CAA9D;AACA,MAAIE,WAAW,GAAG7pB,IAAI,CAACyD,GAAL,CAASzD,IAAI,CAACC,GAAL,CAAS2pB,SAAT,EAAoB5pB,IAAI,CAAC6B,EAAzB,CAAT,EAAuC,CAAC7B,IAAI,CAAC6B,EAA7C,IAAmD,CAArE;AACA,MAAIioB,SAAS,GAAG9pB,IAAI,CAAC8D,GAAL,CAASwlB,MAAM,GAAGtpB,IAAI,CAAC6B,EAAd,GAAmB,GAA5B,CAAhB;AACA,MAAIkoB,SAAS,GAAG/pB,IAAI,CAAC+D,GAAL,CAAS,CAAC,IAAI+lB,SAAL,KAAmB,IAAIA,SAAvB,CAAT,IAA8C,CAA9D;AACA,MAAIE,WAAW,GAAGhqB,IAAI,CAACyD,GAAL,CAASzD,IAAI,CAACC,GAAL,CAAS8pB,SAAT,EAAoB/pB,IAAI,CAAC6B,EAAzB,CAAT,EAAuC,CAAC7B,IAAI,CAAC6B,EAA7C,IAAmD,CAArE;;AACA,MAAIxC,IAAI,CAAC6e,cAAL,IAAuB,CAAC7e,IAAI,CAACgE,SAAjC,EAA4C;AACxC,QAAI4mB,SAAS,GAAGjqB,IAAI,CAACwD,GAAL,CAAS,CAACnE,IAAI,CAACyD,aAAL,CAAmBb,QAAnB,CAA4BwB,GAA5B,GAAkCpE,IAAI,CAACyD,aAAL,CAAmBb,QAAnB,CAA4BhC,GAA/D,KAAuEspB,MAAM,GAAGD,MAAhF,CAAT,CAAhB;AACA,QAAIY,UAAU,GAAGlqB,IAAI,CAACwD,GAAL,CAAS,CAACnE,IAAI,CAACyD,aAAL,CAAmBZ,SAAnB,CAA6BuB,GAA7B,GAAmCpE,IAAI,CAACyD,aAAL,CAAmBZ,SAAnB,CAA6BjC,GAAjE,KAAyEwpB,OAAO,GAAGD,OAAnF,CAAT,CAAjB;AACAE,IAAAA,gBAAgB,GAAG1pB,IAAI,CAACC,GAAL,CAASgqB,SAAT,EAAoBC,UAApB,CAAnB;AACA,QAAIC,WAAW,GAAGnoB,iBAAiB,CAACsnB,MAAD,EAASE,OAAT,EAAkB,CAAlB,EAAqBnqB,IAAI,CAAC4iB,gBAAL,CAAsB,CAAtB,CAArB,EAA+C5iB,IAA/C,CAAnC;AACA,QAAI+qB,WAAW,GAAGpoB,iBAAiB,CAACunB,MAAD,EAASE,OAAT,EAAkB,CAAlB,EAAqBpqB,IAAI,CAAC4iB,gBAAL,CAAsB,CAAtB,CAArB,EAA+C5iB,IAA/C,CAAnC;AACH;;AACD,MAAIgrB,QAAQ,GAAG,CAACR,WAAW,GAAGG,WAAf,IAA8BhqB,IAAI,CAAC6B,EAAlD;AACA,MAAIyoB,OAAO,GAAGb,OAAO,GAAGD,OAAxB;AACA,MAAIe,QAAQ,GAAG,CAAED,OAAO,GAAG,CAAX,GAAiBA,OAAO,GAAG,GAA3B,GAAkCA,OAAnC,IAA8C,GAA7D;AACA,MAAIE,eAAe,GAAG,GAAtB;AACA,MAAIC,cAAc,GAAG,GAArB;AACA,MAAIC,OAAO,GAAI1qB,IAAI,CAAC+D,GAAL,CAASib,SAAS,GAAGwL,eAAZ,GAA8BH,QAAvC,IAAmDrqB,IAAI,CAAC2qB,GAAvE;AACA,MAAIC,OAAO,GAAI5qB,IAAI,CAAC+D,GAAL,CAASgb,QAAQ,GAAG0L,cAAX,GAA4BF,QAArC,IAAiDvqB,IAAI,CAAC2qB,GAArE;AACA,MAAIE,MAAM,GAAIxrB,IAAI,CAAC6e,cAAL,IAAuB,CAAC7e,IAAI,CAACgE,SAA9B,GAA2CqmB,gBAA3C,GAA8D1pB,IAAI,CAACC,GAAL,CAASyqB,OAAT,EAAkBE,OAAlB,CAA3E;AACAjN,EAAAA,WAAW,GAAG3d,IAAI,CAACC,GAAL,CAAS4qB,MAAT,EAAiB9J,WAAjB,CAAd;AACApD,EAAAA,WAAW,GAAGte,IAAI,CAACgE,SAAL,IAAkB,CAAChE,IAAI,CAAC6e,cAAxB,GAAyCle,IAAI,CAACuf,KAAL,CAAW5B,WAAX,CAAzC,GAAmEA,WAAjF;;AACA,MAAI,CAACte,IAAI,CAACgE,SAAV,EAAqB;AACjB2lB,IAAAA,iBAAiB,CAACrL,WAAD,EAActe,IAAd,CAAjB;AACH;;AACD,SAAOse,WAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASmN,aAAT,CAAuBlJ,CAAvB,EAA0B;AAC7B;AACA,MAAImJ,SAAJ,CAF6B,CAG7B;;AACA,MAAIC,WAAW,GAAG,CAAC/sB,iBAAiB,CAAC2jB,CAAC,CAAC,QAAD,CAAF,CAAlB,GAAkCA,CAAC,CAAC,QAAD,CAAnC,GAAgDA,CAAC,CAAC,QAAD,CAAnE;;AACA,MAAI3jB,iBAAiB,CAAC+sB,WAAW,CAACrgB,MAAb,CAArB,EAA2C;AACvC,QAAI,CAAC1M,iBAAiB,CAAC+sB,WAAW,CAAC,OAAD,CAAZ,CAAtB,EAA8C;AAC1CD,MAAAA,SAAS,GAAGC,WAAW,CAAC,OAAD,CAAvB;AACH;AACJ,GAJD,MAKK;AACDD,IAAAA,SAAS,GAAGC,WAAZ;AACH;;AACD,SAAOD,SAAP;AACH","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\n/* eslint-disable @typescript-eslint/no-unused-vars */\n/* eslint-disable max-len */\n/**\n * Helper functions for maps control\n */\nimport { createElement, isNullOrUndefined, remove, compile as templateComplier, merge } from '@syncfusion/ej2-base';\nimport { Animation } from '@syncfusion/ej2-base';\nimport { SvgRenderer } from '@syncfusion/ej2-svg-base';\nimport { itemSelection } from '../../index';\nimport { animationComplete } from '../index';\nimport { markerClusterRendering } from '../index';\n/**\n * Maps internal use of `Size` type\n */\nvar Size = /** @class */ (function () {\n    function Size(width, height) {\n        this.width = width;\n        this.height = height;\n    }\n    return Size;\n}());\nexport { Size };\n/**\n * To find number from string\n *\n * @param {string} value Specifies the value\n * @param {number} containerSize Specifies the container size\n * @returns {number} Returns the number\n * @private\n */\nexport function stringToNumber(value, containerSize) {\n    if (value !== null && value !== undefined) {\n        return value.indexOf('%') !== -1 ? (containerSize / 100) * parseInt(value, 10) : parseInt(value, 10);\n    }\n    return null;\n}\n/**\n * Method to calculate the width and height of the maps\n *\n * @param {Maps} maps Specifies the maps instance\n * @returns {void}\n */\nexport function calculateSize(maps) {\n    maps.element.style.height = !isNullOrUndefined(maps.height) ? maps.height : 'auto';\n    maps.element.style.width = !isNullOrUndefined(maps.width) ? maps.width : 'auto';\n    var containerWidth = maps.element.clientWidth;\n    var containerHeight = maps.element.clientHeight;\n    var containerElementWidth = stringToNumber(maps.element.style.width, containerWidth);\n    var containerElementHeight = stringToNumber(maps.element.style.height, containerHeight);\n    var availableSize = new Size(0, 0);\n    if (maps.width === '0px' || maps.width === '0%' || maps.height === '0%' || maps.height === '0px') {\n        availableSize = new Size(0, 0);\n    }\n    else {\n        availableSize = new Size(stringToNumber(maps.width, containerWidth) || containerWidth || containerElementWidth || 600, stringToNumber(maps.height, containerHeight) || containerHeight || containerElementHeight || (maps.isDevice ?\n            Math.min(window.innerWidth, window.innerHeight) : 450));\n    }\n    return availableSize;\n}\n/**\n * Method to create svg for maps.\n *\n * @param {Maps} maps Specifies the map instance\n * @returns {void}\n */\nexport function createSvg(maps) {\n    maps.renderer = new SvgRenderer(maps.element.id);\n    maps.availableSize = calculateSize(maps);\n    maps.svgObject = maps.renderer.createSvg({\n        id: maps.element.id + '_svg',\n        width: maps.availableSize.width,\n        height: maps.availableSize.height\n    });\n    if (maps.width === '0px' || maps.width === '0%' || maps.height === '0%' || maps.height === '0px') {\n        maps.svgObject.setAttribute('height', '0');\n        maps.svgObject.setAttribute('width', '0');\n    }\n}\n/**\n * Method to get the mouse position\n *\n * @param {number} pageX - Specifies the pageX.\n * @param {number} pageY - Specifies the pageY.\n * @param {Element} element - Specifies the element.\n * @returns {MapLocation} - Returns the location.\n */\nexport function getMousePosition(pageX, pageY, element) {\n    var elementRect = element.getBoundingClientRect();\n    var pageXOffset = element.ownerDocument.defaultView.pageXOffset;\n    var pageYOffset = element.ownerDocument.defaultView.pageYOffset;\n    var clientTop = element.ownerDocument.documentElement.clientTop;\n    var clientLeft = element.ownerDocument.documentElement.clientLeft;\n    var positionX = elementRect.left + pageXOffset - clientLeft;\n    var positionY = elementRect.top + pageYOffset - clientTop;\n    return new MapLocation((pageX - positionX), (pageY - positionY));\n}\n/**\n * Method to convert degrees to radians\n *\n * @param {number} deg Specifies the degree value\n * @returns {number} Returns the number\n */\nexport function degreesToRadians(deg) {\n    return deg * (Math.PI / 180);\n}\n/**\n * Convert radians to degrees method\n *\n * @param {number} radian Specifies the radian value\n * @returns {number} Returns the number\n */\nexport function radiansToDegrees(radian) {\n    return radian * (180 / Math.PI);\n}\n/**\n * Method for converting from latitude and longitude values to points\n *\n * @param {number} latitude - Specifies the latitude.\n * @param {number} longitude - Specifies the longitude.\n * @param {number} factor - Specifies the factor.\n * @param {LayerSettings} layer - Specifies the layer settings.\n * @param {Maps} mapModel - Specifies the maps.\n * @returns {Point} - Returns the point values.\n */\nexport function convertGeoToPoint(latitude, longitude, factor, layer, mapModel) {\n    var mapSize = new Size(mapModel.mapAreaRect.width, mapModel.mapAreaRect.height);\n    var x;\n    var y;\n    var value;\n    var lat;\n    var lng;\n    var temp;\n    var longitudeMinMax = mapModel.baseMapBounds.longitude;\n    var latitudeMinMax = mapModel.baseMapBounds.latitude;\n    var latRadian = degreesToRadians(latitude);\n    var lngRadian = degreesToRadians(longitude);\n    var type = mapModel.projectionType;\n    var size = (mapModel.isTileMap) ? Math.pow(2, 1) * 256 : (isNullOrUndefined(factor)) ?\n        Math.min(mapSize.width, mapSize.height) : (Math.min(mapSize.width, mapSize.height) * factor);\n    if (layer.geometryType === 'Normal') {\n        x = isNullOrUndefined(factor) ? longitude : Math.abs((longitude - longitudeMinMax.min) * factor);\n        y = isNullOrUndefined(factor) ? latitude : Math.abs((latitudeMinMax.max - latitude) * factor);\n    }\n    else if (layer.geometryType === 'Geographic') {\n        switch (type) {\n            case 'Mercator': {\n                var pixelOrigin = new Point(size / 2, size / 2);\n                x = pixelOrigin.x + longitude * (size / 360);\n                var sinY = calculateBound(Math.sin(degreesToRadians(latitude)), -0.9999, 0.9999);\n                y = pixelOrigin.y + 0.5 * (Math.log((1 + sinY) / (1 - sinY))) * (-(size / (2 * Math.PI)));\n                break;\n            }\n            case 'Winkel3':\n                value = aitoff(lngRadian, latRadian);\n                lng = (value.x + lngRadian / (Math.PI / 2)) / 2;\n                lat = (value.y + latRadian) / 2;\n                break;\n            case 'Miller':\n                lng = lngRadian;\n                lat = (1.25 * Math.log(Math.tan((Math.PI / 4) + (.4 * latRadian))));\n                break;\n            case 'Eckert3':\n                temp = Math.sqrt(Math.PI * (4 + Math.PI));\n                lng = 2 / temp * lngRadian * (1 + Math.sqrt(1 - 4 * latRadian * latRadian / (Math.PI * Math.PI)));\n                lat = 4 / temp * latRadian;\n                break;\n            case 'AitOff':\n                value = aitoff(lngRadian, latRadian);\n                lng = value.x;\n                lat = value.y;\n                break;\n            case 'Eckert5':\n                lng = lngRadian * (1 + Math.cos(latRadian)) / Math.sqrt(2 + Math.PI);\n                lat = 2 * latRadian / Math.sqrt(2 + Math.PI);\n                break;\n            case 'Equirectangular':\n                lng = lngRadian;\n                lat = latRadian;\n                break;\n            case 'Eckert6': {\n                var epsilon = 1e-6;\n                temp = (1 + (Math.PI / 2)) * Math.sin(latRadian);\n                var delta = Infinity;\n                for (var i = 0; i < 10 && Math.abs(delta) > epsilon; i++) {\n                    delta = (latRadian + (Math.sin(latRadian)) - temp) / (1 + Math.cos(latRadian));\n                    latRadian = latRadian - delta;\n                }\n                temp = Math.sqrt(2 + Math.PI);\n                lng = lngRadian * (1 + Math.cos(latRadian)) / temp;\n                lat = 2 * latRadian / temp;\n                break;\n            }\n        }\n        x = (type === 'Mercator') ? x : roundTo(xToCoordinate(mapModel, radiansToDegrees(lng)), 3);\n        y = (type === 'Mercator') ? y : (-(roundTo(yToCoordinate(mapModel, radiansToDegrees(lat)), 3)));\n    }\n    return new Point(x, y);\n}\n/**\n * Converting tile latitude and longitude to point\n *\n * @param {MapLocation} center Specifies the map center location\n * @param {number} zoomLevel Specifies the zoom level\n * @param {MapLocation} tileTranslatePoint Specifies the tile translate point\n * @param {boolean} isMapCoordinates Specifies the boolean value\n * @returns {MapLocation} Returns the location value\n */\nexport function convertTileLatLongToPoint(center, zoomLevel, tileTranslatePoint, isMapCoordinates) {\n    var size = Math.pow(2, zoomLevel) * 256;\n    var x = (center.x + 180) / 360;\n    var sinLatitude = Math.sin(center.y * Math.PI / 180);\n    var y = 0.5 - Math.log((1 + sinLatitude) / (1 - sinLatitude)) / (4 * Math.PI);\n    var pixelX = center.x;\n    var pixelY = center.y;\n    if (isMapCoordinates) {\n        pixelX = (x * size + 0.5) + tileTranslatePoint.x;\n        pixelY = (y * size + 0.5) + tileTranslatePoint.y;\n    }\n    return { x: pixelX, y: pixelY };\n}\n/**\n * Method for calculate x point\n *\n * @param {Maps} mapObject - Specifies the maps.\n * @param {number} val - Specifies the value.\n * @returns {number} - Returns the number.\n */\nexport function xToCoordinate(mapObject, val) {\n    var longitudeMinMax = mapObject.baseMapBounds.longitude;\n    var totalSize = isNullOrUndefined(mapObject.baseSize) ? mapObject.mapAreaRect.width : mapObject.mapAreaRect.width +\n        (Math.abs(mapObject.baseSize.width - mapObject.mapAreaRect.width) / 2);\n    return Math.round(totalSize * (val - longitudeMinMax.min) / (longitudeMinMax.max - longitudeMinMax.min) * 100) / 100;\n}\n/**\n * Method for calculate y point\n *\n * @param {Maps} mapObject - Specifies the maps.\n * @param {number} val - Specifies the value.\n * @returns {number} - Returns the number.\n */\nexport function yToCoordinate(mapObject, val) {\n    var latitudeMinMax = mapObject.baseMapBounds.latitude;\n    return Math.round(mapObject.mapAreaRect.height * (val - latitudeMinMax.min) / (latitudeMinMax.max - latitudeMinMax.min) * 100) / 100;\n}\n/**\n * Method for calculate aitoff projection\n *\n * @param {number} x - Specifies the x value.\n * @param {number} y - Specifies the y value.\n * @returns {Point} - Returns the point value.\n */\nexport function aitoff(x, y) {\n    var cosy = Math.cos(y);\n    var sincia = sinci(acos(cosy * Math.cos(x /= 2)));\n    return new Point(2 * cosy * Math.sin(x) * sincia, Math.sin(y) * sincia);\n}\n/**\n * Method to round the number\n *\n * @param {number} a - Specifies the a value\n * @param {number} b - Specifies the b value\n * @returns {number} - Returns the number\n */\nexport function roundTo(a, b) {\n    var c = Math.pow(10, b);\n    return (Math.round(a * c) / c);\n}\n/**\n *\n * @param {number} x - Specifies the x value\n * @returns {number} - Returns the number\n */\nexport function sinci(x) {\n    return x / Math.sin(x);\n}\n/**\n *\n * @param {number} a - Specifies the a value\n * @returns {number} - Returns the number\n */\nexport function acos(a) {\n    return Math.acos(a);\n}\n/**\n * Method to calculate bound\n *\n * @param {number} value Specifies the value\n * @param {number} min Specifies the minimum value\n * @param {number} max Specifies the maximum value\n * @returns {number} Returns the value\n */\nexport function calculateBound(value, min, max) {\n    if (!isNullOrUndefined(min)) {\n        value = Math.max(value, min);\n    }\n    if (!(isNullOrUndefined(max))) {\n        value = Math.min(value, max);\n    }\n    return value;\n}\n/**\n * To trigger the download element\n *\n * @param {string} fileName Specifies the file name\n * @param {ExportType} type Specifies the type\n * @param {string} url Specifies the url\n * @param {boolean} isDownload Specifies whether download a file.\n * @returns {void}\n */\nexport function triggerDownload(fileName, type, url, isDownload) {\n    createElement('a', {\n        attrs: {\n            'download': fileName + '.' + type.toLocaleLowerCase(),\n            'href': url\n        }\n    }).dispatchEvent(new MouseEvent(isDownload ? 'click' : 'move', {\n        view: window,\n        bubbles: false,\n        cancelable: true\n    }));\n}\n/**\n * Map internal class for point\n */\nvar Point = /** @class */ (function () {\n    function Point(x, y) {\n        this.x = x;\n        this.y = y;\n    }\n    return Point;\n}());\nexport { Point };\n/**\n * Map internal class for min and max\n *\n */\nvar MinMax = /** @class */ (function () {\n    function MinMax(min, max) {\n        this.min = min;\n        this.max = max;\n    }\n    return MinMax;\n}());\nexport { MinMax };\n/**\n * Map internal class locations\n */\nvar GeoLocation = /** @class */ (function () {\n    function GeoLocation(latitude, longitude) {\n        this.latitude = new MinMax(latitude.min, latitude.max);\n        this.longitude = new MinMax(longitude.min, longitude.max);\n    }\n    return GeoLocation;\n}());\nexport { GeoLocation };\n/**\n * Function to measure the height and width of the text.\n *\n * @param  {string} text Specifies the text\n * @param  {FontModel} font Specifies the font\n * @returns {Size} Returns the size\n * @private\n */\nexport function measureText(text, font) {\n    var measureObject = document.getElementById('mapsmeasuretext');\n    if (measureObject === null) {\n        measureObject = createElement('text', { id: 'mapsmeasuretext' });\n        document.body.appendChild(measureObject);\n    }\n    measureObject.innerHTML = text;\n    measureObject.style.position = 'absolute';\n    if (typeof (font.size) === 'number') {\n        measureObject.style.fontSize = (font.size) + 'px';\n    }\n    else {\n        measureObject.style.fontSize = font.size;\n    }\n    measureObject.style.fontWeight = font.fontWeight;\n    measureObject.style.fontStyle = font.fontStyle;\n    measureObject.style.fontFamily = font.fontFamily;\n    measureObject.style.visibility = 'hidden';\n    measureObject.style.top = '-100';\n    measureObject.style.left = '0';\n    measureObject.style.whiteSpace = 'nowrap';\n    // For bootstrap line height issue\n    measureObject.style.lineHeight = 'normal';\n    return new Size(measureObject.clientWidth, measureObject.clientHeight);\n}\n/**\n * Internal use of text options\n *\n * @private\n */\nvar TextOption = /** @class */ (function () {\n    function TextOption(id, x, y, anchor, text, transform, baseLine) {\n        if (transform === void 0) { transform = ''; }\n        this.transform = '';\n        this.baseLine = 'auto';\n        this.id = id;\n        this.text = text;\n        this.transform = transform;\n        this.anchor = anchor;\n        this.x = x;\n        this.y = y;\n        this.baseLine = baseLine;\n    }\n    return TextOption;\n}());\nexport { TextOption };\n/**\n * Internal use of path options\n *\n * @private\n */\nvar PathOption = /** @class */ (function () {\n    function PathOption(id, fill, width, color, fillOpacity, strokeOpacity, dashArray, d) {\n        this.id = id;\n        this['fill-opacity'] = fillOpacity;\n        this['stroke-opacity'] = strokeOpacity;\n        this.fill = fill;\n        this.stroke = color;\n        this['stroke-width'] = width;\n        this['stroke-dasharray'] = dashArray;\n        this.d = d;\n    }\n    return PathOption;\n}());\nexport { PathOption };\n/** @private */\nvar ColorValue = /** @class */ (function () {\n    function ColorValue(r, g, b) {\n        this.r = r;\n        this.g = g;\n        this.b = b;\n    }\n    return ColorValue;\n}());\nexport { ColorValue };\n/**\n * Internal use of rectangle options\n *\n * @private\n */\nvar RectOption = /** @class */ (function (_super) {\n    __extends(RectOption, _super);\n    function RectOption(id, fill, border, fillOpacity, rect, rx, ry, transform, dashArray) {\n        var _this = _super.call(this, id, fill, border.width, border.color, fillOpacity, border.opacity) || this;\n        _this.y = rect.y;\n        _this.x = rect.x;\n        _this.height = rect.height;\n        _this.width = rect.width;\n        _this.rx = rx ? rx : 0;\n        _this.ry = ry ? ry : 0;\n        _this.transform = transform ? transform : '';\n        _this['stroke-dasharray'] = dashArray;\n        _this['fill-opacity'] = fillOpacity;\n        _this['stroke-opacity'] = border.opacity;\n        return _this;\n    }\n    return RectOption;\n}(PathOption));\nexport { RectOption };\n/**\n * Internal use of circle options\n *\n * @private\n */\nvar CircleOption = /** @class */ (function (_super) {\n    __extends(CircleOption, _super);\n    function CircleOption(id, fill, border, fillOpacity, cx, cy, r, dashArray) {\n        var _this = _super.call(this, id, fill, border.width, border.color, fillOpacity, border.opacity, dashArray) || this;\n        _this.cy = cy;\n        _this.cx = cx;\n        _this.r = r;\n        _this['stroke-dasharray'] = dashArray;\n        _this['fill-opacity'] = fillOpacity;\n        _this['stroke-opacity'] = border.opacity;\n        return _this;\n    }\n    return CircleOption;\n}(PathOption));\nexport { CircleOption };\n/**\n * Internal use of polygon options\n *\n * @private\n */\nvar PolygonOption = /** @class */ (function (_super) {\n    __extends(PolygonOption, _super);\n    function PolygonOption(id, points, fill, width, color, fillOpacity, strokeOpacity, dashArray) {\n        if (fillOpacity === void 0) { fillOpacity = 1; }\n        if (strokeOpacity === void 0) { strokeOpacity = 1; }\n        if (dashArray === void 0) { dashArray = ''; }\n        var _this = _super.call(this, id, fill, width, color, fillOpacity, strokeOpacity, dashArray) || this;\n        _this.points = points;\n        return _this;\n    }\n    return PolygonOption;\n}(PathOption));\nexport { PolygonOption };\n/**\n * Internal use of polyline options\n *\n * @private\n */\nvar PolylineOption = /** @class */ (function (_super) {\n    __extends(PolylineOption, _super);\n    function PolylineOption(id, points, fill, width, color, fillOpacity, strokeOpacity, dashArray) {\n        if (fillOpacity === void 0) { fillOpacity = 1; }\n        if (strokeOpacity === void 0) { strokeOpacity = 1; }\n        if (dashArray === void 0) { dashArray = ''; }\n        return _super.call(this, id, points, fill, width, color, fillOpacity, strokeOpacity, dashArray) || this;\n    }\n    return PolylineOption;\n}(PolygonOption));\nexport { PolylineOption };\n/**\n * Internal use of line options\n *\n * @private\n */\nvar LineOption = /** @class */ (function (_super) {\n    __extends(LineOption, _super);\n    function LineOption(id, line, fill, width, color, fillOpacity, strokeOpacity, dashArray) {\n        if (fillOpacity === void 0) { fillOpacity = 1; }\n        if (strokeOpacity === void 0) { strokeOpacity = 1; }\n        if (dashArray === void 0) { dashArray = ''; }\n        var _this = _super.call(this, id, fill, width, color, fillOpacity, strokeOpacity, dashArray) || this;\n        _this.x1 = line.x1;\n        _this.y1 = line.y1;\n        _this.x2 = line.x2;\n        _this.y2 = line.y2;\n        return _this;\n    }\n    return LineOption;\n}(PathOption));\nexport { LineOption };\n/**\n * Internal use of line\n *\n * @property {number} Line - Specifies the line class\n */\nvar Line = /** @class */ (function () {\n    function Line(x1, y1, x2, y2) {\n        this.x1 = x1;\n        this.y1 = y1;\n        this.x2 = x2;\n        this.y2 = y2;\n    }\n    return Line;\n}());\nexport { Line };\n/**\n * Internal use of map location type\n *\n */\nvar MapLocation = /** @class */ (function () {\n    function MapLocation(x, y) {\n        this.x = x;\n        this.y = y;\n    }\n    return MapLocation;\n}());\nexport { MapLocation };\n/**\n * Internal use of type rect\n *\n * @private\n */\nvar Rect = /** @class */ (function () {\n    function Rect(x, y, width, height) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n    }\n    return Rect;\n}());\nexport { Rect };\n/**\n * Internal use for pattern creation.\n *\n * @property {PatternOptions} PatternOptions - Specifies the pattern option class.\n */\nvar PatternOptions = /** @class */ (function () {\n    function PatternOptions(id, x, y, width, height, patternUnits, patternContentUnits, patternTransform, href) {\n        if (patternUnits === void 0) { patternUnits = 'userSpaceOnUse'; }\n        if (patternContentUnits === void 0) { patternContentUnits = 'userSpaceOnUse'; }\n        if (patternTransform === void 0) { patternTransform = ''; }\n        if (href === void 0) { href = ''; }\n        this.id = id;\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        this.patternUnits = patternUnits;\n        this.patternContentUnits = patternContentUnits;\n        this.patternTransform = patternTransform;\n        this.href = href;\n    }\n    return PatternOptions;\n}());\nexport { PatternOptions };\n/**\n * Internal rendering of text\n *\n * @param {TextOption} option Specifies the text option\n * @param {FontModel} style Specifies the style\n * @param {string} color Specifies the color\n * @param {HTMLElement | Element} parent Specifies the parent element\n * @param {boolean} isMinus Specifies the boolean value\n * @returns {Element} Returns the html object\n * @private\n */\nexport function renderTextElement(option, style, color, parent, isMinus) {\n    if (isMinus === void 0) { isMinus = false; }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var renderOptions = {\n        'id': option.id,\n        'x': option.x,\n        'y': option.y,\n        'fill': color,\n        'font-size': style.size,\n        'font-style': style.fontStyle,\n        'font-family': style.fontFamily,\n        'font-weight': style.fontWeight,\n        'text-anchor': option.anchor,\n        'transform': option.transform,\n        'opacity': style.opacity,\n        'dominant-baseline': option.baseLine\n    };\n    var text = typeof option.text === 'string' || typeof option.text === 'number' ? option.text : isMinus ? option.text[option.text.length - 1] : option.text[0];\n    var tspanElement;\n    var renderer = new SvgRenderer('');\n    var height;\n    var htmlObject = renderer.createText(renderOptions, text);\n    htmlObject.style['user-select'] = 'none';\n    htmlObject.style['font-family'] = style.fontFamily;\n    htmlObject.style['font-size'] = style.size;\n    htmlObject.style['font-weight'] = style.fontWeight;\n    htmlObject.style['font-color'] = style.color;\n    htmlObject.style['-moz-user-select'] = 'none';\n    htmlObject.style['-webkit-touch-callout'] = 'none';\n    htmlObject.style['-webkit-user-select'] = 'none';\n    htmlObject.style['-khtml-user-select'] = 'none';\n    htmlObject.style['-ms-user-select'] = 'none';\n    htmlObject.style['-o-user-select'] = 'none';\n    if (typeof option.text !== 'string' && option.text.length > 1) {\n        for (var i = 1, len = option.text.length; i < len; i++) {\n            height = (measureText(option.text[i], style).height);\n            tspanElement = renderer.createTSpan({\n                'x': option.x, 'id': option.id,\n                'y': (option.y) + ((isMinus) ? -(i * height) : (i * height))\n            }, isMinus ? option.text[option.text.length - (i + 1)] : option.text[i]);\n            htmlObject.appendChild(tspanElement);\n        }\n    }\n    parent.appendChild(htmlObject);\n    return htmlObject;\n}\n/**\n * @param {HTMLCollection} element Specifies the html collection\n * @param {string} markerId Specifies the marker id\n * @param {any} data Specifies the data\n * @param {number} index Specifies the index\n * @param {Maps} mapObj Specifies the map object\n * @returns {HTMLCollection} Returns the html collection\n * @private\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function convertElement(element, markerId, data, index, mapObj) {\n    var childElement = createElement('div', {\n        id: markerId,\n        styles: 'position: absolute;pointer-events: auto;'\n    });\n    var elementLength = element.length;\n    while (elementLength > 0) {\n        childElement.appendChild(element[0]);\n        elementLength--;\n    }\n    var templateHtml = childElement.innerHTML;\n    var templateSplitValue;\n    var properties = Object.keys(data);\n    for (var i = 0; i < properties.length; i++) {\n        if (typeof data[properties[i]] === 'object') {\n            templateHtml = convertStringToValue(templateHtml, '', data, mapObj);\n            // eslint-disable-next-line @typescript-eslint/ban-types\n        }\n        else if (properties[i].toLowerCase() !== 'latitude' && properties[i].toLowerCase() !== 'longitude') {\n            templateHtml = templateHtml.replace(new RegExp('{{:' + properties[i] + '}}', 'g'), data[properties[i].toString()]);\n        }\n    }\n    childElement.innerHTML = templateHtml;\n    return childElement;\n}\n/**\n *\n * @param {string} value - Specifies the value\n * @param {Maps} maps - Specifies the instance of the maps\n * @returns {string} - Returns the string value\n */\nexport function formatValue(value, maps) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var formatValue;\n    var formatFunction;\n    if (maps.format && !isNaN(Number(value))) {\n        formatFunction = maps.intl.getNumberFormat({ format: maps.format, useGrouping: maps.useGroupingSeparator });\n        formatValue = formatFunction(Number(value));\n    }\n    else {\n        formatValue = value;\n    }\n    return formatValue;\n}\n/**\n *\n * @param {string} stringTemplate - Specifies the template\n * @param {string} format - Specifies the format\n * @param {any} data - Specifies the data\n * @param {Maps} maps - Specifies the instance of the maps\n * @returns {string} - Returns the string value\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function convertStringToValue(stringTemplate, format, data, maps) {\n    var templateHtml = (stringTemplate === '') ? format : stringTemplate;\n    var templateValue = (stringTemplate === '') ? templateHtml.split('${') : templateHtml.split('{{:');\n    for (var i = 0; i < templateValue.length; i++) {\n        if ((templateValue[i].indexOf('}}') > -1 && templateValue[i].indexOf('.') > -1) ||\n            (templateValue[i].indexOf('}') > -1 && templateValue[i].search('.') > -1)) {\n            var split = (stringTemplate === '') ? templateValue[i].split('}') : templateValue[i].split('}}');\n            for (var j = 0; j < split.length; j++) {\n                if (split[j].indexOf('.') > -1) {\n                    var templateSplitValue = (getValueFromObject(data, split[j])).toString();\n                    templateHtml = (stringTemplate === '') ?\n                        templateHtml.split('${' + split[j] + '}').join(formatValue(templateSplitValue, maps)) :\n                        templateHtml.replace(new RegExp('{{:' + split[j] + '}}', 'g'), templateSplitValue);\n                }\n            }\n        }\n    }\n    return templateHtml;\n}\n/**\n *\n * @param {Element} element - Specifies the element\n * @param {string} labelId - Specifies the label id\n * @param {any} data - Specifies the data\n * @param {number} index - Specifies the index\n * @param {Maps} mapObj - Specifies the map object\n * @returns {HTMLElement} - Returns the html element\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function convertElementFromLabel(element, labelId, data, index, mapObj) {\n    var labelEle = isNullOrUndefined(element.childElementCount) ? element[0] : element;\n    var templateHtml = labelEle.outerHTML;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var properties = Object.keys(data);\n    for (var i = 0; i < properties.length; i++) {\n        // eslint-disable-next-line @typescript-eslint/ban-types\n        templateHtml = templateHtml.replace(new RegExp('{{:' + properties[i] + '}}', 'g'), data[properties[i].toString()]);\n    }\n    return createElement('div', {\n        id: labelId,\n        innerHTML: templateHtml,\n        styles: 'position: absolute'\n    });\n}\n/**\n *\n * @param {MarkerType} shape - Specifies the shape\n * @param {string} imageUrl - Specifies the image url\n * @param {Point} location - Specifies the location\n * @param {string} markerID - Specifies the marker id\n * @param {any} shapeCustom - Specifies the shape custom\n * @param {Element} markerCollection - Specifies the marker collection\n * @param {Maps} maps - Specifies the instance of the maps\n * @returns {Element} - Returns the element\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function drawSymbols(shape, imageUrl, location, markerID, shapeCustom, markerCollection, maps) {\n    var markerEle;\n    var x;\n    var y;\n    var size = shapeCustom['size'];\n    var borderColor = shapeCustom['borderColor'];\n    var borderWidth = parseFloat(shapeCustom['borderWidth']);\n    var borderOpacity = parseFloat(shapeCustom['borderOpacity']);\n    var fill = shapeCustom['fill'];\n    var dashArray = shapeCustom['dashArray'];\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var border = { color: borderColor, width: borderWidth, opacity: borderOpacity };\n    var opacity = shapeCustom['opacity'];\n    var padding = 5;\n    var rectOptions;\n    var pathOptions = new PathOption(markerID, fill, borderWidth, borderColor, opacity, borderOpacity, dashArray, '');\n    if (shape === 'Circle') {\n        var radius = (size.width + size.height) / 4;\n        var circleOptions = new CircleOption(markerID, fill, border, opacity, location.x, location.y, radius, dashArray);\n        markerEle = maps.renderer.drawCircle(circleOptions);\n    }\n    else if (shape === 'Rectangle') {\n        x = location.x - (size.width / 2);\n        y = location.y - (size.height / 2);\n        rectOptions = new RectOption(markerID, fill, border, opacity, new Rect(x, y, size.width, size.height), null, null, '', dashArray);\n        markerEle = maps.renderer.drawRectangle(rectOptions);\n    }\n    else if (shape === 'Image') {\n        x = location.x - (size.width / 2);\n        y = location.y - size.height;\n        merge(pathOptions, { 'href': imageUrl, 'height': size.height, 'width': size.width, x: x, y: y });\n        markerEle = maps.renderer.drawImage(pathOptions);\n    }\n    else {\n        markerEle = calculateShapes(maps, shape, pathOptions, size, location, markerCollection);\n    }\n    return markerEle;\n}\n/**\n *\n * @param {any} data - Specifies the data\n * @param {string} value - Specifies the value\n * @returns {any} - Returns the data\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function getValueFromObject(data, value) {\n    if (!isNullOrUndefined(data) && !isNullOrUndefined(value)) {\n        var splits = value.replace(/\\[/g, '.').replace(/\\]/g, '').split('.');\n        if (splits.length === 1) {\n            data = data[splits[0]];\n        }\n        else {\n            for (var i = 0; i < splits.length && !isNullOrUndefined(data); i++) {\n                data = data[splits[i]];\n            }\n        }\n    }\n    return data;\n}\n/**\n *\n * @param {IMarkerRenderingEventArgs} eventArgs - Specifies the event arguments\n * @param {any} data - Specifies the data\n * @returns {IMarkerRenderingEventArgs} - Returns the arguments\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function markerColorChoose(eventArgs, data) {\n    var color = (!isNullOrUndefined(eventArgs.colorValuePath)) ? ((eventArgs.colorValuePath.indexOf('.') > -1) ? (getValueFromObject(data, eventArgs.colorValuePath)).toString() :\n        data[eventArgs.colorValuePath]) : data[eventArgs.colorValuePath];\n    eventArgs.fill = (!isNullOrUndefined(eventArgs.colorValuePath) &&\n        !isNullOrUndefined(color)) ?\n        ((eventArgs.colorValuePath.indexOf('.') > -1) ? (getValueFromObject(data, eventArgs.colorValuePath)).toString() :\n            data[eventArgs.colorValuePath]) : eventArgs.fill;\n    return eventArgs;\n}\n/**\n *\n * @param {IMarkerRenderingEventArgs} eventArgs - Specifies the event arguments\n * @param {any} data - Specifies the data\n * @returns {IMarkerRenderingEventArgs} - Returns the arguments\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function markerShapeChoose(eventArgs, data) {\n    if (!isNullOrUndefined(eventArgs.shapeValuePath) && !isNullOrUndefined(data[eventArgs.shapeValuePath])) {\n        var shape = ((eventArgs.shapeValuePath.indexOf('.') > -1) ?\n            (getValueFromObject(data, eventArgs.shapeValuePath).toString()) :\n            data[eventArgs.shapeValuePath]);\n        eventArgs.shape = (shape.toString() !== \"\") ? shape : eventArgs.shape;\n        if (data[eventArgs.shapeValuePath] === 'Image') {\n            eventArgs.imageUrl = (!isNullOrUndefined(eventArgs.imageUrlValuePath)) ?\n                ((eventArgs.imageUrlValuePath.indexOf('.') > -1) ? getValueFromObject(data, eventArgs.imageUrlValuePath).toString() : (!isNullOrUndefined(data[eventArgs.imageUrlValuePath]) ?\n                    data[eventArgs.imageUrlValuePath] : eventArgs.imageUrl)) : eventArgs.imageUrl;\n        }\n    }\n    else {\n        var shapes = (!isNullOrUndefined(eventArgs.shapeValuePath)) ? ((eventArgs.shapeValuePath.indexOf('.') > -1) ? getValueFromObject(data, eventArgs.shapeValuePath).toString() : eventArgs.shape) : eventArgs.shape;\n        eventArgs.shape = (shapes.toString() !== \"\") ? shapes : eventArgs.shape;\n        var shapeImage = (!isNullOrUndefined(eventArgs.imageUrlValuePath)) ?\n            ((eventArgs.imageUrlValuePath.indexOf('.') > -1) ? getValueFromObject(data, eventArgs.imageUrlValuePath).toString() : (!isNullOrUndefined(data[eventArgs.imageUrlValuePath]) ?\n                data[eventArgs.imageUrlValuePath] : eventArgs.imageUrl)) : eventArgs.imageUrl;\n        eventArgs.imageUrl = shapeImage;\n    }\n    return eventArgs;\n}\n/**\n *\n * @param {LayerSettings} currentLayer - Specifies the current layer\n * @param {HTMLElement | Element} markerTemplate - Specifies the marker template\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {number} layerIndex - Specifies the layer index\n * @param {Element} markerCollection - Specifies the marker collection\n * @param {Element} layerElement - Specifies the layer element\n * @param {boolean} check - Specifies the boolean value\n * @param {boolean} zoomCheck - Specifies the boolean value\n * @returns {void}\n */\nexport function clusterTemplate(currentLayer, markerTemplate, maps, layerIndex, markerCollection, layerElement, check, zoomCheck) {\n    var bounds1;\n    var bounds2;\n    var colloideBounds = [];\n    var clusterColloideBounds = [];\n    var tempX = 0;\n    var tempY = 0;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var data;\n    var style = currentLayer.markerClusterSettings.labelStyle;\n    var options;\n    var textElement;\n    var tempElement1;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var shapeCustom;\n    var tempElement;\n    var postionY = (15 / 4);\n    var m = 0;\n    var indexCollection = [];\n    var clusters = currentLayer.markerClusterSettings;\n    var clusterGroup = maps.renderer.createGroup({ id: maps.element.id + '_LayerIndex_' + layerIndex + '_markerCluster' });\n    var eventArg = {\n        cancel: false, name: markerClusterRendering, fill: clusters.fill, height: clusters.height,\n        width: clusters.width, imageUrl: clusters.imageUrl, shape: clusters.shape,\n        data: data, maps: maps, cluster: clusters, border: clusters.border\n    };\n    maps.trigger('markerClusterRendering', eventArg, function (clusterargs) {\n        for (var o = 0; o < markerTemplate.childElementCount; o++) {\n            indexCollection = [];\n            if (markerTemplate.childNodes[o]['style']['visibility'] !== 'hidden') {\n                tempElement = markerTemplate.childNodes[o];\n                bounds1 = tempElement.getBoundingClientRect();\n                indexCollection.push(o);\n                if (!isNullOrUndefined(bounds1)) {\n                    for (var p = o + 1; p < markerTemplate.childElementCount; p++) {\n                        if (markerTemplate.childNodes[p]['style']['visibility'] !== 'hidden') {\n                            tempElement = markerTemplate.childNodes[p];\n                            bounds2 = tempElement.getBoundingClientRect();\n                            if (!isNullOrUndefined(bounds2)) {\n                                if (!(bounds1.left > bounds2.right || bounds1.right < bounds2.left\n                                    || bounds1.top > bounds2.bottom || bounds1.bottom < bounds2.top)) {\n                                    colloideBounds.push(bounds2);\n                                    markerTemplate.childNodes[p]['style']['visibility'] = 'hidden';\n                                    indexCollection.push(p);\n                                }\n                            }\n                        }\n                    }\n                    tempX = bounds1.left + bounds1.width / 2;\n                    tempY = bounds1.top + bounds1.height;\n                    if (colloideBounds.length > 0) {\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        indexCollection = indexCollection.filter(function (item, index, value) { return value.indexOf(item) === index; });\n                        var container = maps.element.getBoundingClientRect();\n                        tempX = tempX - container['left'];\n                        tempY = (tempY - ((maps.availableSize.height <= container['height']) ?\n                            container['top'] : (container['bottom'] - container['top'])));\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        var translate = (maps.isTileMap) ? new Object() : getTranslate(maps, currentLayer, false);\n                        var transPoint = (maps.isTileMap) ? { x: 0, y: 0 } : (maps.translatePoint.x !== 0) ?\n                            maps.translatePoint : translate['location'];\n                        var dataIndex = parseInt(markerTemplate.childNodes[o]['id'].split('_dataIndex_')[1].split('_')[0], 10);\n                        var markerIndex = parseInt(markerTemplate.childNodes[o]['id'].split('_MarkerIndex_')[1].split('_')[0], 10);\n                        var markerSetting = currentLayer.markerSettings[markerIndex];\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        var markerData = markerSetting.dataSource[dataIndex];\n                        var factor = void 0;\n                        var location_1 = void 0;\n                        var longitude = (!isNullOrUndefined(markerSetting.longitudeValuePath)) ?\n                            Number(getValueFromObject(markerData, markerSetting.longitudeValuePath)) :\n                            !isNullOrUndefined(markerData['longitude']) ? parseFloat(markerData['longitude']) :\n                                !isNullOrUndefined(markerData['Latitude']) ? parseFloat(markerData['Latitude']) : 0;\n                        var latitude = (!isNullOrUndefined(markerSetting.latitudeValuePath)) ?\n                            Number(getValueFromObject(markerData, markerSetting.latitudeValuePath)) :\n                            !isNullOrUndefined(markerData['latitude']) ? parseFloat(markerData['latitude']) :\n                                !isNullOrUndefined(markerData['Latitude']) ? parseFloat(markerData['Latitude']) : 0;\n                        if (!maps.isTileMap) {\n                            factor = maps.mapLayerPanel.calculateFactor(currentLayer);\n                            location_1 = convertGeoToPoint(latitude, longitude, factor, currentLayer, maps);\n                        }\n                        else if (maps.isTileMap && !maps.zoomSettings.enable) {\n                            location_1 = convertTileLatLongToPoint(new Point(longitude, latitude), maps.tileZoomLevel, maps.tileTranslatePoint, true);\n                        }\n                        markerTemplate.childNodes[o]['style']['visibility'] = 'hidden';\n                        var clusters_1 = currentLayer.markerClusterSettings;\n                        if (eventArg.cancel) {\n                            shapeCustom = {\n                                size: new Size(clusters_1.width, clusters_1.height),\n                                fill: clusters_1.fill, borderColor: clusters_1.border.color,\n                                borderWidth: clusters_1.border.width, opacity: clusters_1.opacity,\n                                dashArray: clusters_1.dashArray\n                            };\n                            shapeCustom['fill'] = clusters_1.fill;\n                            shapeCustom['size']['width'] = clusters_1.width;\n                            shapeCustom['size']['height'] = clusters_1.height;\n                            shapeCustom['imageUrl'] = clusters_1.imageUrl;\n                            shapeCustom['shape'] = clusters_1.shape;\n                            shapeCustom['borderColor'] = clusters_1.border.color;\n                            shapeCustom['borderWidth'] = clusters_1.border.width;\n                            shapeCustom['borderOpacity'] = isNullOrUndefined(clusters_1.border.opacity) ? clusters_1.opacity : clusters_1.border.opacity;\n                        }\n                        else {\n                            shapeCustom = {\n                                size: new Size(clusters_1.width, clusters_1.height),\n                                fill: clusters_1.fill, borderColor: clusters_1.border.color,\n                                borderWidth: clusters_1.border.width, opacity: clusters_1.opacity,\n                                dashArray: clusters_1.dashArray\n                            };\n                            shapeCustom['fill'] = eventArg.fill;\n                            shapeCustom['size']['width'] = eventArg.width;\n                            shapeCustom['size']['height'] = eventArg.height;\n                            shapeCustom['imageUrl'] = eventArg.imageUrl;\n                            shapeCustom['shape'] = eventArg.shape;\n                            shapeCustom['borderColor'] = eventArg.border.color;\n                            shapeCustom['borderWidth'] = eventArg.border.width;\n                            shapeCustom['borderOpacity'] = isNullOrUndefined(eventArg.border.opacity) ? clusters_1.opacity : eventArg.border.opacity;\n                        }\n                        tempX = (maps.isTileMap) ? tempX : (markerTemplate.id.indexOf('_Markers_Group') > -1) ? tempX : ((location_1.x + transPoint.x + eventArg.width) * maps.mapScaleValue);\n                        tempY = (maps.isTileMap) ? tempY : (markerTemplate.id.indexOf('_Markers_Group') > -1) ? tempY : ((location_1.y + transPoint.y + (eventArg.height / 2)) * maps.mapScaleValue);\n                        if (maps.isTileMap && !maps.zoomSettings.enable) {\n                            tempX = location_1.x;\n                            tempY = location_1.y;\n                        }\n                        var clusterID = maps.element.id + '_LayerIndex_' + layerIndex + '_MarkerIndex_' + markerIndex + '_dataIndex_' + dataIndex + '_cluster_' + (m);\n                        var labelID = maps.element.id + '_LayerIndex_' + layerIndex + '_MarkerIndex_' + markerIndex + '_dataIndex_' + dataIndex + '_cluster_' + (m) + '_datalabel_' + m;\n                        m++;\n                        var imageShapeY = shapeCustom['shape'] === 'Image' ? shapeCustom['size']['height'] / 2 : 0;\n                        var ele = drawSymbols(shapeCustom['shape'], shapeCustom['imageUrl'], { x: 0, y: imageShapeY }, clusterID, shapeCustom, markerCollection, maps);\n                        ele.setAttribute('transform', 'translate( ' + tempX + ' ' + tempY + ' )');\n                        if (eventArg.shape === 'Balloon') {\n                            ele.children[0].innerHTML = indexCollection.toString();\n                        }\n                        else {\n                            ele.innerHTML = indexCollection.toString();\n                        }\n                        options = new TextOption(labelID, (0), postionY, 'middle', (colloideBounds.length + 1).toString(), '', '');\n                        textElement = renderTextElement(options, style, style.color, markerCollection);\n                        textElement.setAttribute('transform', 'translate( ' + tempX + ' ' + tempY + ' )');\n                        clusterGroup.appendChild(textElement);\n                        clusterGroup.appendChild(ele);\n                    }\n                }\n                colloideBounds = [];\n            }\n        }\n        layerElement.appendChild(clusterGroup);\n        maps.svgObject.appendChild(layerElement);\n        maps.element.appendChild(maps.svgObject);\n        for (var o = 0; o < clusterGroup.childElementCount; o++) {\n            if (clusterGroup.childNodes[o]['style']['visibility'] !== 'hidden') {\n                tempElement = clusterGroup.childNodes[o];\n                bounds1 = tempElement.getBoundingClientRect();\n                if (!isNullOrUndefined(bounds1) && !(tempElement.id.indexOf('_datalabel_') > -1)) {\n                    for (var p = o + 1; p < clusterGroup.childElementCount; p++) {\n                        if (clusterGroup.childNodes[p]['style']['visibility'] !== 'hidden') {\n                            tempElement1 = clusterGroup.childNodes[p];\n                            bounds2 = tempElement1.getBoundingClientRect();\n                            if (!isNullOrUndefined(bounds2) && !(tempElement1.id.indexOf('_datalabel_') > -1)) {\n                                if (!(bounds1.left > bounds2.right || bounds1.right < bounds2.left\n                                    || bounds1.top > bounds2.bottom || bounds1.bottom < bounds2.top)) {\n                                    clusterColloideBounds.push(tempElement1);\n                                    clusterColloideBounds.push(clusterGroup.childNodes[p - 1]);\n                                    clusterGroup.childNodes[p]['style']['visibility'] = 'hidden';\n                                    clusterGroup.childNodes[p - 1]['style']['visibility'] = 'hidden';\n                                    indexCollection.push(p);\n                                }\n                            }\n                        }\n                    }\n                    if (clusterColloideBounds.length > 0) {\n                        tempElement = clusterGroup.childNodes[o];\n                        for (var i = 0; i < clusterColloideBounds.length; i++) {\n                            if (tempElement.tagName === 'g') {\n                                tempElement.childNodes[0].textContent = tempElement.childNodes[0].textContent + ',' +\n                                    clusterColloideBounds[i].textContent;\n                            }\n                            else {\n                                tempElement.textContent = tempElement.textContent + ',' + clusterColloideBounds[i].textContent;\n                            }\n                            clusterGroup.childNodes[o - 1].textContent = ((+(clusterGroup.childNodes[o - 1].textContent)) + (+(clusterColloideBounds[i + 1].textContent))).toString();\n                            i++;\n                        }\n                    }\n                    clusterColloideBounds = [];\n                }\n            }\n        }\n        while (0 < clusterGroup.childNodes.length) {\n            markerCollection.insertBefore(clusterGroup.childNodes[0], markerCollection.firstChild);\n        }\n        if (check) {\n            layerElement.appendChild(markerCollection);\n        }\n        else {\n            getElementByID(maps.element.id + '_Secondary_Element').appendChild(markerCollection);\n            layerElement.appendChild(markerCollection);\n        }\n        var markerCluster = document.getElementById(maps.element.id + '_LayerIndex_0_markerCluster');\n        if (!isNullOrUndefined(markerCluster)) {\n            markerCluster.remove();\n        }\n        if (zoomCheck) {\n            document.getElementById(maps.element.id + '_Layer_Collections').appendChild(layerElement);\n        }\n    });\n}\n/**\n *\n * @param {MarkerClusterData[]} sameMarkerData - Specifies the marker data\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {Element | HTMLElement} markerElement - Specifies the marker element\n * @returns {void}\n */\nexport function mergeSeparateCluster(sameMarkerData, maps, markerElement) {\n    var layerIndex = sameMarkerData[0].layerIndex;\n    var clusterIndex = sameMarkerData[0].targetClusterIndex;\n    var markerIndex = sameMarkerData[0].markerIndex;\n    var dataIndex = sameMarkerData[0].dataIndex;\n    var markerId = maps.element.id + '_LayerIndex_' + layerIndex + '_MarkerIndex_' + markerIndex;\n    var clusterId = markerId + '_dataIndex_' + dataIndex + '_cluster_' + clusterIndex;\n    var clusterEle = getElement(clusterId);\n    var clusterEleLabel = getElement(clusterId + '_datalabel_' + clusterIndex);\n    clusterEle.setAttribute('visibility', 'visible');\n    clusterEleLabel.setAttribute('visibility', 'visible');\n    var markerEle;\n    var markerDataLength = sameMarkerData[0].data.length;\n    for (var i = 0; i < markerDataLength; i++) {\n        markerEle = getElement(markerId + '_dataIndex_' + sameMarkerData[0].data[i]['index']);\n        markerEle['style']['visibility'] = 'hidden';\n    }\n    removeElement(maps.element.id + '_LayerIndex_' + layerIndex + '_MarkerIndex_' + markerIndex + '_markerClusterConnectorLine');\n}\n/**\n *\n * @param {MarkerClusterData[]} sameMarkerData - Specifies the marker data\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {Element | HTMLElement} markerElement - Specifies the marker element\n * @param {boolean} isDom - Specifies the boolean value\n * @returns {void}\n */\nexport function clusterSeparate(sameMarkerData, maps, markerElement, isDom) {\n    var layerIndex = sameMarkerData[0].layerIndex;\n    var markerIndex = sameMarkerData[0].markerIndex;\n    var clusterIndex = sameMarkerData[0].targetClusterIndex;\n    var dataIndex = sameMarkerData[0].dataIndex;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var getElementFunction = isDom ? getElement : markerElement.querySelector.bind(markerElement);\n    var getQueryConnect = isDom ? '' : '#';\n    var markerId = maps.element.id + '_LayerIndex_' + layerIndex + '_MarkerIndex_' + markerIndex;\n    var clusterId = markerId + '_dataIndex_' + dataIndex + '_cluster_' + clusterIndex;\n    var clusterEle = getElementFunction(getQueryConnect + '' + clusterId);\n    var clusterEleLabel = getElementFunction(getQueryConnect + '' + clusterId + '_datalabel_' + clusterIndex);\n    clusterEle.setAttribute('visibility', 'hidden');\n    clusterEleLabel.setAttribute('visibility', 'hidden');\n    var marker = maps.layers[layerIndex].markerSettings[markerIndex];\n    var markerEle = getElementFunction(getQueryConnect + '' + markerId + '_dataIndex_' + dataIndex);\n    var height = markerEle.parentElement.id.indexOf('Template_Group') > -1 ? markerEle.getBoundingClientRect().height : marker.height;\n    var width = markerEle.parentElement.id.indexOf('Template_Group') > -1 ? markerEle.getBoundingClientRect().width : marker.width;\n    var centerX = +clusterEle.getAttribute('transform').split('translate(')[1].trim().split(' ')[0];\n    var centerY = +clusterEle.getAttribute('transform').split('translate(')[1].trim().split(' ')[1].split(')')[0].trim();\n    var radius = width + 5;\n    var area = 2 * 3.14 * radius;\n    var totalMarker = 0;\n    var numberOfMarker = Math.round(area / width);\n    totalMarker += numberOfMarker;\n    var markerDataLength = sameMarkerData[0].data.length;\n    var percent = Math.round((height / area) * 100);\n    percent = markerDataLength < numberOfMarker ? 100 / markerDataLength : percent;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var angle = (percent / 100) * 360;\n    var newAngle = markerDataLength < numberOfMarker ? 45 : 0;\n    var count = 1;\n    var start = 'M ' + centerX + ' ' + centerY + ' ';\n    var path = '';\n    for (var i = 0; i < markerDataLength; i++) {\n        if (totalMarker === i || Math.round(newAngle) >= 360) {\n            count++;\n            radius = (width + 5) * count;\n            newAngle = 0;\n            area = 2 * 3.14 * radius;\n            numberOfMarker = Math.round(area / height);\n            percent = Math.round((height / area) * 100);\n            while (percent * numberOfMarker < 100) {\n                numberOfMarker++;\n            }\n            angle = ((percent / 100) * 360);\n            totalMarker += numberOfMarker;\n        }\n        var x1 = centerX + radius * Math.sin((Math.PI * 2 * newAngle) / 360);\n        var y1 = centerY + radius * Math.cos((Math.PI * 2 * newAngle) / 360);\n        path += start + 'L ' + (x1) + ' ' + y1 + ' ';\n        markerEle = getElementFunction(getQueryConnect + '' + markerId + '_dataIndex_' + sameMarkerData[0].data[i]['index']);\n        if (markerEle.parentElement.id.indexOf('Template_Group') > -1) {\n            markerEle['style']['transform'] = '';\n            markerEle['style']['left'] = maps.isTileMap ? x1 - (width / 2) + 'px' : (x1 - (width / 2) - 10) + 'px';\n            markerEle['style']['top'] = maps.isTileMap ? y1 - (height / 2) + 'px' : (y1 - (height / 2) - 10) + 'px';\n            markerEle.setAttribute('transform', 'translate( ' + x1 + ' ' + y1 + ')');\n        }\n        else {\n            markerEle.setAttribute('transform', 'translate( ' + x1 + ' ' + y1 + ')');\n        }\n        markerEle['style']['visibility'] = 'visible';\n        newAngle += angle;\n    }\n    var connectorLine = maps.layers[layerIndex].markerClusterSettings.connectorLineSettings;\n    var options = {\n        d: path, id: maps.element.id + '_LayerIndex_' + layerIndex + '_MarkerIndex_' + markerIndex + '_dataIndex_' + dataIndex + '_markerClusterConnectorLine', stroke: connectorLine.color,\n        'fill-opacity': connectorLine.opacity, 'stroke-opacity': connectorLine.opacity, 'stroke-width': connectorLine.width\n    };\n    markerElement = isDom ? getElementFunction(maps.element.id + '_Markers_Group') : markerElement;\n    var groupEle = maps.renderer.createGroup({ id: maps.element.id + '_LayerIndex_' + layerIndex + '_MarkerIndex_' + markerIndex + '_markerClusterConnectorLine' });\n    groupEle.appendChild(maps.renderer.drawPath(options));\n    markerElement.insertBefore(groupEle, markerElement.querySelector('#' + markerId + '_dataIndex_0'));\n}\n/**\n *\n * @param {IMarkerRenderingEventArgs} eventArgs - Specifies the arguments\n * @param {MarkerSettings} markerSettings - Specifies the marker settings\n * @param {any[]} markerData - Specifies the marker data\n * @param {number} dataIndex - Specifies the data index\n * @param {Point} location - Specifies the location\n * @param {Point} transPoint - Specifies the translate point\n * @param {string} markerID - Specifies the marker id\n * @param {Point} offset - Specifies the offset value\n * @param {number} scale - Specifies the scale value\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {Element} markerCollection - Specifies the marker collection\n * @returns {Element} - Returns the element\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function marker(eventArgs, markerSettings, markerData, dataIndex, location, transPoint, markerID, offset, scale, maps, markerCollection) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var shapeCustom = {\n        size: new Size(eventArgs.width, eventArgs.height),\n        fill: eventArgs.fill, borderColor: eventArgs.border.color,\n        borderWidth: eventArgs.border.width, opacity: markerSettings.opacity,\n        dashArray: markerSettings.dashArray, borderOpacity: isNullOrUndefined(eventArgs.border.opacity) ? markerSettings.opacity :\n            eventArgs.border.opacity\n    };\n    var ele = drawSymbols(eventArgs.shape, eventArgs.imageUrl, { x: 0, y: 0 }, markerID, shapeCustom, markerCollection, maps);\n    var x = (maps.isTileMap ? location.x : (location.x + transPoint.x) * scale) + offset.x;\n    var y = (maps.isTileMap ? location.y : (location.y + transPoint.y) * scale) + offset.y;\n    ele.setAttribute('transform', 'translate( ' + x + ' ' + y + ' )');\n    maintainSelection(maps.selectedMarkerElementId, maps.markerSelectionClass, ele, 'MarkerselectionMapStyle');\n    markerCollection.appendChild(ele);\n    var element = (markerData.length - 1) === dataIndex ? 'marker' : null;\n    var markerPoint = new Point(x, y);\n    if (markerSettings.animationDuration > 0) {\n        elementAnimate(ele, markerSettings.animationDelay, markerSettings.animationDuration, markerPoint, maps, element);\n    }\n    return markerCollection;\n}\n/**\n *\n * @param {IMarkerRenderingEventArgs} eventArgs - Specifies the arguments\n * @param {any} templateFn - Specifies the template function\n * @param {string} markerID - Specifies the marker id\n * @param {any} data - Specifies the data\n * @param {number} markerIndex - Specifies the marker index\n * @param {HTMLElement} markerTemplate - Specifies the marker template element\n * @param {Point} location - Specifies the location\n * @param {Point} transPoint - Specifies the translate point.\n * @param {number} scale - Specifies the scale value\n * @param {Point} offset - Specifies the offset value\n * @param {Maps} maps - Specifies the instance of the maps\n * @returns {HTMLElement} - Returns the html element\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function markerTemplate(eventArgs, templateFn, markerID, data, markerIndex, markerTemplate, location, transPoint, scale, offset, maps) {\n    templateFn = getTemplateFunction(eventArgs.template);\n    if (templateFn && (templateFn(data, maps, eventArgs.template, maps.element.id + '_MarkerTemplate' + markerIndex, false).length)) {\n        var templateElement = templateFn(data, maps, eventArgs.template, maps.element.id + '_MarkerTemplate' + markerIndex, false);\n        var markerElement = convertElement(templateElement, markerID, data, markerIndex, maps);\n        for (var i = 0; i < markerElement.children.length; i++) {\n            markerElement.children[i].style.pointerEvents = 'none';\n        }\n        markerElement.style.left = (maps.isTileMap ? location.x : (location.x + transPoint.x) * scale) + offset.x - maps.mapAreaRect.x + 'px';\n        markerElement.style.top = (maps.isTileMap ? location.y : (location.y + transPoint.y) * scale) + offset.y - maps.mapAreaRect.y + 'px';\n        markerTemplate.appendChild(markerElement);\n        if (maps.layers[maps.baseLayerIndex].layerType === 'GoogleStaticMap') {\n            var staticMapOffset = getElementByID(maps.element.id + '_StaticGoogleMap').getBoundingClientRect();\n            var markerElementOffset = markerElement.getBoundingClientRect();\n            var staticMapOffsetWidth = 640;\n            if ((staticMapOffset['x'] > markerElementOffset['x'] || staticMapOffset['x'] + staticMapOffsetWidth < markerElementOffset['x'] + markerElementOffset['width'])\n                && (staticMapOffset['y'] > markerElementOffset['y'] || staticMapOffset['y'] + staticMapOffset['height'] < markerElementOffset['y'] + markerElementOffset['height'])) {\n                markerElement.style.display = 'none';\n            }\n        }\n    }\n    return markerTemplate;\n}\n/**\n * To maintain selection during page resize\n *\n * @param {string[]} elementId - Specifies the element id\n * @param {Element} elementClass - Specifies the element class\n * @param {Element} element - Specifies the element\n * @param {string} className - Specifies the class name\n * @returns {void}\n * @private\n */\nexport function maintainSelection(elementId, elementClass, element, className) {\n    if (elementId) {\n        for (var index = 0; index < elementId.length; index++) {\n            if (element.getAttribute('id') === elementId[index]) {\n                if (isNullOrUndefined(getElement(elementClass.id)) || index === 0) {\n                    document.body.appendChild(elementClass);\n                    if (element.id.indexOf('_MarkerIndex_') > -1 && element.childElementCount > 0) {\n                        element.children[0].setAttribute('class', className);\n                    }\n                }\n                element.setAttribute('class', className);\n            }\n        }\n    }\n}\n/**\n * To maintain selection style class\n *\n * @param {string} id - Specifies the id\n * @param {string} idClass - Specifies the class id\n * @param {string} fill - Specifies the fill\n * @param {string} opacity - Specifies the opactiy\n * @param {string} borderColor - Specifies the border color\n * @param {string} borderWidth - Specifies the border width\n * @param {Maps} maps - Specifies the maps\n * @returns {void}\n * @private\n */\nexport function maintainStyleClass(id, idClass, fill, opacity, borderColor, borderWidth, maps) {\n    if (!getElement(id)) {\n        var styleClass = createElement('style', {\n            id: id, innerHTML: '.' + idClass + '{fill:'\n                + fill + ';' + 'opacity:' + opacity + ';' +\n                'stroke-width:' + borderWidth + ';' +\n                'stroke:' + borderColor + ';' + '}'\n        });\n        maps.shapeSelectionClass = styleClass;\n        document.body.appendChild(styleClass);\n    }\n}\n/**\n * Internal use of append shape element\n *\n * @param {Element} shape - Specifies the shape\n * @param {Element} element - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\nexport function appendShape(shape, element) {\n    if (element) {\n        element.appendChild(shape);\n    }\n    return shape;\n}\n/**\n * Internal rendering of Circle\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {CircleOption} options - Specifies the circle options\n * @param {Element} element - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\nexport function drawCircle(maps, options, element) {\n    return appendShape(maps.renderer.drawCircle(options), element);\n}\n/**\n * Internal rendering of Rectangle\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {RectOption} options - Specifies the rect options\n * @param {Element} element - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\nexport function drawRectangle(maps, options, element) {\n    return appendShape(maps.renderer.drawRectangle(options), element);\n}\n/**\n * Internal rendering of Path\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {PathOption} options - Specifies the polygon options\n * @param {Element} element - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\nexport function drawPath(maps, options, element) {\n    return appendShape(maps.renderer.drawPath(options), element);\n}\n/**\n * Internal rendering of Polygon\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {PolygonOption} options - Specifies the polygon options\n * @param {Element} element - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\nexport function drawPolygon(maps, options, element) {\n    return appendShape(maps.renderer.drawPolygon(options), element);\n}\n/**\n * Internal rendering of Polyline\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {PolylineOption} options - Specifies the poly line options\n * @param {Element} element - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\nexport function drawPolyline(maps, options, element) {\n    return appendShape(maps.renderer.drawPolyline(options), element);\n}\n/**\n * Internal rendering of Line\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {LineOption} options - Specifies the line options\n * @param {Element} element - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\nexport function drawLine(maps, options, element) {\n    return appendShape(maps.renderer.drawLine(options), element);\n}\n/**\n * Calculate marker shapes\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {MarkerType} shape - Specifies the marker type\n * @param {PathOption} options - Specifies the path options\n * @param {Size} size - Specifies the size\n * @param {MapLocation} location - Specifies the map location\n * @param {Element} markerEle - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\nexport function calculateShapes(maps, shape, options, size, location, markerEle) {\n    var tempGroup;\n    switch (shape) {\n        case 'Balloon':\n            tempGroup = drawBalloon(maps, options, size, location, 'Marker', markerEle);\n            break;\n        case 'Cross':\n            options.d = 'M ' + location.x + ' ' + (location.y - size.height / 2) + ' L ' + location.x + ' ' + (location.y + size.height\n                / 2) + ' M ' + (location.x - size.width / 2) + ' ' + location.y + ' L ' + (location.x + size.width / 2) + ' ' + location.y;\n            break;\n        case 'Diamond':\n            options.d = 'M ' + location.x + ' ' + (location.y - size.height / 2) + ' L ' + (location.x + size.width / 2) + ' '\n                + location.y + ' L ' + location.x + ' ' + (location.y + size.height / 2) + ' L ' + (location.x - size.width / 2)\n                + ' ' + location.y + ' Z';\n            break;\n        case 'Star':\n            options.d = 'M ' + (location.x + size.width / 3) + ' ' + (location.y - size.height / 2) + ' L ' + (location.x - size.width / 2)\n                + ' ' + (location.y + size.height / 6) + ' L ' + (location.x + size.width / 2) + ' ' + (location.y + size.height / 6)\n                + ' L ' + (location.x - size.width / 3) + ' ' + (location.y - size.height / 2) + ' L ' + location.x + ' ' +\n                (location.y + size.height / 2) + ' L ' + (location.x + size.width / 3) + ' ' + (location.y - size.height / 2) + ' Z';\n            break;\n        case 'Triangle':\n            options.d = 'M ' + location.x + ' ' + (location.y - size.height / 2) + ' L ' + (location.x + size.width / 2) + ' ' +\n                (location.y + size.height / 2) + ' L ' + (location.x - size.width / 2) + ' ' + (location.y + size.height / 2) + ' Z';\n            break;\n        case 'HorizontalLine':\n            options.d = ' M ' + (location.x - size.width / 2) + ' ' + location.y + ' L ' + (location.x + size.width / 2) + ' '\n                + location.y;\n            break;\n        case 'VerticalLine':\n            options.d = 'M ' + location.x + ' ' + (location.y - size.height / 2) + ' L ' + location.x + ' ' +\n                (location.y + size.height / 2);\n            break;\n        case 'InvertedTriangle':\n            options.d = 'M ' + (location.x - size.width / 2) + ' ' + (location.y - size.height / 2) + ' L ' + (location.x + size.width / 2) + ' ' +\n                (location.y - size.height / 2) + ' L ' + (location.x) + ' ' + (location.y + size.height / 2) + ' Z';\n            break;\n        case 'Pentagon':\n            // eslint-disable-next-line no-case-declarations\n            var eq = 72;\n            var xValue = void 0;\n            var yValue = void 0;\n            for (var i = 0; i < 5; i++) {\n                xValue = (size.width / 2) * Math.cos((Math.PI / 180) * (i * eq));\n                yValue = (size.height / 2) * Math.sin((Math.PI / 180) * (i * eq));\n                options.d += (i === 0 ? 'M ' : 'L ') + (location.x + xValue) + ' ' + (location.y + yValue);\n            }\n            options.d += ' Z';\n            break;\n    }\n    if (shape === 'Cross' || shape === 'HorizontalLine' || shape === 'VerticalLine') {\n        options['stroke'] = (options['stroke'] === 'transparent') ? options['fill'] : options['stroke'];\n    }\n    return shape === 'Balloon' ? tempGroup : maps.renderer.drawPath(options);\n}\n/**\n * Internal rendering of Diamond\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {PathOption} options - Specifies the path options\n * @param {Size} size - Specifies the size\n * @param {MapLocation} location - Specifies the map location\n * @param {Element} element - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\nexport function drawDiamond(maps, options, size, location, element) {\n    options.d = 'M ' + location.x + ' ' + (location.y - size.height / 2) + ' L ' + (location.x + size.width / 2) + ' ' + location.y +\n        ' L ' + location.x + ' ' + (location.y + size.height / 2) + ' L ' + (location.x - size.width / 2) + ' ' + location.y + ' Z';\n    return appendShape(maps.renderer.drawPath(options), element);\n}\n/**\n * Internal rendering of Triangle\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {PathOption} options - Specifies the path options\n * @param {Size} size - Specifies the size\n * @param {MapLocation} location - Specifies the map location\n * @param {Element} element - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\nexport function drawTriangle(maps, options, size, location, element) {\n    options.d = 'M ' + location.x + ' ' + (location.y - size.height / 2) + ' L ' + (location.x + size.width / 2) + ' ' +\n        (location.y + size.height / 2) + ' L ' + (location.x - size.width / 2) + ' ' + (location.y + size.height / 2) + ' Z';\n    return appendShape(maps.renderer.drawPath(options), element);\n}\n/**\n * Internal rendering of Cross\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {PathOption} options - Specifies the path options\n * @param {Size} size - Specifies the size\n * @param {MapLocation} location - Specifies the map location\n * @param {Element} element - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\nexport function drawCross(maps, options, size, location, element) {\n    options.d = 'M ' + location.x + ' ' + (location.y - size.height / 2) + ' L ' + location.x + ' ' + (location.y + size.height / 2) +\n        ' M ' + (location.x - size.width / 2) + ' ' + location.y + ' L ' + (location.x + size.width / 2) + ' ' + location.y;\n    return appendShape(maps.renderer.drawPath(options), element);\n}\n/**\n * Internal rendering of HorizontalLine\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {PathOption} options - Specifies the path options\n * @param {Size} size - Specifies the size\n * @param {MapLocation} location - Specifies the map location\n * @param {Element} element - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\nexport function drawHorizontalLine(maps, options, size, location, element) {\n    options.d = ' M ' + (location.x - size.width / 2) + ' ' + location.y + ' L ' + (location.x + size.width / 2) + ' ' + location.y;\n    return appendShape(maps.renderer.drawPath(options), element);\n}\n/**\n * Internal rendering of VerticalLine\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {PathOption} options - Specifies the path options\n * @param {Size} size - Specifies the size\n * @param {MapLocation} location - Specifies the map location\n * @param {Element} element - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\nexport function drawVerticalLine(maps, options, size, location, element) {\n    options.d = 'M ' + location.x + ' ' + (location.y - size.height / 2) + ' L ' + location.x + ' ' + (location.y + size.height / 2);\n    return appendShape(maps.renderer.drawPath(options), element);\n}\n/**\n * Internal rendering of Star\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {PathOption} options - Specifies the path options\n * @param {Size} size - Specifies the size\n * @param {MapLocation} location - Specifies the map location\n * @param {Element} element - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\nexport function drawStar(maps, options, size, location, element) {\n    options.d = 'M ' + (location.x + size.width / 3) + ' ' + (location.y - size.height / 2) + ' L ' + (location.x - size.width / 2)\n        + ' ' + (location.y + size.height / 6) + ' L ' + (location.x + size.width / 2) + ' ' + (location.y + size.height / 6) + ' L '\n        + (location.x - size.width / 3) + ' ' + (location.y - size.height / 2) + ' L ' + location.x + ' ' + (location.y + size.height / 2)\n        + ' L ' + (location.x + size.width / 3) + ' ' + (location.y - size.height / 2) + ' Z';\n    return appendShape(maps.renderer.drawPath(options), element);\n}\n/**\n * Internal rendering of Balloon\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {PathOption} options - Specifies the path options\n * @param {Size} size - Specifies the size\n * @param {MapLocation} location - Specifies the map location\n * @param {Element} element - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\nexport function drawBalloon(maps, options, size, location, type, element) {\n    var width = size.width;\n    var height = size.height;\n    var pathElement;\n    location.x -= width / 2;\n    location.y -= height;\n    options.d = 'M15,0C8.8,0,3.8,5,3.8,11.2C3.8,17.5,9.4,24.4,15,30c5.6-5.6,11.2-12.5,11.2-18.8C26.2,5,21.2,0,15,0z M15,16' +\n        'c-2.8,0-5-2.2-5-5s2.2-5,5-5s5,2.2,5,5S17.8,16,15,16z';\n    var balloon = maps.renderer.drawPath(options);\n    var x = size.width / 30;\n    var y = size.height / 30;\n    balloon.setAttribute('transform', 'translate(' + location.x + ', ' + location.y + ') scale(' + x + ', ' + y + ')');\n    if (type === 'Marker') {\n        var g = maps.renderer.createGroup({ id: options.id });\n        appendShape(balloon, g);\n        pathElement = appendShape(g, element);\n    }\n    else {\n        pathElement = balloon;\n    }\n    return pathElement;\n}\n/**\n * Internal rendering of Pattern\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {PatternOptions} options - Specifies the pattern options\n * @param {Element[]} elements - Specifies the elements\n * @param {Element} element - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\nexport function drawPattern(maps, options, elements, element) {\n    var pattern = maps.renderer.createPattern(options, 'pattern');\n    for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n        var ele = elements_1[_i];\n        appendShape(ele, pattern);\n    }\n    return appendShape(pattern, element);\n}\n/**\n * Method to get specific field and vaues from data.\n *\n * @param {any[]} dataSource - Specifies the data source\n * @param {string[]} fields - Specifies the fields\n * @returns {any[]} - Returns the object\n * @private\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function getFieldData(dataSource, fields) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var newData = [];\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var data;\n    for (var _i = 0, dataSource_1 = dataSource; _i < dataSource_1.length; _i++) {\n        var temp = dataSource_1[_i];\n        data = {};\n        for (var _a = 0, fields_1 = fields; _a < fields_1.length; _a++) {\n            var field = fields_1[_a];\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            if (temp[field]) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                data[field] = temp[field];\n            }\n        }\n        newData.push(data);\n    }\n    return newData;\n}\n/**\n * To find the index of dataSource from shape properties\n *\n * @param {any[]} dataSource - Specifies the data source\n * @param {any} properties - Specifies the properties\n * @param {string} dataPath - Specifies the data path\n * @param {string | string[]} propertyPath - Specifies the property path\n * @param {LayerSettingsModel} layer - Specifies the layer settings\n * @returns {number} - Returns the number\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function checkShapeDataFields(dataSource, properties, dataPath, propertyPath, layer) {\n    if (!(isNullOrUndefined(properties))) {\n        for (var i = 0; i < dataSource.length; i++) {\n            var shapeDataPath = ((dataPath.indexOf('.') > -1) ? getValueFromObject(dataSource[i], dataPath) :\n                dataSource[i][dataPath]);\n            var shapePath = checkPropertyPath(shapeDataPath, propertyPath, properties);\n            var shapeDataPathValue = !isNullOrUndefined(shapeDataPath) && isNaN(properties[shapePath])\n                ? shapeDataPath.toLowerCase() : shapeDataPath;\n            var propertiesShapePathValue = !isNullOrUndefined(properties[shapePath]) && isNaN(properties[shapePath])\n                ? properties[shapePath].toLowerCase() : properties[shapePath];\n            if (shapeDataPathValue === propertiesShapePathValue) {\n                return i;\n            }\n        }\n    }\n    return null;\n}\n/**\n *\n * @param {string} shapeData - Specifies the shape data\n * @param {string | string[]} shapePropertyPath -  Specifies the shape property path\n * @param {any} shape -  Specifies the shape\n * @returns {string} - Returns the string value\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function checkPropertyPath(shapeData, shapePropertyPath, shape) {\n    if (!isNullOrUndefined(shapeData) && !isNullOrUndefined(shape)) {\n        if (!isNullOrUndefined(shapePropertyPath)) {\n            var length_1;\n            var properties = (Object.prototype.toString.call(shapePropertyPath) === '[object Array]' ?\n                shapePropertyPath : [shapePropertyPath]);\n            for (var i = 0; i < properties.length; i++) {\n                var shapeDataValue = !isNullOrUndefined(shapeData) ? shapeData.toLowerCase() : shapeData;\n                var shapePropertiesValue = !isNullOrUndefined(shape[properties[i]])\n                    && isNaN(shape[properties[i]])\n                    ? shape[properties[i]].toLowerCase() : shape[properties[i]];\n                if (shapeDataValue === shapePropertiesValue) {\n                    return properties[i];\n                }\n            }\n        }\n    }\n    return null;\n}\n/**\n *\n * @param {MapLocation[]} points - Specifies the location\n * @param {number} start - Specifies the start value\n * @param {number} end - Specifies the end value\n * @returns {MapLocation[]} - Returns the location\n */\nexport function filter(points, start, end) {\n    var pointObject = [];\n    for (var i = 0; i < points.length; i++) {\n        var point = points[i];\n        if (start <= point.y && end >= point.y) {\n            pointObject.push(point);\n        }\n    }\n    return pointObject;\n}\n/**\n *\n * @param {number} min - Specifies the min value\n * @param {number} max - Specifies the max value\n * @param {number} value - Specifies the value\n * @param {number} minValue - Specifies the minValue\n * @param {number} maxValue -Specifies the maxValue\n * @returns {number} - Returns the number\n */\nexport function getRatioOfBubble(min, max, value, minValue, maxValue) {\n    var percent = (100 / (maxValue - minValue)) * (value - minValue);\n    var bubbleRadius = (((max - min) / 100) * percent) + min;\n    if (maxValue === minValue) {\n        bubbleRadius = (((max - min) / 100)) + min;\n    }\n    return bubbleRadius;\n}\n/**\n * To find the midpoint of the polygon from points\n *\n * @param {MapLocation[]} points - Specifies the points\n * @param {string} type - Specifies the type\n * @param {string} geometryType - Specified the type of the geometry\n * @returns {any} - Specifies the object\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function findMidPointOfPolygon(points, type, geometryType) {\n    if (!points.length) {\n        return null;\n    }\n    var min = 0;\n    var max = points.length;\n    var startX;\n    var startY;\n    var startX1;\n    var startY1;\n    var sum = 0;\n    var xSum = 0;\n    var ySum = 0;\n    for (var i = min; i <= max - 1; i++) {\n        startX = points[i].x;\n        startY = type === 'Mercator' || geometryType === 'Normal' ? points[i].y : -(points[i].y);\n        if (i === max - 1) {\n            startX1 = points[0].x;\n            startY1 = type === 'Mercator' || geometryType === 'Normal' ? points[0].y : -(points[0].y);\n        }\n        else {\n            startX1 = points[i + 1].x;\n            startY1 = type === 'Mercator' || geometryType === 'Normal' ? points[i + 1].y : -(points[i + 1].y);\n        }\n        sum = sum + Math.abs(((startX * startY1)) - (startX1 * startY));\n        xSum = xSum + Math.abs(((startX + startX1) * (((startX * startY1) - (startX1 * startY)))));\n        ySum = ySum + Math.abs(((startY + startY1) * (((startX * startY1) - (startX1 * startY)))));\n    }\n    sum = 0.5 * sum;\n    xSum = (1 / (4 * sum)) * xSum;\n    ySum = (1 / (4 * sum)) * ySum;\n    /* Code for finding nearest points in polygon related to midPoint*/\n    var rightMinPoint = { x: 0, y: 0 };\n    var rightMaxPoint = { x: 0, y: 0 };\n    var leftMinPoint = { x: 0, y: 0 };\n    var leftMaxPoint = { x: 0, y: 0 };\n    var bottomMinPoint = { x: 0, y: 0 };\n    var bottomMaxPoint = { x: 0, y: 0 };\n    var topMinPoint = { x: 0, y: 0 };\n    var topMaxPoint = { x: 0, y: 0 };\n    var height = 0;\n    for (var i = min; i <= max - 1; i++) {\n        var point = points[i];\n        point.y = type === 'Mercator' || geometryType === 'Normal' ? point.y : -(point.y);\n        if (point.y > ySum) {\n            if (point.x < xSum && xSum - point.x < xSum - bottomMinPoint.x) {\n                bottomMinPoint = { x: point.x, y: point.y };\n            }\n            else if (point.x > xSum && (bottomMaxPoint.x === 0 || point.x - xSum < bottomMaxPoint.x - xSum)) {\n                bottomMaxPoint = { x: point.x, y: point.y };\n            }\n        }\n        else {\n            if (point.x < xSum && xSum - point.x < xSum - topMinPoint.x) {\n                topMinPoint = { x: point.x, y: point.y };\n            }\n            else if (point.x > xSum && (topMaxPoint.x === 0 || point.x - xSum < topMaxPoint.x - xSum)) {\n                topMaxPoint = { x: point.x, y: point.y };\n            }\n        }\n        height = (bottomMaxPoint.y - topMaxPoint.y) + ((bottomMaxPoint.y - topMaxPoint.y) / 4);\n        if (point.x > xSum) {\n            if (point.y < ySum && ySum - point.y < ySum - rightMinPoint.y) {\n                rightMinPoint = { x: point.x, y: point.y };\n            }\n            else if (point.y > ySum && (rightMaxPoint.y === 0 || point.y - ySum < rightMaxPoint.y - ySum)) {\n                rightMaxPoint = { x: point.x, y: point.y };\n            }\n        }\n        else {\n            if (point.y < ySum && ySum - point.y < ySum - leftMinPoint.y) {\n                leftMinPoint = { x: point.x, y: point.y };\n            }\n            else if (point.y > ySum && (leftMaxPoint.y === 0 || point.y - ySum < leftMaxPoint.y - ySum)) {\n                leftMaxPoint = { x: point.x, y: point.y };\n            }\n        }\n    }\n    return {\n        x: xSum, y: ySum, rightMin: rightMinPoint, rightMax: rightMaxPoint,\n        leftMin: leftMinPoint, leftMax: leftMaxPoint, points: points, topMax: topMaxPoint, topMin: topMinPoint,\n        bottomMax: bottomMaxPoint, bottomMin: bottomMinPoint, height: height\n    };\n}\n/**\n * Check custom path\n *\n * @param {any[]} layerData - Specifies the layer data\n * @returns {boolean} - Returns the boolean vlue\n * @private\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function isCustomPath(layerData) {\n    var customPath = false;\n    if (Object.prototype.toString.call(layerData) === '[object Array]') {\n        Array.prototype.forEach.call(layerData, function (layer, index) {\n            if (!isNullOrUndefined(layer['geometry']) && layer['geometry']['type'] === 'Path') {\n                customPath = true;\n            }\n        });\n    }\n    return customPath;\n}\n/**\n * Trim the title text\n *\n * @param {number} maxWidth - Specifies the maximum width\n * @param {string} text - Specifies the text\n * @param {FontModel} font - Specifies the font\n * @returns {string} - Returns the string\n * @private\n */\nexport function textTrim(maxWidth, text, font) {\n    var label = text;\n    var size = measureText(text, font).width;\n    if (size > maxWidth) {\n        var textLength = text.length;\n        for (var i = textLength - 1; i >= 0; --i) {\n            label = text.substring(0, i) + '...';\n            size = measureText(label, font).width;\n            if (size <= maxWidth || label.length < 4) {\n                if (label.length < 4) {\n                    label = ' ';\n                }\n                return label;\n            }\n        }\n    }\n    return label;\n}\n/**\n * Method to calculate x position of title\n *\n * @param {Rect} location - Specifies the location\n * @param {Alignment} alignment - Specifies the alignment\n * @param {Size} textSize - Specifies the text size\n * @param {string} type - Specifies the type\n * @returns {Point} - Returns the point values\n */\nexport function findPosition(location, alignment, textSize, type) {\n    var x;\n    switch (alignment) {\n        case 'Near':\n            x = location.x;\n            break;\n        case 'Center':\n            x = (type === 'title') ? (location.width / 2 - textSize.width / 2) :\n                ((location.x + (location.width / 2)) - textSize.width / 2);\n            break;\n        case 'Far':\n            x = (type === 'title') ? (location.width - location.y - textSize.width) :\n                ((location.x + location.width) - textSize.width);\n            break;\n    }\n    var y = (type === 'title') ? location.y + (textSize.height / 2) : ((location.y + location.height / 2) + textSize.height / 2);\n    return new Point(x, y);\n}\n/**\n * To remove element by id\n *\n * @param {string} id - Specifies the id\n * @returns {void}\n */\nexport function removeElement(id) {\n    var element = document.getElementById(id);\n    return element ? remove(element) : null;\n}\n/**\n * To calculate map center position from pixel values\n *\n * @param {Maps} mapObject - Specifies the map object\n * @param {LayerSettings} layer - Specifies the layer settings\n * @returns {Point} - Returns the x and y points\n */\nexport function calculateCenterFromPixel(mapObject, layer) {\n    var point1 = convertGeoToPoint(mapObject.minLatOfGivenLocation, mapObject.minLongOfGivenLocation, mapObject.mapLayerPanel.calculateFactor(layer), layer, mapObject);\n    var point2 = convertGeoToPoint(mapObject.maxLatOfGivenLocation, mapObject.maxLongOfGivenLocation, mapObject.mapLayerPanel.calculateFactor(layer), layer, mapObject);\n    var x = (point1.x + point2.x) / 2;\n    var y = (point1.y + point2.y) / 2;\n    return new Point(x, y);\n}\n/**\n * @param {Maps} mapObject - Specifies the map object\n * @param {LayerSettings} layer - Specifies the layer settings\n * @param {boolean} animate - Specifies the boolean value\n * @returns {any} - Returns the object\n * @private\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function getTranslate(mapObject, layer, animate) {\n    var zoomFactorValue = mapObject.zoomSettings.zoomFactor;\n    var scaleFactor;\n    var center = mapObject.centerPosition;\n    var centerLatitude = center.latitude;\n    var centerLongitude = center.longitude;\n    var checkMethodeZoom = !isNullOrUndefined(mapObject.centerLatOfGivenLocation) &&\n        !isNullOrUndefined(mapObject.centerLongOfGivenLocation) && mapObject.zoomNotApplied;\n    if (isNullOrUndefined(mapObject.mapScaleValue)) {\n        mapObject.mapScaleValue = zoomFactorValue;\n    }\n    if (mapObject.zoomSettings.shouldZoomInitially && mapObject.zoomSettings.enable) {\n        mapObject.mapScaleValue = scaleFactor = zoomFactorValue = ((mapObject.zoomSettings.shouldZoomInitially || mapObject.enablePersistence) && mapObject.scale === 1)\n            ? mapObject.scale : (isNullOrUndefined(mapObject.markerZoomFactor)) ? 1 : mapObject.markerZoomFactor;\n        if (mapObject.mapScaleValue !== mapObject.markerZoomFactor && !mapObject.enablePersistence) {\n            mapObject.mapScaleValue = zoomFactorValue = mapObject.markerZoomFactor;\n        }\n        if (!isNullOrUndefined(mapObject.markerCenterLatitude) && !isNullOrUndefined(mapObject.markerCenterLongitude)) {\n            centerLatitude = mapObject.markerCenterLatitude;\n            centerLongitude = mapObject.markerCenterLongitude;\n        }\n    }\n    if (checkMethodeZoom) {\n        mapObject.mapScaleValue = scaleFactor = zoomFactorValue = mapObject.scaleOfGivenLocation;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var min = !isNullOrUndefined(mapObject.baseMapRectBounds) ? mapObject.baseMapRectBounds['min'] : null;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var max = !isNullOrUndefined(mapObject.baseMapRectBounds) ? mapObject.baseMapRectBounds['max'] : null;\n    var zoomFactor = animate ? 1 : mapObject.mapScaleValue;\n    if (isNullOrUndefined(mapObject.currentShapeDataLength)) {\n        mapObject.currentShapeDataLength = !isNullOrUndefined(layer.shapeData['features'])\n            ? layer.shapeData['features'].length : layer.shapeData['geometries'].length;\n    }\n    var size = (mapObject.totalRect && mapObject.legendSettings.visible) ? mapObject.totalRect : mapObject.mapAreaRect;\n    var availSize = mapObject.availableSize;\n    var x;\n    var y;\n    if (!isNullOrUndefined(min) && !isNullOrUndefined(max)) {\n        var mapWidth = Math.abs(max['x'] - min['x']);\n        var mapHeight = Math.abs(min['y'] - max['y']);\n        var factor = animate ? 1 : mapObject.markerZoomFactor === 1 ? mapObject.mapScaleValue : zoomFactorValue;\n        center = mapObject.zoomSettings.shouldZoomInitially\n            && mapObject.markerZoomedState && !mapObject.zoomPersistence ? mapObject.markerZoomCenterPoint :\n            mapObject.centerPosition;\n        if ((!isNullOrUndefined(centerLongitude) && !isNullOrUndefined(centerLatitude)) || checkMethodeZoom) {\n            var leftPosition = (((mapWidth + Math.abs(mapObject.mapAreaRect.width - mapWidth)) / 2) + mapObject.mapAreaRect.x) / factor;\n            var topPosition = (((mapHeight + Math.abs(mapObject.mapAreaRect.height - mapHeight)) / 2) + mapObject.mapAreaRect.y) / factor;\n            var point = checkMethodeZoom ? calculateCenterFromPixel(mapObject, layer) :\n                convertGeoToPoint(centerLatitude, centerLongitude, mapObject.mapLayerPanel.calculateFactor(layer), layer, mapObject);\n            if (isNullOrUndefined(mapObject.previousProjection) || mapObject.previousProjection !== mapObject.projectionType) {\n                x = -point.x + leftPosition;\n                y = -point.y + topPosition;\n                scaleFactor = zoomFactor;\n            }\n            else {\n                if (Math.floor(mapObject.scale) !== 1 && mapObject.zoomSettings.shouldZoomInitially || (mapObject.zoomNotApplied)) {\n                    x = -point.x + leftPosition;\n                    y = -point.y + topPosition;\n                }\n                else {\n                    if (mapObject.zoomSettings.shouldZoomInitially || mapObject.zoomNotApplied) {\n                        x = -point.x + leftPosition;\n                        y = -point.y + topPosition;\n                        scaleFactor = zoomFactor;\n                    }\n                    else {\n                        x = mapObject.zoomTranslatePoint.x;\n                        y = mapObject.zoomTranslatePoint.y;\n                    }\n                }\n                scaleFactor = mapObject.mapScaleValue;\n            }\n        }\n        else {\n            if (isNullOrUndefined(mapObject.previousProjection) || mapObject.previousProjection !== mapObject.projectionType) {\n                scaleFactor = parseFloat(Math.min(size.width / mapWidth, size.height / mapHeight).toFixed(2));\n                mapWidth *= scaleFactor;\n                mapHeight *= scaleFactor;\n                var widthDiff = min['x'] !== 0 && mapObject.translateType === 'layers' ? availSize.width - size.width : 0;\n                x = size.x + ((-(min['x'])) + ((size.width / 2) - (mapWidth / 2))) - widthDiff;\n                y = size.y + ((-(min['y'])) + ((size.height / 2) - (mapHeight / 2)));\n                mapObject.previousTranslate = new Point(x, y);\n            }\n            else {\n                if (!mapObject.zoomSettings.shouldZoomInitially && mapObject.markerZoomFactor === 1 && mapObject.mapScaleValue === 1) {\n                    scaleFactor = parseFloat(Math.min(size.width / mapWidth, size.height / mapHeight).toFixed(2));\n                    mapHeight *= scaleFactor;\n                    mapWidth *= scaleFactor;\n                    y = size.y + ((-(min['y'])) + ((size.height / 2) - (mapHeight / 2)));\n                    x = size.x + ((-(min['x'])) + ((size.width / 2) - (mapWidth / 2)));\n                }\n                else {\n                    scaleFactor = mapObject.mapScaleValue < 1 ? mapObject.mapScaleValue + 1 : mapObject.mapScaleValue;\n                    mapObject.mapScaleValue = mapObject.zoomSettings.enable && mapObject.mapScaleValue !== 1 ? mapObject.mapScaleValue : 1;\n                    if ((mapObject.currentShapeDataLength !== (!isNullOrUndefined(layer.shapeData['features'])\n                        ? layer.shapeData['features'].length : layer.shapeData['geometries'].length)) && layer.type !== 'SubLayer') {\n                        var scale = parseFloat(Math.min(size.height / mapHeight, size.width / mapWidth).toFixed(2));\n                        mapHeight *= scale;\n                        mapWidth *= scale;\n                        y = size.y + ((-(min['y'])) + ((size.height / 2)\n                            - (mapHeight / 2)));\n                        scaleFactor = scale;\n                        x = size.x + ((-(min['x']))\n                            + ((size.width / 2) - (mapWidth / 2)));\n                    }\n                    else if (mapObject.availableSize.height !== mapObject.heightBeforeRefresh || mapObject.widthBeforeRefresh !== mapObject.availableSize.width) {\n                        var cscaleFactor = parseFloat(Math.min(size.width / mapWidth, size.height / mapHeight).toFixed(2));\n                        var cmapWidth = mapWidth;\n                        cmapWidth *= cscaleFactor;\n                        var cmapHeight = mapHeight;\n                        cmapHeight *= cscaleFactor;\n                        var x1 = size.x + ((-(min['x'])) + ((size.width / 2) - (cmapWidth / 2)));\n                        var y1 = size.y + ((-(min['y'])) + ((size.height / 2) - (cmapHeight / 2)));\n                        var xdiff = (mapObject.translatePoint.x - mapObject.previousTranslate.x) / (mapObject.widthBeforeRefresh);\n                        var ydiff = (mapObject.translatePoint.y - mapObject.previousTranslate.y) / (mapObject.heightBeforeRefresh);\n                        var actxdiff = xdiff * (mapObject.availableSize.width);\n                        var actydiff = ydiff * (mapObject.availableSize.height);\n                        x = x1 + actxdiff;\n                        y = y1 + actydiff;\n                        mapObject.previousTranslate = new Point(x1, y1);\n                        mapObject.zoomTranslatePoint.x = x;\n                        mapObject.zoomTranslatePoint.y = y;\n                    }\n                    else {\n                        if (!isNullOrUndefined(mapObject.previousProjection) && mapObject.mapScaleValue === 1 && !mapObject.zoomModule.isDragZoom) {\n                            scaleFactor = parseFloat(Math.min(size.width / mapWidth, size.height / mapHeight).toFixed(2));\n                            mapWidth *= scaleFactor;\n                            x = size.x + ((-(min['x'])) + ((size.width / 2) - (mapWidth / 2)));\n                            mapHeight *= scaleFactor;\n                            y = size.y + ((-(min['y'])) + ((size.height / 2) - (mapHeight / 2)));\n                        }\n                        else {\n                            x = mapObject.zoomTranslatePoint.x;\n                            y = mapObject.zoomTranslatePoint.y;\n                            scaleFactor = mapObject.scale;\n                        }\n                    }\n                }\n            }\n        }\n        if (!isNullOrUndefined(mapObject.translatePoint)) {\n            x = (mapObject.enablePersistence && mapObject.translatePoint.x !== 0 && !mapObject.zoomNotApplied) ? mapObject.translatePoint.x : x;\n            y = (mapObject.enablePersistence && mapObject.translatePoint.y !== 0 && !mapObject.zoomNotApplied) ? mapObject.translatePoint.y : y;\n        }\n    }\n    scaleFactor = (mapObject.enablePersistence) ? ((mapObject.mapScaleValue >= 1) ? mapObject.mapScaleValue : 1) : scaleFactor;\n    mapObject.widthBeforeRefresh = mapObject.availableSize.width;\n    mapObject.heightBeforeRefresh = mapObject.availableSize.height;\n    return { scale: scaleFactor, location: new Point(x, y) };\n}\n/**\n * @param {Maps} mapObject - Specifies the map object\n * @param {LayerSettings} layer - Specifies the layer\n * @param {boolean} animate - Specifies the boolean value\n * @returns {any} - Returns the object.\n * @private\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function getZoomTranslate(mapObject, layer, animate) {\n    var zoomFactorValue = mapObject.zoomSettings.zoomFactor;\n    var scaleFactor;\n    var center = mapObject.centerPosition;\n    var latitude = center.latitude;\n    var longitude = center.longitude;\n    var checkZoomMethod = !isNullOrUndefined(mapObject.centerLongOfGivenLocation) &&\n        !isNullOrUndefined(mapObject.centerLatOfGivenLocation) && mapObject.zoomNotApplied;\n    if (isNullOrUndefined(mapObject.previousCenterLatitude) &&\n        isNullOrUndefined(mapObject.previousCenterLongitude)) {\n        mapObject.previousCenterLatitude = mapObject.centerPosition.latitude;\n        mapObject.previousCenterLongitude = mapObject.centerPosition.longitude;\n    }\n    else if (mapObject.previousCenterLatitude !==\n        mapObject.centerPosition.latitude && mapObject.previousCenterLongitude !==\n        mapObject.centerPosition.longitude) {\n        mapObject.centerPositionChanged = true;\n        mapObject.previousCenterLatitude = mapObject.centerPosition.latitude;\n        mapObject.previousCenterLongitude = mapObject.centerPosition.longitude;\n    }\n    else {\n        mapObject.centerPositionChanged = false;\n    }\n    if (isNullOrUndefined(mapObject.mapScaleValue) || (zoomFactorValue > mapObject.mapScaleValue)) {\n        if (mapObject.isReset && mapObject.mapScaleValue === 1) {\n            // eslint-disable-next-line no-self-assign\n            mapObject.mapScaleValue = mapObject.mapScaleValue;\n        }\n        else {\n            mapObject.mapScaleValue = zoomFactorValue;\n        }\n    }\n    mapObject.mapScaleValue = mapObject.zoomSettings.zoomFactor !== 1 &&\n        mapObject.zoomSettings.zoomFactor ===\n            mapObject.mapScaleValue ? mapObject.zoomSettings.zoomFactor :\n        mapObject.zoomSettings.zoomFactor !== mapObject.mapScaleValue && !mapObject.centerPositionChanged ? mapObject.mapScaleValue : mapObject.zoomSettings.zoomFactor;\n    if (mapObject.zoomSettings.shouldZoomInitially) {\n        mapObject.mapScaleValue = zoomFactorValue = scaleFactor = ((mapObject.enablePersistence || mapObject.zoomSettings.shouldZoomInitially) && mapObject.scale === 1)\n            ? mapObject.scale : (isNullOrUndefined(mapObject.markerZoomFactor)) ? mapObject.mapScaleValue : mapObject.markerZoomFactor;\n        zoomFactorValue = mapObject.mapScaleValue;\n        if (!isNullOrUndefined(mapObject.markerCenterLatitude) && !isNullOrUndefined(mapObject.markerCenterLongitude)) {\n            latitude = mapObject.markerCenterLatitude;\n            longitude = mapObject.markerCenterLongitude;\n        }\n    }\n    if (checkZoomMethod) {\n        mapObject.mapScaleValue = scaleFactor = zoomFactorValue = mapObject.scaleOfGivenLocation;\n    }\n    var zoomFactor = animate ? 1 : mapObject.mapScaleValue;\n    var size = mapObject.mapAreaRect;\n    var x;\n    var y;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var min = mapObject.baseMapRectBounds['min'];\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var max = mapObject.baseMapRectBounds['max'];\n    var factor = animate ? 1 : mapObject.mapScaleValue;\n    var mapWidth = Math.abs(max['x'] - min['x']);\n    var mapHeight = Math.abs(min['y'] - max['y']);\n    if ((!isNullOrUndefined(longitude) && !isNullOrUndefined(latitude)) || checkZoomMethod) {\n        var topPosition = ((mapHeight + Math.abs(mapObject.mapAreaRect.height - mapHeight)) / 2) / factor;\n        var leftPosition = ((mapWidth + Math.abs(mapObject.mapAreaRect.width - mapWidth)) / 2) / factor;\n        var point = checkZoomMethod ? calculateCenterFromPixel(mapObject, layer) :\n            convertGeoToPoint(latitude, longitude, mapObject.mapLayerPanel.calculateFactor(layer), layer, mapObject);\n        if ((!isNullOrUndefined(mapObject.zoomTranslatePoint) || !isNullOrUndefined(mapObject.previousProjection)) && !mapObject.zoomNotApplied) {\n            if (mapObject.previousProjection !== mapObject.projectionType) {\n                x = -point.x + leftPosition;\n                y = -point.y + topPosition;\n            }\n            else {\n                x = mapObject.zoomTranslatePoint.x;\n                y = mapObject.zoomTranslatePoint.y;\n                zoomFactorValue = zoomFactor;\n            }\n        }\n        else {\n            x = -point.x + leftPosition + mapObject.mapAreaRect.x / zoomFactor;\n            y = -point.y + topPosition + mapObject.mapAreaRect.y / zoomFactor;\n        }\n        if (!isNullOrUndefined(mapObject.translatePoint)) {\n            y = (mapObject.enablePersistence && mapObject.translatePoint.y !== 0 && !mapObject.zoomNotApplied) ? mapObject.translatePoint.y : y;\n            x = (mapObject.enablePersistence && mapObject.translatePoint.x !== 0 && !mapObject.zoomNotApplied) ? mapObject.translatePoint.x : x;\n        }\n        scaleFactor = zoomFactorValue !== 0 ? zoomFactorValue : 1;\n    }\n    else {\n        var zoomFact = mapObject.zoomSettings.zoomFactor === 0 ? 1 : mapObject.zoomSettings.zoomFactor;\n        var maxZoomFact = mapObject.zoomSettings.maxZoom;\n        zoomFact = zoomFact > maxZoomFact ? maxZoomFact : zoomFact;\n        scaleFactor = zoomFact;\n        var mapScale = mapObject.mapScaleValue === 0 ? 1 : mapObject.mapScaleValue > maxZoomFact\n            ? maxZoomFact : mapObject.mapScaleValue;\n        var leftPosition = (size.x + ((-(min['x'])) + ((size.width / 2) - (mapWidth / 2))));\n        var topPosition = (size.y + ((-(min['y'])) + ((size.height / 2) - (mapHeight / 2))));\n        if (!isNullOrUndefined(mapObject.zoomTranslatePoint) || !isNullOrUndefined(mapObject.previousProjection)) {\n            if (mapObject.previousProjection !== mapObject.projectionType) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                var previousPositions = [];\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                var previousPoints = { x: leftPosition, y: topPosition };\n                previousPositions.push(previousPoints);\n                for (var i = 1; i < maxZoomFact; i++) {\n                    var translatePointX = previousPositions[i - 1]['x'] - (((size.width / (i)) - (size.width / (i + 1))) / 2);\n                    var translatePointY = previousPositions[i - 1]['y'] - (((size.height / (i)) - (size.height / (i + 1))) / 2);\n                    previousPoints = { x: translatePointX, y: translatePointY };\n                    previousPositions.push(previousPoints);\n                }\n                leftPosition = previousPositions[zoomFact - 1]['x'];\n                topPosition = previousPositions[zoomFact - 1]['y'];\n            }\n            else {\n                leftPosition = mapObject.zoomTranslatePoint.x;\n                topPosition = mapObject.zoomTranslatePoint.y;\n                if (zoomFact !== mapScale) {\n                    scaleFactor = mapScale;\n                }\n            }\n        }\n        if (!isNullOrUndefined(mapObject.translatePoint)) {\n            x = (mapObject.enablePersistence && mapObject.translatePoint.x !== 0 && !mapObject.zoomNotApplied) ? mapObject.translatePoint.x : leftPosition;\n            y = (mapObject.enablePersistence && mapObject.translatePoint.y !== 0 && !mapObject.zoomNotApplied) ? mapObject.translatePoint.y : topPosition;\n        }\n    }\n    scaleFactor = (mapObject.enablePersistence) ? (mapObject.mapScaleValue === 0 ? 1 : mapObject.mapScaleValue) : scaleFactor;\n    return { scale: animate ? 1 : scaleFactor, location: new Point(x, y) };\n}\n/**\n * To get the html element by specified id\n *\n * @param {Maps} map - Specifies the instance of the maps\n * @returns {void}\n */\nexport function fixInitialScaleForTile(map) {\n    map.tileZoomScale = map.tileZoomLevel = Math.floor(map.availableSize.height / 512) + 1;\n    var padding = map.layers[map.baseLayerIndex].layerType !== 'GoogleStaticMap' ?\n        20 : 0;\n    var totalSize = Math.pow(2, map.tileZoomLevel) * 256;\n    map.tileTranslatePoint.x = (map.availableSize.width / 2) - (totalSize / 2);\n    map.tileTranslatePoint.y = (map.availableSize.height / 2) - (totalSize / 2) + padding;\n    map.previousTileWidth = map.availableSize.width;\n    map.previousTileHeight = map.availableSize.height;\n}\n/**\n * To get the html element by specified id\n *\n * @param {string} id - Specifies the id\n * @returns {Element} - Returns the element\n */\nexport function getElementByID(id) {\n    return document.getElementById(id);\n}\n/**\n * To apply internalization\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {number} value - Specifies the value\n * @returns {string} - Returns the string\n */\nexport function Internalize(maps, value) {\n    maps.formatFunction =\n        maps.intl.getNumberFormat({ format: maps.format, useGrouping: maps.useGroupingSeparator });\n    return maps.formatFunction(value);\n}\n/**\n * Function to compile the template function for maps.\n *\n * @param {string} template - Specifies the template\n * @returns {Function} - Returns the function\n * @private\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function getTemplateFunction(template) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var templateFn = null;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var e;\n    try {\n        if (document.querySelectorAll(template).length) {\n            templateFn = templateComplier(document.querySelector(template).innerHTML.trim());\n        }\n    }\n    catch (e) {\n        templateFn = templateComplier(template);\n    }\n    return templateFn;\n}\n/**\n * Function to get element from id.\n *\n * @param {string} id - Specifies the id\n * @returns {Element} - Returns the element\n * @private\n */\nexport function getElement(id) {\n    return document.getElementById(id);\n}\n/**\n * Function to get shape data using target id\n *\n * @param {string} targetId - Specifies the target id\n * @param {Maps} map - Specifies the instance of the maps\n * @returns {any} - Returns the object\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function getShapeData(targetId, map) {\n    var layerIndex = parseInt(targetId.split('_LayerIndex_')[1].split('_')[0], 10);\n    var shapeIndex = parseInt(targetId.split('_shapeIndex_')[1].split('_')[0], 10);\n    var layer = map.layersCollection[layerIndex];\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var shapeData = layer.layerData[shapeIndex]['property'];\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var data;\n    if (layer.dataSource) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        data = layer.dataSource[checkShapeDataFields(layer.dataSource, shapeData, layer.shapeDataPath, layer.shapePropertyPath, layer)];\n    }\n    return { shapeData: shapeData, data: data };\n}\n/**\n * Function to trigger shapeSelected event\n *\n * @param {string} targetId - Specifies the target id\n * @param {SelectionSettingsModel} selection - Specifies the selection\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {string} eventName - Specifies the event name\n * @returns {IShapeSelectedEventArgs} - Returns the event args\n * @private\n */\nexport function triggerShapeEvent(targetId, selection, maps, eventName) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var shape = getShapeData(targetId, maps);\n    var border = {\n        color: selection.border.color, opacity: selection.border.opacity,\n        width: selection.border.width\n    };\n    var eventArgs = (selection.enableMultiSelect) ? {\n        cancel: false,\n        name: eventName,\n        fill: selection.fill,\n        opacity: selection.opacity,\n        border: border,\n        shapeData: shape.shapeData,\n        data: shape.data,\n        target: targetId,\n        maps: maps,\n        shapeDataCollection: maps.shapeSelectionItem\n    } : {\n        cancel: false,\n        name: eventName,\n        fill: selection.fill,\n        opacity: selection.opacity,\n        border: border,\n        shapeData: shape.shapeData,\n        data: shape.data,\n        target: targetId,\n        maps: maps\n    };\n    maps.trigger(eventName, eventArgs, function (observedArgs) {\n        eventArgs.border.opacity = isNullOrUndefined(eventArgs.border.opacity) ? eventArgs.opacity : eventArgs.border.opacity;\n    });\n    return eventArgs;\n}\n/**\n * Function to get elements using class name\n *\n * @param {string} className - Specifies the class name\n * @returns {HTMLCollectionOf<Element>} - Returns the collection\n */\nexport function getElementsByClassName(className) {\n    return document.getElementsByClassName(className);\n}\n/**\n * Function to get elements using querySelectorAll\n */\n// export function querySelectorAll(args: string, element: Element): ArrayOf<Element> {\n//     return element.querySelectorAll('.' + args);\n// }\n/**\n * Function to get elements using querySelector\n *\n * @param {string} args - Specifies the args\n * @param {string} elementSelector - Specifies the element selector\n * @returns {Element} - Returns the element\n */\nexport function querySelector(args, elementSelector) {\n    var targetEle = null;\n    if (document.getElementById(elementSelector)) {\n        targetEle = document.getElementById(elementSelector).querySelector('#' + args);\n    }\n    return targetEle;\n}\n/**\n * Function to get the element for selection and highlight using public method\n *\n * @param {number} layerIndex - Specifies the layer index\n * @param {string} name - Specifies the layer name\n * @param {boolean} enable - Specifies the boolean value\n * @param {Maps} map - Specifies the instance of the maps\n * @returns {Element} - Returns the element\n */\nexport function getTargetElement(layerIndex, name, enable, map) {\n    var shapeIndex;\n    var targetId;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var shapeData = map.layers[layerIndex].shapeData['features'];\n    for (var i = 0; i < shapeData.length; i++) {\n        if (shapeData[i]['properties'].name === name) {\n            targetId = map.element.id + '_' + 'LayerIndex_' + layerIndex + '_shapeIndex_' + i + '_dataIndex_undefined';\n            break;\n        }\n    }\n    var targetEle = getElement(targetId);\n    return targetEle;\n}\n/**\n * Function to create style element for highlight and selection\n *\n * @param {string} id - Specifies the id\n * @param {string} className - Specifies the class name\n * @param {IShapeSelectedEventArgs | any} eventArgs - Specifies the event args\n * @returns {Element} - Returns the element\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function createStyle(id, className, eventArgs) {\n    return createElement('style', {\n        id: id, innerHTML: '.' + className + '{fill:'\n            + eventArgs['fill'] + ';' + 'fill-opacity:' + (eventArgs['opacity']).toString() + ';' +\n            'stroke-opacity:' + (eventArgs['border']['opacity']).toString() + ';' +\n            'stroke-width:' + (eventArgs['border']['width']).toString() + ';' +\n            'stroke:' + eventArgs['border']['color'] + ';' + '}'\n    });\n}\n/**\n * Function to customize the style for highlight and selection\n *\n * @param {string} id - Specifies the id\n * @param {string} className - Specifies the class name\n * @param {IShapeSelectedEventArgs | any} eventArgs - Specifies the event args\n * @returns {void}\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function customizeStyle(id, className, eventArgs) {\n    var styleEle = getElement(id);\n    if (!isNullOrUndefined(styleEle)) {\n        styleEle.innerHTML = '.' + className + '{fill:'\n            + eventArgs['fill'] + ';' + 'fill-opacity:' + (eventArgs['opacity']).toString() + ';' +\n            'stroke-width:' + (eventArgs['border']['width']).toString() + ';' +\n            'stroke-opacity:' + (eventArgs['border']['opacity']).toString() + ';' +\n            'stroke:' + eventArgs['border']['color'] + '}';\n    }\n}\n/**\n * Function to trigger itemSelection event for legend selection and public method\n *\n * @param {SelectionSettingsModel} selectionSettings - Specifies the selection settings\n * @param {Maps} map - Specifies the instance of the maps\n * @param {Element} targetElement - Specifies the target element\n * @param {any} shapeData - Specifies the shape data\n * @param {any} data - Specifies the data\n * @returns {void}\n */\nexport function triggerItemSelectionEvent(selectionSettings, map, targetElement, \n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nshapeData, data) {\n    var border = {\n        color: selectionSettings.border.color,\n        width: selectionSettings.border.width / map.scale,\n        opacity: selectionSettings.border.opacity\n    };\n    var eventArgs = {\n        opacity: selectionSettings.opacity,\n        fill: selectionSettings.fill,\n        border: border,\n        name: itemSelection,\n        target: targetElement.id,\n        cancel: false,\n        shapeData: shapeData,\n        data: data,\n        maps: map\n    };\n    map.trigger('itemSelection', eventArgs, function (observedArgs) {\n        eventArgs.border.opacity = isNullOrUndefined(selectionSettings.border.opacity) ? selectionSettings.opacity : selectionSettings.border.opacity;\n        map.shapeSelectionItem.push(eventArgs.shapeData);\n        if (!getElement('ShapeselectionMap')) {\n            document.body.appendChild(createStyle('ShapeselectionMap', 'ShapeselectionMapStyle', eventArgs));\n        }\n        else {\n            customizeStyle('ShapeselectionMap', 'ShapeselectionMapStyle', eventArgs);\n        }\n    });\n}\n/**\n * Function to remove class from element\n *\n * @param {Element} element - Specifies the element\n * @returns {void}\n */\nexport function removeClass(element) {\n    element.removeAttribute('class');\n}\n/**\n * Animation Effect Calculation End\n *\n * @param {Element} element - Specifies the element\n * @param {number} delay - Specifies the delay\n * @param {number} duration - Specifies the duration\n * @param {MapLocation} point - Specifies the location\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {string} ele - Specifies the element\n * @param {number} radius - Specifies the radius\n * @returns {void}\n * @private\n */\nexport function elementAnimate(element, delay, duration, point, maps, ele, radius) {\n    if (radius === void 0) { radius = 0; }\n    var centerX = point.x;\n    var centerY = point.y;\n    var height = 0;\n    var transform = element.getAttribute('transform') || '';\n    new Animation({}).animate(element, {\n        duration: duration,\n        delay: delay,\n        progress: function (args) {\n            if (args.timeStamp > args.delay) {\n                if (maps.isTileMap && height === 0) {\n                    var layerGroupElement = document.querySelector('.GroupElement');\n                    if (!isNullOrUndefined(layerGroupElement)) {\n                        layerGroupElement.style.display = 'block';\n                    }\n                }\n                height = ((args.timeStamp - args.delay) / args.duration);\n                element.setAttribute('transform', 'translate( ' + (centerX - (radius * height)) + ' ' + (centerY - (radius * height)) +\n                    ' ) scale(' + height + ')');\n            }\n        },\n        end: function (model) {\n            element.setAttribute('transform', transform);\n            if (!ele) {\n                return;\n            }\n            var event = {\n                cancel: false, name: animationComplete, element: ele, maps: maps\n            };\n            maps.trigger(animationComplete, event);\n        }\n    });\n}\n/**\n * @param {string} id - Specifies the id\n * @returns {void}\n */\nexport function timeout(id) {\n    removeElement(id);\n}\n/**\n * @param {string} text - Specifies the text\n * @param {string} size - Specifies the size\n * @param {number} x - Specifies the x value\n * @param {number} y - Specifies the y value\n * @param {number} areaWidth - Specifies the area width\n * @param {number} areaHeight - Specifies the area height\n * @param {string} id - Specifies the id\n * @param {Element} element - Specifies the element\n * @param {boolean} isTouch - Specifies the boolean value\n * @returns {void}\n */\nexport function showTooltip(text, size, x, y, areaWidth, areaHeight, id, element, isTouch) {\n    var location = getMousePosition(x, y, element);\n    if (!isNullOrUndefined(location)) {\n        x = location.x;\n        y = location.y;\n    }\n    var tooltip = document.getElementById(id);\n    var width = measureText(text, {\n        fontFamily: 'Segoe UI', size: '8px',\n        fontStyle: 'Normal', fontWeight: 'Regular'\n    }).width;\n    var str = text.split(' ');\n    var demo = str[0].length;\n    for (var i = 1; i < str.length; i++) {\n        if (demo < str[i].length) {\n            demo = str[i].length;\n        }\n    }\n    if (!tooltip) {\n        tooltip = createElement('div', {\n            id: id,\n            styles: 'background-color: rgb(255, 255, 255) !important; color:black !important; ' +\n                'position:absolute;border:1px solid rgb(0, 0, 0); padding-left:5px;' +\n                'font-size:12px; font-family: \"Segoe UI\"; text-align:center'\n        });\n    }\n    if (x < (areaWidth - width)) {\n        // eslint-disable-next-line no-self-assign\n        x = x;\n    }\n    else if (x > (areaWidth - width) && x < areaWidth - (demo * 8)) {\n        width = (areaWidth - x);\n    }\n    else if (x >= areaWidth - demo * 8) {\n        if (x > width) {\n            x = x - width;\n        }\n        else {\n            width = x;\n            x = 0;\n        }\n    }\n    var size1 = size.split('px');\n    wordWrap(tooltip, text, x, y, size1, width, areaWidth, element);\n    var height = tooltip.clientHeight;\n    if ((height + parseInt(size1[0], 10) * 2) > areaHeight) {\n        width = x;\n        x = 0;\n    }\n    wordWrap(tooltip, text, x, y, size1, width, areaWidth, element);\n    if (isTouch) {\n        setTimeout(timeout, 5000, id);\n    }\n}\n/**\n * @param {HTMLElement} tooltip - Specifies the tooltip element\n * @param {string} text - Specifies the text\n * @param {number} x - Specifies the x value\n * @param {number} y - Specifies the y value\n * @param {string[]} size1 - Specifies the size\n * @param {number} width - Specifies the width\n * @param {number} areaWidth - Specifies the area width\n * @param {Element} element - Specifies the element\n * @returns {void}\n */\nexport function wordWrap(tooltip, text, x, y, size1, width, areaWidth, element) {\n    tooltip.innerHTML = text;\n    tooltip.style.top = tooltip.id.indexOf('_Legend') !== -1 ?\n        (parseInt(size1[0], 10) + y).toString() + 'px' : (parseInt(size1[0], 10) * 2).toString() + 'px';\n    tooltip.style.left = (x).toString() + 'px';\n    tooltip.style.width = width.toString() + 'px';\n    tooltip.style.maxWidth = (areaWidth).toString() + 'px';\n    tooltip.style.wordWrap = 'break-word';\n    element.appendChild(tooltip);\n}\n// /**\n//  *\n//  * @param touchList\n//  * @param e\n//  * @param touches\n//  */\n// export function addTouchPointer(touchList: ITouches[], e: PointerEvent, touches: TouchList): ITouches[] {\n//     if (touches) {\n//         touchList = [];\n//         for (let i: number = 0, length: number = touches.length; i < length; i++) {\n//             touchList.push({ pageX: touches[i].clientX, pageY: touches[i].clientY, pointerId: null });\n//         }\n//     } else {\n//         touchList = touchList ? touchList : [];\n//         if (touchList.length === 0) {\n//             touchList.push({ pageX: e.clientX, pageY: e.clientY, pointerId: e.pointerId });\n//         } else {\n//             for (let i: number = 0, length: number = touchList.length; i < length; i++) {\n//                 if (touchList[i].pointerId === e.pointerId) {\n//                     touchList[i] = { pageX: e.clientX, pageY: e.clientY, pointerId: e.pointerId };\n//                 } else {\n//                     touchList.push({ pageX: e.clientX, pageY: e.clientY, pointerId: e.pointerId });\n//                 }\n//             }\n//         }\n//     }\n//     return touchList;\n// }\n/**\n * @param {string} id - Specifies the id\n * @param {string} text - Specifies the text\n * @param {string} top - Specifies the top\n * @param {string} left - Specifies the left\n * @param {string} fontSize - Specifies the fontSize\n * @returns {void}\n * @private\n */\nexport function createTooltip(id, text, top, left, fontSize) {\n    var tooltip = getElement(id);\n    var style = 'top:' + top.toString() + 'px;' +\n        'left:' + left.toString() + 'px;' +\n        'color: #000000; ' +\n        'background:' + '#FFFFFF' + ';' +\n        'position:absolute;border:1px solid #707070;font-size:' + fontSize + ';border-radius:2px;';\n    if (!tooltip) {\n        tooltip = createElement('div', {\n            id: id, innerHTML: '&nbsp;' + text + '&nbsp;', styles: style\n        });\n        document.body.appendChild(tooltip);\n    }\n    else {\n        tooltip.setAttribute('innerHTML', '&nbsp;' + text + '&nbsp;');\n        tooltip.setAttribute('styles', style);\n    }\n}\n/**\n * @param {Point} location - Specifies the location\n * @param {string} shape - Specifies the shape\n * @param {Size} size - Specifies the size\n * @param {string} url - Specifies the url\n * @param {PathOption} options - Specifies the options\n * @returns {Element} - Returns the element\n * @private\n */\nexport function drawSymbol(location, shape, size, url, options) {\n    var functionName = 'Path';\n    var renderer = new SvgRenderer('');\n    var temp = renderLegendShape(location, size, shape, options, url);\n    var htmlObject = renderer['draw' + temp.functionName](temp.renderOption);\n    return htmlObject;\n}\n/**\n * @param {MapLocation} location - Specifies the location\n * @param {Size} size - Specifies the size\n * @param {string} shape - Specifies the shape\n * @param {PathOption} options - Specifies the path options\n * @param {string} url - Specifies the url\n * @returns {IShapes} - Returns the shapes\n * @private\n */\nexport function renderLegendShape(location, size, shape, options, url) {\n    var renderPath;\n    var functionName = 'Path';\n    var shapeWidth = size.width;\n    var shapeHeight = size.height;\n    var shapeX = location.x;\n    var shapeY = location.y;\n    var x = location.x + (-shapeWidth / 2);\n    var y = location.y + (-shapeHeight / 2);\n    options['stroke'] = (shape === 'HorizontalLine' || shape === 'VerticalLine' || shape === 'Cross') ? options['fill'] : options['stroke'];\n    options['stroke-width'] = (options['stroke-width'] === 0 && (shape === 'HorizontalLine' || shape === 'VerticalLine' || shape === 'Cross')) ? 1 : options['stroke-width'];\n    switch (shape) {\n        case 'Circle':\n        case 'Bubble':\n            functionName = 'Ellipse';\n            merge(options, { 'rx': shapeWidth / 2, 'ry': shapeHeight / 2, 'cx': shapeX, 'cy': shapeY });\n            break;\n        case 'VerticalLine':\n            renderPath = 'M' + ' ' + shapeX + ' ' + (shapeY + (shapeHeight / 2)) + ' ' + 'L' + ' ' + shapeX + ' '\n                + (shapeY + (-shapeHeight / 2));\n            merge(options, { 'd': renderPath });\n            break;\n        case 'HorizontalLine':\n            renderPath = 'M' + ' ' + shapeX + ' ' + shapeY + ' ' + 'L' + ' ' + (shapeX + (shapeWidth / 2)) + ' '\n                + shapeY;\n            merge(options, { 'd': renderPath });\n            break;\n        case 'Diamond':\n            renderPath = 'M' + ' ' + x + ' ' + shapeY + ' ' +\n                'L' + ' ' + shapeX + ' ' + (shapeY + (-shapeHeight / 2)) + ' ' +\n                'L' + ' ' + (shapeX + (shapeWidth / 2)) + ' ' + shapeY + ' ' +\n                'L' + ' ' + shapeX + ' ' + (shapeY + (shapeHeight / 2)) + ' ' +\n                'L' + ' ' + x + ' ' + shapeY + ' z';\n            merge(options, { 'd': renderPath });\n            break;\n        case 'Rectangle':\n            renderPath = 'M' + ' ' + x + ' ' + (shapeY + (-shapeHeight / 2)) + ' ' +\n                'L' + ' ' + (shapeX + (shapeWidth / 2)) + ' ' + (shapeY + (-shapeHeight / 2)) + ' ' +\n                'L' + ' ' + (shapeX + (shapeWidth / 2)) + ' ' + (shapeY + (shapeHeight / 2)) + ' ' +\n                'L' + ' ' + x + ' ' + (shapeY + (shapeHeight / 2)) + ' ' +\n                'L' + ' ' + x + ' ' + (shapeY + (-shapeHeight / 2)) + ' z';\n            merge(options, { 'd': renderPath });\n            break;\n        case 'Triangle':\n            renderPath = 'M' + ' ' + x + ' ' + (shapeY + (shapeHeight / 2)) + ' ' +\n                'L' + ' ' + shapeX + ' ' + (shapeY + (-shapeHeight / 2)) + ' ' +\n                'L' + ' ' + (shapeX + (shapeWidth / 2)) + ' ' + (shapeY + (shapeHeight / 2)) + ' ' +\n                'L' + ' ' + x + ' ' + (shapeY + (shapeHeight / 2)) + ' z';\n            merge(options, { 'd': renderPath });\n            break;\n        case 'InvertedTriangle':\n            renderPath = 'M' + ' ' + (shapeX + (shapeWidth / 2)) + ' ' + (shapeY - (shapeHeight / 2)) + ' ' +\n                'L' + ' ' + shapeX + ' ' + (shapeY + (shapeHeight / 2)) + ' ' +\n                'L' + ' ' + (shapeX - (shapeWidth / 2)) + ' ' + (shapeY - (shapeHeight / 2)) + ' ' +\n                'L' + ' ' + (shapeX + (shapeWidth / 2)) + ' ' + (shapeY - (shapeHeight / 2)) + ' z';\n            merge(options, { 'd': renderPath });\n            break;\n        case 'Pentagon':\n            // eslint-disable-next-line no-case-declarations\n            var eq = 72;\n            var xValue = void 0;\n            var yValue = void 0;\n            for (var i = 0; i <= 5; i++) {\n                xValue = (shapeWidth / 2) * Math.cos((Math.PI / 180) * (i * eq));\n                yValue = (shapeWidth / 2) * Math.sin((Math.PI / 180) * (i * eq));\n                if (i === 0) {\n                    renderPath = 'M' + ' ' + (shapeX + xValue) + ' ' + (shapeY + yValue) + ' ';\n                }\n                else {\n                    renderPath = renderPath.concat('L' + ' ' + (shapeX + xValue) + ' ' + (shapeY + yValue) + ' ');\n                }\n            }\n            renderPath = renderPath.concat('Z');\n            merge(options, { 'd': renderPath });\n            break;\n        case 'Star':\n            renderPath = 'M ' + (location.x + size.width / 3) + ' ' + (location.y - size.height / 2) + ' L ' + (location.x - size.width / 2)\n                + ' ' + (location.y + size.height / 6) + ' L ' + (location.x + size.width / 2) + ' ' + (location.y + size.height / 6)\n                + ' L ' + (location.x - size.width / 3) + ' ' + (location.y - size.height / 2) + ' L ' + location.x + ' ' +\n                (location.y + size.height / 2) + ' L ' + (location.x + size.width / 3) + ' ' + (location.y - size.height / 2) + ' Z';\n            merge(options, { 'd': renderPath });\n            break;\n        case 'Cross':\n            renderPath = 'M' + ' ' + x + ' ' + shapeY + ' ' + 'L' + ' ' + (shapeX + (shapeWidth / 2)) + ' ' + shapeY + ' ' +\n                'M' + ' ' + shapeX + ' ' + (shapeY + (shapeHeight / 2)) + ' ' + 'L' + ' ' + shapeX + ' ' +\n                (shapeY + (-shapeHeight / 2));\n            merge(options, { 'd': renderPath });\n            break;\n        case 'Image':\n            functionName = 'Image';\n            merge(options, { 'href': url, 'height': shapeHeight, 'width': shapeWidth, x: x, y: y });\n            break;\n    }\n    return { renderOption: options, functionName: functionName };\n}\n/**\n * Animation Effect Calculation End\n *\n * @private\n */\n// export function markerTemplateAnimate(element: Element, delay: number, duration: number, point: MapLocation): void {\n//     let delta: number = 0;\n//     let top: string = (element as HTMLElement).style.top;\n//     let y: number = parseInt(top, 10);\n//     new Animation({}).animate(<HTMLElement>element, {\n//         duration: duration,\n//         delay: delay,\n//         progress: (args: AnimationOptions): void => {\n//             if (args.timeStamp > args.delay) {\n//                 delta = ((args.timeStamp - args.delay) / args.duration);\n//                 (element as HTMLElement).style.top = y - 100 + (delta * 100) + 'px';\n//             }\n//         },\n//         end: (model: AnimationOptions) => {\n//             (element as HTMLElement).style.top = top;\n//         }\n//     });\n// }\n/**\n * @param {HTMLElement} childElement - Specifies the child element\n * @param {HTMLElement} parentElement - Specifies the parent element\n * @returns {Size} - Returns the size\n * @private\n */\nexport function getElementOffset(childElement, parentElement) {\n    parentElement.appendChild(childElement);\n    var width = childElement.offsetWidth;\n    var height = childElement.offsetHeight;\n    parentElement.removeChild(childElement);\n    return new Size(width, height);\n}\n/**\n * @param {Element} element - Specifies the element\n * @param {number} index - Specifies the element\n * @param {number} scale - Specifies the scale\n * @param {Maps} maps - Specifies the instance of the maps\n * @returns {void}\n * @private\n */\nexport function changeBorderWidth(element, index, scale, maps) {\n    var childNode;\n    for (var l = 0; l < element.childElementCount; l++) {\n        childNode = element.childNodes[l];\n        if (childNode.id.indexOf('_NavigationGroup') > -1) {\n            changeNavaigationLineWidth(childNode, index, scale, maps);\n        }\n        else {\n            var currentStroke = void 0;\n            var value = 0;\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var borderWidthValue = maps.layersCollection[index].shapeSettings.borderWidthValuePath;\n            var borderWidth = maps.layersCollection[index].shapeSettings.border.width;\n            if (maps.layersCollection[index].shapeSettings.borderWidthValuePath) {\n                value = checkShapeDataFields(\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                maps.layersCollection[index].dataSource, maps.layersCollection[index].layerData[l]['property'], maps.layersCollection[index].shapeDataPath, maps.layersCollection[index].shapePropertyPath, maps.layersCollection[index]);\n                if (value !== null) {\n                    if (maps.layersCollection[index].dataSource[value][borderWidthValue]) {\n                        currentStroke = maps.layersCollection[index].dataSource[value][borderWidthValue];\n                    }\n                    else {\n                        currentStroke = (isNullOrUndefined(borderWidth) ? 0 : borderWidth);\n                    }\n                }\n            }\n            else {\n                currentStroke = (isNullOrUndefined(borderWidth) ? 0 : borderWidth);\n            }\n            childNode.setAttribute('stroke-width', (currentStroke / scale).toString());\n            if (element.id.indexOf('_LineString') > -1 && isNullOrUndefined(currentStroke)) {\n                childNode.setAttribute('stroke-width', (1 / scale).toString());\n            }\n        }\n    }\n}\n/**\n * @param {Element} element - Specifies the element\n * @param {number} index - Specifies the element\n * @param {number} scale - Specifies the scale\n * @param {Maps} maps - Specifies the instance of the maps\n * @returns {void}\n * @private\n */\nexport function changeNavaigationLineWidth(element, index, scale, maps) {\n    var node;\n    for (var m = 0; m < element.childElementCount; m++) {\n        node = element.childNodes[m];\n        if (node.tagName === 'path') {\n            var currentStroke = (maps.layersCollection[index]\n                .navigationLineSettings[parseFloat(node.id.split('_NavigationIndex_')[1].split('_')[0])].width);\n            node.setAttribute('stroke-width', (currentStroke / scale).toString());\n        }\n    }\n}\n// /** Pinch zoom helper methods */\n/**\n * @param {PointerEvent | TouchEvent} event - Specifies the pointer or touch event\n * @returns {ITouches[]} - Returns the target\n * @private */\nexport function targetTouches(event) {\n    var targetTouches = [];\n    var touches = event.touches;\n    for (var i = 0; i < touches.length; i++) {\n        targetTouches.push({ pageX: touches[i].pageX, pageY: touches[i].pageY });\n    }\n    return targetTouches;\n}\n/**\n * @param {ITouches[]} startTouches - Specifies the start touches\n * @param {ITouches[]} endTouches - Specifies the end touches\n * @returns {number} - Returns the number\n * @private\n */\nexport function calculateScale(startTouches, endTouches) {\n    var startDistance = getDistance(startTouches[0], startTouches[1]);\n    var endDistance = getDistance(endTouches[0], endTouches[1]);\n    return (endDistance / startDistance);\n}\n/**\n * @param {ITouches} a - Specifies the a value\n * @param {ITouches} b - Specifies the b value\n * @returns {number} - Returns the number\n * @private */\nexport function getDistance(a, b) {\n    var x = a.pageX - b.pageX;\n    var y = a.pageY - b.pageY;\n    return Math.sqrt(x * x + y * y);\n}\n/**\n * @param {ITouches[]} touches - Specifies the touches\n * @param {Maps} maps - Specifies the instance of the maps\n * @returns {any[]} - Returns the object\n * @private\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function getTouches(touches, maps) {\n    var rect = maps.element.getBoundingClientRect();\n    var posTop = rect.top + document.defaultView.pageXOffset;\n    var posLeft = rect.left + document.defaultView.pageYOffset;\n    return Array.prototype.slice.call(touches).map(function (touch) {\n        return {\n            x: touch.pageX - posLeft,\n            y: touch.pageY - posTop\n        };\n    });\n}\n/**\n * @param {any[]} touches - Specifies the touches\n * @returns {Point} - Returns the point\n * @private\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function getTouchCenter(touches) {\n    return {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        x: touches.map(function (e) { return e['x']; }).reduce(sum) / touches.length,\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        y: touches.map(function (e) { return e['y']; }).reduce(sum) / touches.length\n    };\n}\n/**\n * @param {number} a - Specifies a value\n * @param {number} b - Specifies b value\n * @returns {number} - Returns the sum of a and b\n * @private\n */\nexport function sum(a, b) {\n    return a + b;\n}\n/**\n * Animation Effect Calculation End\n *\n * @param {Element} element - Specifies the element.\n * @param {number} delay - Specifies the delay.\n * @param {number} duration - Specifies the duration.\n * @param {MapLocation} point - Specifies the location.\n * @param {number} scale - Specifies the scale value.\n * @param {Size} size - Specifies the size.\n * @param {Maps} maps - Specifies the maps.\n * @returns {void}\n * @private\n */\nexport function zoomAnimate(element, delay, duration, point, scale, size, maps) {\n    var delta = 0;\n    var previousLocation = maps.previousPoint;\n    var preScale = maps.previousScale;\n    var diffScale = scale - preScale;\n    var currentLocation = new MapLocation(0, 0);\n    var currentScale = 1;\n    if (scale === preScale) {\n        element.setAttribute('transform', 'scale( ' + (scale) + ' ) translate( ' + point.x + ' ' + point.y + ' )');\n        return;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var slope = function (previousLocation, point) {\n        if (previousLocation.x === point.x) {\n            return null;\n        }\n        return (point.y - previousLocation.y) / (point.x - previousLocation.x);\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var intercept = function (point, slopeValue) {\n        if (slopeValue === null) {\n            return point.x;\n        }\n        return point.y - slopeValue * point.x;\n    };\n    var slopeFactor = slope(previousLocation, point);\n    var slopeIntersection = intercept(previousLocation, slopeFactor);\n    var horizontalDifference = point.x - previousLocation.x;\n    var verticalDifference = point.y - previousLocation.y;\n    animate(element, delay, duration, function (args) {\n        if (args.timeStamp > args.delay) {\n            delta = ((args.timeStamp - args.delay) / args.duration);\n            currentScale = preScale + (delta * diffScale);\n            currentLocation.x = previousLocation.x + (delta * horizontalDifference) / (currentScale / scale);\n            if (slopeFactor == null) {\n                currentLocation.y = previousLocation.y + (delta * verticalDifference);\n            }\n            else {\n                currentLocation.y = ((slopeFactor * currentLocation.x) + slopeIntersection);\n            }\n            args.element.setAttribute('transform', 'scale( ' + currentScale + ' ) ' +\n                'translate( ' + currentLocation.x + ' ' + currentLocation.y + ' )');\n            maps.translatePoint = currentLocation;\n            maps.scale = currentScale;\n            maps.zoomModule.processTemplate(point.x, point.y, currentScale, maps);\n        }\n    }, function () {\n        maps.translatePoint = point;\n        maps.scale = scale;\n        element.setAttribute('transform', 'scale( ' + (scale) + ' ) translate( ' + point.x + ' ' + point.y + ' )');\n        maps.zoomModule.processTemplate(point.x, point.y, scale, maps);\n    });\n}\n/**\n * To process custom animation\n *\n * @param {Element} element - Specifies the element\n * @param {number} delay - Specifies the delay\n * @param {number} duration - Specifies the duration\n * @param {Function} process - Specifies the process\n * @param {Function} end - Specifies the end\n * @returns {void}\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function animate(element, delay, duration, process, end) {\n    var _this = this;\n    var start = null;\n    // eslint-disable-next-line prefer-const\n    var clearAnimation;\n    var markerStyle = 'visibility:visible';\n    var startAnimation = function (timestamp) {\n        if (!start) {\n            start = timestamp;\n        }\n        var progress = timestamp - start;\n        if (progress < duration) {\n            process.call(_this, { element: element, delay: 0, timeStamp: progress, duration: duration });\n            window.requestAnimationFrame(startAnimation);\n        }\n        else {\n            window.cancelAnimationFrame(clearAnimation);\n            end.call(_this, { element: element });\n            element.setAttribute('style', markerStyle);\n        }\n    };\n    clearAnimation = window.requestAnimationFrame(startAnimation);\n}\n/**\n * To get shape data file using Ajax.\n */\nvar MapAjax = /** @class */ (function () {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    function MapAjax(options, type, async, contentType, sendData) {\n        this.dataOptions = options;\n        this.type = type || 'GET';\n        this.async = async || true;\n        this.contentType = contentType;\n        this.sendData = sendData;\n    }\n    return MapAjax;\n}());\nexport { MapAjax };\n/**\n * Animation Translate\n *\n * @param {Element} element - Specifies the element\n * @param {number} delay - Specifies the delay\n * @param {number} duration - Specifies the duration\n * @param {MapLocation} point - Specifies the location\n * @returns {void}\n * @private\n */\nexport function smoothTranslate(element, delay, duration, point) {\n    var delta = 0;\n    var transform = element.getAttribute('transform').split(' ');\n    if (transform.length === 2) {\n        transform[2] = transform[1].split(')')[0];\n        transform[1] = transform[0].split('(')[1];\n    }\n    var previousLocation = new MapLocation(parseInt(transform[1], 10), parseInt(transform[2], 10));\n    var diffx = point.x - previousLocation.x;\n    var diffy = point.y - previousLocation.y;\n    var currentLocation = new MapLocation(0, 0);\n    animate(element, delay, duration, function (args) {\n        if (args.timeStamp > args.delay) {\n            delta = ((args.timeStamp - args.delay) / args.duration);\n            currentLocation.x = previousLocation.x + (delta * diffx);\n            currentLocation.y = previousLocation.y + (delta * diffy);\n            args.element.setAttribute('transform', 'translate( ' + currentLocation.x + ' ' + currentLocation.y + ' )');\n        }\n    }, function () {\n        element.setAttribute('transform', 'translate( ' + point.x + ' ' + point.y + ' )');\n    });\n}\n/**\n * To find compare should zoom factor with previous factor and current factor\n *\n * @param {number} scaleFactor - Specifies the scale factor\n * @param {Maps} maps - Specifies the instance of the maps\n * @returns {void}\n */\nexport function compareZoomFactor(scaleFactor, maps) {\n    var previous = isNullOrUndefined(maps.shouldZoomPreviousFactor) ?\n        null : maps.shouldZoomPreviousFactor;\n    var current = isNullOrUndefined(maps.shouldZoomCurrentFactor) ?\n        null : maps.shouldZoomCurrentFactor;\n    if (!isNullOrUndefined(current)) {\n        maps.shouldZoomCurrentFactor = null;\n        maps.shouldZoomPreviousFactor = null;\n    }\n    else if (!isNullOrUndefined(previous)\n        && isNullOrUndefined(current)\n        && maps.shouldZoomPreviousFactor !== scaleFactor) {\n        maps.shouldZoomCurrentFactor = scaleFactor;\n    }\n    else {\n        maps.shouldZoomPreviousFactor = scaleFactor;\n    }\n}\n/**\n * To find zoom level for the min and max latitude values\n *\n * @param {number} minLat - Specifies the minimum latitude\n * @param {number} maxLat - Specifies the maximum latitude\n * @param {number} minLong - Specifies the minimum longitude\n * @param {number} maxLong - Specifies the maximum longitude\n * @param {number} mapWidth - Specifies the width of the maps\n * @param {number} mapHeight - Specifies the height of the maps\n * @param {Maps} maps - Specifies the instance of the maps\n * @returns {number} - Returns the scale factor\n */\nexport function calculateZoomLevel(minLat, maxLat, minLong, maxLong, mapWidth, mapHeight, maps) {\n    var scaleFactor;\n    var maxZoomFact = maps.zoomSettings.maxZoom;\n    var applyMethodeZoom;\n    var maxLatSin = Math.sin(maxLat * Math.PI / 180);\n    var maxLatRad = Math.log((1 + maxLatSin) / (1 - maxLatSin)) / 2;\n    var maxLatValue = Math.max(Math.min(maxLatRad, Math.PI), -Math.PI) / 2;\n    var minLatSin = Math.sin(minLat * Math.PI / 180);\n    var minLatRad = Math.log((1 + minLatSin) / (1 - minLatSin)) / 2;\n    var minLatValue = Math.max(Math.min(minLatRad, Math.PI), -Math.PI) / 2;\n    if (maps.zoomNotApplied && !maps.isTileMap) {\n        var latiRatio = Math.abs((maps.baseMapBounds.latitude.max - maps.baseMapBounds.latitude.min) / (maxLat - minLat));\n        var longiRatio = Math.abs((maps.baseMapBounds.longitude.max - maps.baseMapBounds.longitude.min) / (maxLong - minLong));\n        applyMethodeZoom = Math.min(latiRatio, longiRatio);\n        var minLocation = convertGeoToPoint(minLat, minLong, 1, maps.layersCollection[0], maps);\n        var maxLocation = convertGeoToPoint(maxLat, maxLong, 1, maps.layersCollection[0], maps);\n    }\n    var latRatio = (maxLatValue - minLatValue) / Math.PI;\n    var lngDiff = maxLong - minLong;\n    var lngRatio = ((lngDiff < 0) ? (lngDiff + 360) : lngDiff) / 360;\n    var WORLD_PX_HEIGHT = 256;\n    var WORLD_PX_WIDTH = 256;\n    var latZoom = (Math.log(mapHeight / WORLD_PX_HEIGHT / latRatio) / Math.LN2);\n    var lngZoom = (Math.log(mapWidth / WORLD_PX_WIDTH / lngRatio) / Math.LN2);\n    var result = (maps.zoomNotApplied && !maps.isTileMap) ? applyMethodeZoom : Math.min(latZoom, lngZoom);\n    scaleFactor = Math.min(result, maxZoomFact);\n    scaleFactor = maps.isTileMap || !maps.zoomNotApplied ? Math.floor(scaleFactor) : scaleFactor;\n    if (!maps.isTileMap) {\n        compareZoomFactor(scaleFactor, maps);\n    }\n    return scaleFactor;\n}\n/**\n * Method to get the result\n *\n * @param {any} e - Specifies the any type value\n * @returns {any} - Returns the data value\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function processResult(e) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var dataValue;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var resultValue = !isNullOrUndefined(e['result']) ? e['result'] : e['actual'];\n    if (isNullOrUndefined(resultValue.length)) {\n        if (!isNullOrUndefined(resultValue['Items'])) {\n            dataValue = resultValue['Items'];\n        }\n    }\n    else {\n        dataValue = resultValue;\n    }\n    return dataValue;\n}\n"]},"metadata":{},"sourceType":"module"}